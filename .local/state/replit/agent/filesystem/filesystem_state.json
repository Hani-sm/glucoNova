{"file_contents":{"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"server/models/User.ts":{"content":"import mongoose from 'mongoose';\nimport { UserRole } from '@shared/schema';\n\nconst userSchema = new mongoose.Schema({\n  name: {\n    type: String,\n    required: true,\n    trim: true,\n  },\n  email: {\n    type: String,\n    required: true,\n    unique: true,\n    lowercase: true,\n    trim: true,\n  },\n  password: {\n    type: String,\n    required: true,\n  },\n  role: {\n    type: String,\n    enum: ['patient', 'doctor', 'admin'],\n    default: 'patient',\n  },\n  isApproved: {\n    type: Boolean,\n    default: false,\n  },\n}, {\n  timestamps: true,\n});\n\nexport const UserModel = mongoose.model('User', userSchema);\n","size_bytes":603},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","size_bytes":1904},"client/src/App.tsx":{"content":"import { Switch, Route, Redirect } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { AuthProvider, useAuth } from \"@/lib/auth-context\";\nimport LoginPage from \"@/pages/LoginPage\";\nimport RegisterPage from \"@/pages/RegisterPage\";\nimport RoleSelectionPage from \"@/pages/RoleSelectionPage\";\nimport DashboardPage from \"@/pages/DashboardPage\";\nimport DoctorDashboard from \"@/pages/DoctorDashboard\";\nimport AdminDashboard from \"@/pages/AdminDashboard\";\nimport HealthDataPage from \"@/pages/HealthDataPage\";\nimport MealLoggingPage from \"@/pages/MealLoggingPage\";\nimport MedicalReportsPage from \"@/pages/MedicalReportsPage\";\nimport DoctorsPage from \"@/pages/DoctorsPage\";\nimport GlucosePage from \"@/pages/GlucosePage\";\nimport InsulinPage from \"@/pages/InsulinPage\";\nimport MedicationsPage from \"@/pages/MedicationsPage\";\nimport VoiceAIPage from \"@/pages/VoiceAIPage\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction ProtectedRoute({ component: Component, allowedRoles, requireApproval = true, ...rest }: any) {\n  const { user, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-neutral-900 via-zinc-900 to-neutral-950\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <div className=\"w-12 h-12 border-4 border-primary/30 border-t-primary rounded-full animate-spin\"></div>\n          <p className=\"text-foreground font-medium\">Loading your dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return <Redirect to=\"/login\" />;\n  }\n\n\n  if (allowedRoles && !allowedRoles.includes(user.role)) {\n    return <Redirect to=\"/dashboard\" />;\n  }\n\n  return <Component {...rest} />;\n}\n\nfunction Router() {\n  const { user } = useAuth();\n\n  return (\n    <Switch>\n      <Route path=\"/\">\n        {user ? <Redirect to=\"/dashboard\" /> : <Redirect to=\"/login\" />}\n      </Route>\n      <Route path=\"/login\" component={LoginPage} />\n      <Route path=\"/role-selection\" component={RoleSelectionPage} />\n      <Route path=\"/register\" component={RegisterPage} />\n      <Route path=\"/dashboard\">\n        {(params) => (\n          <ProtectedRoute \n            component={user?.role === 'doctor' ? DoctorDashboard : user?.role === 'admin' ? AdminDashboard : DashboardPage}\n            {...params}\n          />\n        )}\n      </Route>\n      <Route path=\"/health-data\">\n        {(params) => (\n          <ProtectedRoute \n            component={HealthDataPage}\n            allowedRoles={['patient']}\n            {...params}\n          />\n        )}\n      </Route>\n      <Route path=\"/meals\">\n        {(params) => (\n          <ProtectedRoute \n            component={MealLoggingPage}\n            allowedRoles={['patient']}\n            {...params}\n          />\n        )}\n      </Route>\n      <Route path=\"/reports\">\n        {(params) => (\n          <ProtectedRoute \n            component={MedicalReportsPage}\n            allowedRoles={['patient', 'doctor']}\n            {...params}\n          />\n        )}\n      </Route>\n      <Route path=\"/doctors\">\n        {(params) => (\n          <ProtectedRoute \n            component={DoctorsPage}\n            allowedRoles={['patient']}\n            {...params}\n          />\n        )}\n      </Route>\n      <Route path=\"/glucose\">\n        {(params) => (\n          <ProtectedRoute \n            component={GlucosePage}\n            allowedRoles={['patient']}\n            {...params}\n          />\n        )}\n      </Route>\n      <Route path=\"/insulin\">\n        {(params) => (\n          <ProtectedRoute \n            component={InsulinPage}\n            allowedRoles={['patient']}\n            {...params}\n          />\n        )}\n      </Route>\n      <Route path=\"/medications\">\n        {(params) => (\n          <ProtectedRoute \n            component={MedicationsPage}\n            allowedRoles={['patient']}\n            {...params}\n          />\n        )}\n      </Route>\n      <Route path=\"/voice\">\n        {(params) => (\n          <ProtectedRoute \n            component={VoiceAIPage}\n            allowedRoles={['patient']}\n            {...params}\n          />\n        )}\n      </Route>\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <AuthProvider>\n        <TooltipProvider>\n          <Toaster />\n          <Router />\n        </TooltipProvider>\n      </AuthProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":4636},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"design_guidelines.md":{"content":"# GlucoNova Design Guidelines\n\n## Visual Theme & Color System\n\n**Background Treatment:**\n- Dark navy gradient from #040815 to #071627\n- Subtle floating circular particles (low opacity, teal/light blue) as absolutely positioned divs\n\n**Card Styling:**\n- Background: dark bluish gray (#121826 to #1b2436)\n- Border radius: 18-24px\n- Soft drop shadows: shadow-xl with low opacity\n- Glassmorphism for login/register cards: semi-transparent dark (bg-slate-900/70), border border-white/10, backdrop-blur\n\n**Accent Colors:**\n- Success/Primary: #16a34a (green)\n- Highlights: #10b981 (teal/emerald)\n- CTA buttons: #f97316 (orange - e.g., \"Log Meal\")\n- Logout/destructive: red\n\n## Typography\n\n- System font stack or Tailwind's default\n- Headings: semibold/bold\n- Body text: normal weight\n- Color: white/light for dark background\n\n## Layout Structure\n\n**MainLayout (Logged-in):**\n- Left sidebar with navigation\n- Right content area for dashboard cards and graphs\n- Responsive: sidebar collapses/content stacks on smaller screens\n\n**PublicLayout (Login/Register/Role):**\n- Dark gradient background with floating dots\n- Centered card/panel (width ~420px for forms)\n\n**Sidebar Navigation:**\n- Top: round avatar with initials in green circle + \"GlucoNova\" app name\n- User card showing name and status (e.g., \"Diabetes in Range: 85%\")\n- Vertical navigation list with icons: Dashboard, My Details, My Doctors, Glucose, Insulin, Food AI, Medications, Voice AI, Records, Reports, Settings\n- Bottom: red \"Logout\"\n\n## Page Components\n\n**Login Page:**\n- Centered glassmorphism card (420px width)\n- Title \"GlucoNova\" (large, white, centered)\n- Subtitle in teal/green\n- Email/password inputs with labels above\n- \"Remember me\" checkbox + teal \"Forgot password?\" link\n- Green \"Sign In\" button\n- \"Don't have an account? Create one\" link\n- Footer: \"© 2025 GlucoNova. All rights reserved.\"\n\n**Role Selection:**\n- Large centered transparent card with blurred background\n- Title + subheading\n- Two big role cards in row (Patient Account, Healthcare Provider)\n- Each card: icon circle on top, badge, title, description, teal link at bottom\n- Hover effect: slightly raise and brighten\n- \"← Back to Login\" link below\n\n**Register Page:**\n- Similar narrow card as login\n- Email, password, confirm password fields\n- Role toggle: two side-by-side pill buttons (selected = green fill, other = outlined)\n- Info box card with light border\n- Green \"Create Account\" button\n- \"Already have an account? Log in\" link\n\n**Dashboard Page:**\n- Welcome section with user name and date overview\n- Row of 4 metric cards with: large number, unit, status label (rounded pill in green), icon top-right\n- Glucose Trends card with segmented control (6h/24h/7d/30d buttons - selected green, others dark)\n- Line chart with light green line, round dots, subtle area fill\n- Summary row below chart showing current status with badge\n- Voice Assistant card: microphone icon in circle, subtext, orange/green button, recognized text area\n- Streak/goals card: progress bars in teal\n- Quick Actions grid (2-3 per row): icon on left, title and description\n\n## Spacing & Layout\n\n- Generous padding in cards\n- Consistent spacing between sections\n- Metric cards span full width in row\n- Responsive grid for quick actions\n- Voice + Stats cards stack vertically on right or below main content\n\n## Interactive Elements\n\n- Buttons: filled green/orange with appropriate hover states\n- Pill buttons for toggles (filled when selected)\n- Segmented controls with active state in green\n- Cards with subtle hover effects (raise and brighten)\n- Progress bars in teal with percentage indicators\n\n## Images\n\nNo hero images required - this is a dashboard application focused on data visualization and functionality. All visual impact comes from the dark theme, glassmorphism effects, charts, and metrics.","size_bytes":3819},"client/src/pages/LoginPage.tsx":{"content":"import { useState, FormEvent } from 'react';\nimport { useLocation, Link } from 'wouter';\nimport PublicLayout from '@/components/PublicLayout';\nimport { Card } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Button } from '@/components/ui/button';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { useAuth } from '@/lib/auth-context';\nimport { useToast } from '@/hooks/use-toast';\nimport { Eye, EyeOff } from 'lucide-react';\n\nexport default function LoginPage() {\n  const [, navigate] = useLocation();\n  const { login } = useAuth();\n  const { toast } = useToast();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [rememberMe, setRememberMe] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n\n  const handleSubmit = async (e: FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n    \n    try {\n      await login(email, password);\n      \n      toast({\n        title: 'Login successful',\n        description: 'Welcome back to GlucoNova',\n      });\n      \n      // Use navigate for instant client-side routing (no page reload)\n      navigate('/dashboard');\n    } catch (error: any) {\n      toast({\n        title: 'Login failed',\n        description: error.message || 'Invalid credentials',\n        variant: 'destructive',\n      });\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <PublicLayout>\n      <Card \n        className=\"w-full max-w-[520px] backdrop-blur-md bg-white/8 border border-white/15 rounded-3xl px-12 py-12 shadow-2xl\"\n      >\n        <h1 className=\"text-[2.75rem] font-extrabold tracking-tight text-white text-center mb-3\">GlucoNova</h1>\n        <p className=\"text-[1.75rem] font-bold text-emerald-400 text-center mb-10\">Login</p>\n        \n        <form onSubmit={handleSubmit} className=\"space-y-7\">\n          <div>\n            <Label htmlFor=\"email\" className=\"text-gray-200 text-base font-semibold mb-3 block\">Email Address</Label>\n            <Input\n              id=\"email\"\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              className=\"w-full h-14 px-5 bg-white/5 border-[1.5px] border-white/10 text-white text-[1.05rem] placeholder-gray-400 rounded-xl focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/20 transition-all duration-300\"\n              placeholder=\"email@example.com\"\n              required\n              data-testid=\"input-email\"\n            />\n          </div>\n\n          <div>\n            <Label htmlFor=\"password\" className=\"text-gray-200 text-base font-semibold mb-3 block\">Password</Label>\n            <div className=\"relative\">\n              <Input\n                id=\"password\"\n                type={showPassword ? \"text\" : \"password\"}\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"w-full h-14 px-5 pr-12 bg-white/5 border-[1.5px] border-white/10 text-white text-[1.05rem] placeholder-gray-400 rounded-xl focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/20 transition-all duration-300\"\n                placeholder=\"Enter your password\"\n                required\n                data-testid=\"input-password\"\n              />\n              <button\n                type=\"button\"\n                onClick={() => setShowPassword(!showPassword)}\n                className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-emerald-400 transition-colors\"\n                data-testid=\"button-toggle-password\"\n              >\n                {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\n              </button>\n            </div>\n          </div>\n\n          <div className=\"flex items-center justify-between gap-3 pt-2\">\n            <div className=\"flex items-center space-x-2\">\n              <Checkbox\n                id=\"remember\"\n                checked={rememberMe}\n                onCheckedChange={(checked) => setRememberMe(checked as boolean)}\n                className=\"border-white/30 bg-white/5 text-emerald-400 focus:ring-emerald-400 h-5 w-5\"\n                data-testid=\"checkbox-remember\"\n              />\n              <label htmlFor=\"remember\" className=\"text-[0.95rem] text-gray-300 cursor-pointer\">\n                Remember me\n              </label>\n            </div>\n            <a href=\"#\" className=\"text-[0.95rem] text-emerald-400 hover:text-emerald-300 transition-colors\">\n              Forgot password?\n            </a>\n          </div>\n\n          <Button \n            type=\"submit\" \n            className=\"w-full h-14 text-[1.1rem] bg-gradient-to-r from-emerald-500 to-emerald-400 hover:from-emerald-400 hover:to-emerald-300 text-white font-bold transition-all duration-300 shadow-lg hover:shadow-emerald-500/30 mt-6 relative\" \n            disabled={isLoading} \n            data-testid=\"button-signin\"\n          >\n            {isLoading ? (\n              <span className=\"flex items-center gap-2\">\n                <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\"></div>\n                Signing in...\n              </span>\n            ) : 'Sign In'}\n          </Button>\n        </form>\n\n        <p className=\"text-center text-[0.95rem] text-gray-200 mt-7\">\n          Don't have an account?{' '}\n          <Link href=\"/role-selection\" className=\"text-emerald-400 hover:text-emerald-300 transition-colors\" data-testid=\"link-register\">\n            Create one\n          </Link>\n        </p>\n\n        <p className=\"text-center text-[0.85rem] text-white/60 mt-9\">\n          © 2025 GlucoNova. All rights reserved.\n        </p>\n      </Card>\n    </PublicLayout>\n  );\n}\n","size_bytes":5823},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/examples/RegisterPage.tsx":{"content":"import RegisterPage from '../../pages/RegisterPage';\n\nexport default function RegisterPageExample() {\n  return <RegisterPage />;\n}\n","size_bytes":131},"client/src/components/PublicLayout.tsx":{"content":"interface PublicLayoutProps {\n  children: React.ReactNode;\n}\n\nexport default function PublicLayout({ children }: PublicLayoutProps) {\n  // Floating emerald dots - noticeable movement\n  const floatingDots = [\n    { id: 1, size: 12, left: 15, top: 10, duration: 18, delay: 0, xRange: 28, yRange: 35 },\n    { id: 2, size: 14, left: 85, top: 15, duration: 22, delay: 2, xRange: -32, yRange: 38 },\n    { id: 3, size: 16, left: 10, top: 70, duration: 20, delay: 4, xRange: 35, yRange: -30 },\n    { id: 4, size: 13, left: 88, top: 75, duration: 24, delay: 1, xRange: -26, yRange: 33 },\n    { id: 5, size: 15, left: 5, top: 50, duration: 19, delay: 3, xRange: 30, yRange: -36 },\n    { id: 6, size: 14, left: 92, top: 45, duration: 21, delay: 5, xRange: -29, yRange: 34 },\n    { id: 7, size: 12, left: 20, top: 30, duration: 23, delay: 0.5, xRange: 33, yRange: 40 },\n    { id: 8, size: 17, left: 78, top: 25, duration: 17, delay: 2.5, xRange: -34, yRange: -32 },\n    { id: 9, size: 13, left: 12, top: 85, duration: 25, delay: 1.5, xRange: 27, yRange: 35 },\n    { id: 10, size: 15, left: 90, top: 60, duration: 20, delay: 3.5, xRange: -31, yRange: 37 },\n    { id: 11, size: 14, left: 25, top: 88, duration: 22, delay: 4.5, xRange: 32, yRange: -35 },\n    { id: 12, size: 16, left: 82, top: 90, duration: 19, delay: 2.2, xRange: -28, yRange: 33 },\n    { id: 13, size: 18, left: 40, top: 18, duration: 21, delay: 1.8, xRange: 30, yRange: 34 },\n    { id: 14, size: 13, left: 65, top: 55, duration: 23, delay: 3.2, xRange: -33, yRange: -36 },\n    { id: 15, size: 15, left: 8, top: 35, duration: 18, delay: 0.8, xRange: 26, yRange: 31 },\n    { id: 16, size: 17, left: 95, top: 82, duration: 24, delay: 4.2, xRange: -35, yRange: 38 },\n  ];\n\n  // Uneven circular elements with varying opacity\n  const unevenCircles = [\n    { id: 1, size: 25, left: 30, top: 20, duration: 20, delay: 0, opacity: 0.08, xRange: 38, yRange: 45 },\n    { id: 2, size: 35, left: 70, top: 65, duration: 19, delay: 3, opacity: 0.32, xRange: -42, yRange: 48 },\n    { id: 3, size: 20, left: 18, top: 55, duration: 22, delay: 1.5, opacity: 0.06, xRange: 45, yRange: -40 },\n    { id: 4, size: 30, left: 85, top: 35, duration: 18, delay: 4, opacity: 0.25, xRange: -40, yRange: 46 },\n    { id: 5, size: 28, left: 50, top: 80, duration: 24, delay: 2.5, opacity: 0.15, xRange: 43, yRange: -42 },\n    { id: 6, size: 22, left: 12, top: 25, duration: 21, delay: 5, opacity: 0.1, xRange: -46, yRange: 50 },\n    { id: 7, size: 32, left: 60, top: 10, duration: 23, delay: 1, opacity: 0.28, xRange: 37, yRange: 41 },\n    { id: 8, size: 24, left: 92, top: 70, duration: 19, delay: 3.5, opacity: 0.12, xRange: -44, yRange: -47 },\n  ];\n\n  return (\n    <div className=\"min-h-screen w-full bg-gradient-to-br from-neutral-900 via-zinc-900 to-neutral-950 text-white overflow-x-hidden relative\">\n      \n      {/* Animated Light Waves - Behind everything */}\n      <div className=\"absolute inset-0 pointer-events-none\" style={{ zIndex: -1 }}>\n        <div \n          className=\"absolute top-0 left-0 right-0 h-96 opacity-30\"\n          style={{\n            background: 'radial-gradient(ellipse 80% 50% at 50% 0%, rgba(52, 211, 153, 0.08), transparent)',\n            animation: 'wave1 15s ease-in-out infinite',\n          }}\n        />\n        <div \n          className=\"absolute top-1/3 left-0 right-0 h-96 opacity-20\"\n          style={{\n            background: 'radial-gradient(ellipse 70% 40% at 30% 50%, rgba(52, 211, 153, 0.06), transparent)',\n            animation: 'wave2 18s ease-in-out infinite',\n          }}\n        />\n        <div \n          className=\"absolute bottom-0 left-0 right-0 h-96 opacity-25\"\n          style={{\n            background: 'radial-gradient(ellipse 75% 45% at 70% 100%, rgba(52, 211, 153, 0.07), transparent)',\n            animation: 'wave3 20s ease-in-out infinite',\n          }}\n        />\n      </div>\n\n      {/* Small Floating Dots - Above waves */}\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\" style={{ zIndex: 1 }}>\n        {floatingDots.map((dot) => (\n          <div\n            key={dot.id}\n            className=\"absolute rounded-full bg-emerald-400/50\"\n            style={{\n              width: `${dot.size}px`,\n              height: `${dot.size}px`,\n              left: `${dot.left}%`,\n              top: `${dot.top}%`,\n              animation: `floatDot${dot.id} ${dot.duration}s ease-in-out infinite`,\n              animationDelay: `${dot.delay}s`,\n            }}\n          />\n        ))}\n      </div>\n\n      {/* Uneven Circular Elements - Above waves */}\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\" style={{ zIndex: 1 }}>\n        {unevenCircles.map((circle) => (\n          <div\n            key={`circle-${circle.id}`}\n            className=\"absolute rounded-full bg-emerald-400\"\n            style={{\n              width: `${circle.size}px`,\n              height: `${circle.size}px`,\n              left: `${circle.left}%`,\n              top: `${circle.top}%`,\n              opacity: circle.opacity,\n              animation: `floatCircle${circle.id} ${circle.duration}s ease-in-out infinite`,\n              animationDelay: `${circle.delay}s`,\n            }}\n          />\n        ))}\n      </div>\n\n      <div className=\"relative z-10 flex items-center justify-center min-h-screen px-4 py-8\">\n        <div className=\"relative w-full max-w-lg\">\n          {children}\n        </div>\n      </div>\n\n      <style>{`\n        ${floatingDots.map((dot) => `\n          @keyframes floatDot${dot.id} {\n            0%, 100% { \n              transform: translate3d(0, 0, 0); \n              opacity: 0.4; \n            }\n            25% { \n              transform: translate3d(${dot.xRange * 0.4}px, ${dot.yRange * 0.4}px, 0); \n              opacity: 0.5; \n            }\n            50% { \n              transform: translate3d(${dot.xRange}px, ${dot.yRange}px, 0); \n              opacity: 0.6; \n            }\n            75% { \n              transform: translate3d(${dot.xRange * 0.6}px, ${dot.yRange * 0.7}px, 0); \n              opacity: 0.48; \n            }\n          }\n        `).join('\\n')}\n\n        ${unevenCircles.map((circle) => `\n          @keyframes floatCircle${circle.id} {\n            0%, 100% { \n              transform: translate3d(0, 0, 0) scale(1); \n              opacity: ${circle.opacity}; \n            }\n            25% { \n              transform: translate3d(${circle.xRange * 0.5}px, ${circle.yRange * 0.4}px, 0) scale(1.05); \n              opacity: ${circle.opacity * 1.3}; \n            }\n            50% { \n              transform: translate3d(${circle.xRange}px, ${circle.yRange}px, 0) scale(1.1); \n              opacity: ${circle.opacity * 1.5}; \n            }\n            75% { \n              transform: translate3d(${circle.xRange * 0.7}px, ${circle.yRange * 0.6}px, 0) scale(1.03); \n              opacity: ${circle.opacity * 1.2}; \n            }\n          }\n        `).join('\\n')}\n\n        @keyframes wave1 {\n          0%, 100% { \n            transform: translateY(0) scaleX(1);\n            opacity: 0.3;\n          }\n          50% { \n            transform: translateY(-30px) scaleX(1.1);\n            opacity: 0.4;\n          }\n        }\n\n        @keyframes wave2 {\n          0%, 100% { \n            transform: translateX(0) scaleY(1);\n            opacity: 0.2;\n          }\n          50% { \n            transform: translateX(40px) scaleY(1.15);\n            opacity: 0.3;\n          }\n        }\n\n        @keyframes wave3 {\n          0%, 100% { \n            transform: translateY(0) scaleX(1);\n            opacity: 0.25;\n          }\n          50% { \n            transform: translateY(30px) scaleX(1.1);\n            opacity: 0.35;\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n","size_bytes":7730},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"server/models/MedicalReport.ts":{"content":"import mongoose from 'mongoose';\n\nconst medicalReportSchema = new mongoose.Schema({\n  userId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true,\n  },\n  patientId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true,\n  },\n  fileName: {\n    type: String,\n    required: true,\n  },\n  fileUrl: {\n    type: String,\n    required: true,\n  },\n  fileType: {\n    type: String,\n    required: true,\n    enum: ['application/pdf', 'image/jpeg', 'image/png'],\n  },\n  fileSize: {\n    type: Number,\n    required: true,\n    max: 20 * 1024 * 1024, // 20MB max\n  },\n  uploadedBy: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true,\n  },\n  description: String,\n  uploadedAt: {\n    type: Date,\n    default: Date.now,\n  },\n}, {\n  timestamps: true,\n});\n\nmedicalReportSchema.index({ patientId: 1, uploadedAt: -1 });\n\nexport const MedicalReportModel = mongoose.model('MedicalReport', medicalReportSchema);\n","size_bytes":966},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\nimport cors from \"cors\";\n\nconst app = express();\n\napp.use(cors());\n\ndeclare module 'http' {\n  interface IncomingMessage {\n    rawBody: unknown\n  }\n}\napp.use(express.json({\n  verify: (req, _res, buf) => {\n    req.rawBody = buf;\n  }\n}));\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"…\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":2253},"client/src/lib/api.ts":{"content":"const API_URL = '/api';\n\nclass ApiClient {\n  private getToken(): string | null {\n    return localStorage.getItem('token');\n  }\n\n  private getHeaders(): HeadersInit {\n    const headers: HeadersInit = {\n      'Content-Type': 'application/json',\n    };\n    \n    const token = this.getToken();\n    if (token) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n    \n    return headers;\n  }\n\n  async request<T>(endpoint: string, options: RequestInit = {}): Promise<T> {\n    const response = await fetch(`${API_URL}${endpoint}`, {\n      ...options,\n      headers: {\n        ...this.getHeaders(),\n        ...options.headers,\n      },\n    });\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({ message: 'Request failed' }));\n      throw new Error(error.message || 'Request failed');\n    }\n\n    return response.json();\n  }\n\n  // Auth\n  async register(data: { name: string; email: string; password: string; role: string }) {\n    return this.request<{ token: string; user: any }>('/auth/register', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async login(data: { email: string; password: string }) {\n    return this.request<{ token: string; user: any }>('/auth/login', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async getMe() {\n    return this.request<any>('/auth/me');\n  }\n\n  // Health Data\n  async createHealthData(data: { glucose: number; insulin: number; carbs: number; activityLevel?: string; notes?: string }) {\n    return this.request<{ data: any }>('/health-data', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async getHealthData(userId?: string) {\n    const params = userId ? `?userId=${userId}` : '';\n    return this.request<{ data: any[] }>(`/health-data${params}`);\n  }\n\n  async getLatestHealthData() {\n    return this.request<{ data: any }>('/health-data/latest');\n  }\n\n  // Meals\n  async createMeal(data: { name: string; carbs: number; protein?: number; fat?: number; calories?: number; voiceRecorded?: boolean }) {\n    return this.request<{ data: any }>('/meals', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async getMeals(userId?: string) {\n    const params = userId ? `?userId=${userId}` : '';\n    return this.request<{ data: any[] }>(`/meals${params}`);\n  }\n\n  // Doctor\n  async getPatients() {\n    return this.request<{ patients: any[] }>('/doctor/patients');\n  }\n\n  // Admin\n  async getAllUsers() {\n    return this.request<{ users: any[] }>('/admin/users');\n  }\n\n  async updateUserApproval(userId: string, isApproved: boolean) {\n    return this.request<{ user: any }>(`/admin/users/${userId}/approve`, {\n      method: 'PATCH',\n      body: JSON.stringify({ isApproved }),\n    });\n  }\n\n  // Reports\n  async uploadReport(file: File, patientId?: string, description?: string) {\n    const formData = new FormData();\n    formData.append('file', file);\n    if (patientId) formData.append('patientId', patientId);\n    if (description) formData.append('description', description);\n\n    const token = this.getToken();\n    const headers: HeadersInit = {};\n    if (token) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n\n    const response = await fetch(`${API_URL}/reports/upload`, {\n      method: 'POST',\n      headers,\n      body: formData,\n    });\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({ message: 'Upload failed' }));\n      throw new Error(error.message || 'Upload failed');\n    }\n\n    return response.json();\n  }\n\n  async getReports(patientId?: string) {\n    const params = patientId ? `?patientId=${patientId}` : '';\n    return this.request<{ reports: any[] }>(`/reports${params}`);\n  }\n}\n\nexport const api = new ApiClient();\n\nexport function setAuthToken(token: string) {\n  localStorage.setItem('token', token);\n}\n\nexport function removeAuthToken() {\n  localStorage.removeItem('token');\n}\n\nexport function getAuthToken(): string | null {\n  return localStorage.getItem('token');\n}\n\nexport function getCurrentUser() {\n  const userStr = localStorage.getItem('user');\n  return userStr ? JSON.parse(userStr) : null;\n}\n\nexport function setCurrentUser(user: any) {\n  localStorage.setItem('user', JSON.stringify(user));\n}\n\nexport function removeCurrentUser() {\n  localStorage.removeItem('user');\n}\n\nexport function logout() {\n  removeAuthToken();\n  removeCurrentUser();\n}\n","size_bytes":4376},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/QuickActionCard.tsx":{"content":"import { Card } from '@/components/ui/card';\nimport { LucideIcon } from 'lucide-react';\n\ninterface QuickActionCardProps {\n  icon: LucideIcon;\n  title: string;\n  description: string;\n  iconBgColor?: string;\n  iconColor?: string;\n}\n\nexport default function QuickActionCard({ \n  icon: Icon, \n  title, \n  description,\n  iconBgColor = 'rgba(33, 200, 155, 0.2)',\n  iconColor = '#21C89B'\n}: QuickActionCardProps) {\n  return (\n    <Card \n      className=\"p-5 card-interactive glass-card cursor-pointer\" \n      onClick={() => console.log(`${title} clicked`)}\n      data-testid={`card-action-${title.toLowerCase().replace(' ', '-')}`}\n    >\n      <div className=\"flex items-center gap-4\">\n        <div \n          className=\"w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0\"\n          style={{ backgroundColor: iconBgColor }}\n        >\n          <Icon className=\"h-6 w-6\" style={{ color: iconColor }} />\n        </div>\n        <div className=\"flex-1\">\n          <h4 className=\"font-bold text-base text-foreground mb-1\">{title}</h4>\n          <p className=\"text-sm text-muted-foreground leading-relaxed\">{description}</p>\n        </div>\n      </div>\n    </Card>\n  );\n}\n","size_bytes":1176},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":2359},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"shared/schema.ts":{"content":"import { pgTable, serial, text, varchar, timestamp, boolean, integer, decimal, json } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const userRoles = ['patient', 'doctor', 'admin'] as const;\nexport type UserRole = typeof userRoles[number];\n\nexport const activityLevels = ['sedentary', 'light', 'moderate', 'active', 'very_active'] as const;\nexport type ActivityLevel = typeof activityLevels[number];\n\n// ==================== DRIZZLE TABLES ====================\n\nexport const users = pgTable(\"users\", {\n  id: serial(\"id\").primaryKey(),\n  name: varchar(\"name\", { length: 255 }).notNull(),\n  email: varchar(\"email\", { length: 255 }).notNull().unique(),\n  password: varchar(\"password\", { length: 255 }).notNull(),\n  role: varchar(\"role\", { length: 50 }).$type<UserRole>().notNull(),\n  isApproved: boolean(\"is_approved\").notNull().default(true),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n});\n\nexport const healthData = pgTable(\"health_data\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").notNull().references(() => users.id, { onDelete: 'cascade' }),\n  glucose: integer(\"glucose\").notNull(),\n  insulin: integer(\"insulin\").notNull(),\n  carbs: integer(\"carbs\").notNull(),\n  activityLevel: varchar(\"activity_level\", { length: 50 }).$type<ActivityLevel>(),\n  notes: text(\"notes\"),\n  timestamp: timestamp(\"timestamp\").notNull().defaultNow(),\n});\n\nexport const meals = pgTable(\"meals\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").notNull().references(() => users.id, { onDelete: 'cascade' }),\n  name: varchar(\"name\", { length: 255 }).notNull(),\n  carbs: integer(\"carbs\").notNull(),\n  protein: integer(\"protein\"),\n  fat: integer(\"fat\"),\n  calories: integer(\"calories\"),\n  voiceRecorded: boolean(\"voice_recorded\").notNull().default(false),\n  timestamp: timestamp(\"timestamp\").notNull().defaultNow(),\n});\n\nexport const medicalReports = pgTable(\"medical_reports\", {\n  id: serial(\"id\").primaryKey(),\n  patientId: integer(\"patient_id\").notNull().references(() => users.id, { onDelete: 'cascade' }),\n  fileName: varchar(\"file_name\", { length: 255 }).notNull(),\n  fileUrl: varchar(\"file_url\", { length: 500 }).notNull(),\n  fileType: varchar(\"file_type\", { length: 100 }).notNull(),\n  fileSize: integer(\"file_size\").notNull(),\n  uploadedBy: integer(\"uploaded_by\").notNull().references(() => users.id),\n  description: text(\"description\"),\n  uploadedAt: timestamp(\"uploaded_at\").notNull().defaultNow(),\n});\n\nexport const predictions = pgTable(\"predictions\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").notNull().references(() => users.id, { onDelete: 'cascade' }),\n  predictedInsulin: integer(\"predicted_insulin\").notNull(),\n  confidence: integer(\"confidence\").notNull(),\n  factors: json(\"factors\").$type<string[]>().notNull(),\n  timestamp: timestamp(\"timestamp\").notNull().defaultNow(),\n});\n\nexport const userProfiles = pgTable(\"user_profiles\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").notNull().references(() => users.id, { onDelete: 'cascade' }).unique(),\n  dateOfBirth: varchar(\"date_of_birth\", { length: 50 }),\n  weight: decimal(\"weight\", { precision: 5, scale: 2 }),\n  height: decimal(\"height\", { precision: 5, scale: 2 }),\n  lastA1c: decimal(\"last_a1c\", { precision: 4, scale: 2 }),\n  medications: varchar(\"medications\", { length: 500 }),\n  typicalInsulin: decimal(\"typical_insulin\", { precision: 5, scale: 2 }),\n  targetRange: varchar(\"target_range\", { length: 50 }),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n});\n\n// ==================== DRIZZLE-ZOD INSERT SCHEMAS ====================\n\nexport const insertUserSchema = createInsertSchema(users, {\n  name: z.string().min(2, \"Name must be at least 2 characters\"),\n  email: z.string().email(\"Invalid email address\"),\n  password: z.string().min(6, \"Password must be at least 6 characters\"),\n  role: z.enum(userRoles),\n  isApproved: z.boolean().default(true),\n}).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const loginSchema = z.object({\n  email: z.string().email(\"Invalid email address\"),\n  password: z.string().min(1, \"Password is required\"),\n});\n\nexport const insertHealthDataSchema = createInsertSchema(healthData, {\n  glucose: z.coerce.number().min(0).max(1000),\n  insulin: z.coerce.number().min(0).max(200),\n  carbs: z.coerce.number().min(0).max(500),\n  activityLevel: z.enum(activityLevels).optional(),\n  notes: z.string().optional(),\n}).omit({\n  id: true,\n  userId: true,\n  timestamp: true,\n});\n\nexport const insertMealSchema = createInsertSchema(meals, {\n  name: z.string().min(1, \"Meal name is required\"),\n  carbs: z.coerce.number().min(0),\n  protein: z.coerce.number().min(0).optional(),\n  fat: z.coerce.number().min(0).optional(),\n  calories: z.coerce.number().min(0).optional(),\n  voiceRecorded: z.boolean().default(false),\n}).omit({\n  id: true,\n  userId: true,\n  timestamp: true,\n});\n\nexport const insertMedicalReportSchema = createInsertSchema(medicalReports, {\n  patientId: z.coerce.number(),\n  description: z.string().optional(),\n}).omit({\n  id: true,\n  fileName: true,\n  fileUrl: true,\n  fileType: true,\n  fileSize: true,\n  uploadedBy: true,\n  uploadedAt: true,\n});\n\nexport const insertPredictionSchema = createInsertSchema(predictions, {\n  predictedInsulin: z.coerce.number().min(0),\n  confidence: z.coerce.number().min(0).max(1),\n  factors: z.array(z.string()),\n}).omit({\n  id: true,\n  userId: true,\n  timestamp: true,\n});\n\nexport const insertUserProfileSchema = createInsertSchema(userProfiles, {\n  weight: z.coerce.number().positive().optional(),\n  height: z.coerce.number().positive().optional(),\n  lastA1c: z.coerce.number().positive().optional(),\n  typicalInsulin: z.coerce.number().positive().optional(),\n  dateOfBirth: z.string().optional(),\n  medications: z.string().optional(),\n  targetRange: z.string().optional(),\n}).omit({\n  id: true,\n  userId: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\n// ==================== TYPE EXPORTS ====================\n\n// API types (with _id as string for backward compatibility)\nexport interface User {\n  _id: string;\n  name: string;\n  email: string;\n  password: string;\n  role: UserRole;\n  isApproved: boolean;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface HealthData {\n  _id: string;\n  userId: string;\n  glucose: number;\n  insulin: number;\n  carbs: number;\n  activityLevel?: string;\n  notes?: string;\n  timestamp: Date;\n}\n\nexport interface Meal {\n  _id: string;\n  userId: string;\n  name: string;\n  carbs: number;\n  protein?: number;\n  fat?: number;\n  calories?: number;\n  voiceRecorded: boolean;\n  timestamp: Date;\n}\n\nexport interface MedicalReport {\n  _id: string;\n  patientId: string;\n  fileName: string;\n  fileUrl: string;\n  fileType: string;\n  fileSize: number;\n  uploadedBy: string;\n  description?: string;\n  uploadedAt: Date;\n}\n\nexport interface Prediction {\n  _id: string;\n  userId: string;\n  predictedInsulin: number;\n  confidence: number;\n  factors: string[];\n  timestamp: Date;\n}\n\nexport interface UserProfile {\n  _id: string;\n  userId: string;\n  dateOfBirth?: string;\n  weight?: number;\n  height?: number;\n  lastA1c?: number;\n  medications?: string;\n  typicalInsulin?: number;\n  targetRange?: string;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type LoginData = z.infer<typeof loginSchema>;\nexport type InsertHealthData = z.infer<typeof insertHealthDataSchema>;\nexport type InsertMeal = z.infer<typeof insertMealSchema>;\nexport type InsertMedicalReport = z.infer<typeof insertMedicalReportSchema>;\nexport type InsertPrediction = z.infer<typeof insertPredictionSchema>;\nexport type InsertUserProfile = z.infer<typeof insertUserProfileSchema>;\n\n// Legacy schema names for backward compatibility\nexport const healthDataSchema = insertHealthDataSchema;\nexport const mealSchema = insertMealSchema;\n","size_bytes":8011},"client/src/components/examples/DashboardPage.tsx":{"content":"import DashboardPage from '../../pages/DashboardPage';\n\nexport default function DashboardPageExample() {\n  return <DashboardPage />;\n}\n","size_bytes":135},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":1080},"client/src/components/examples/AppSidebar.tsx":{"content":"import AppSidebar from '../AppSidebar';\nimport { SidebarProvider } from '@/components/ui/sidebar';\n\nexport default function AppSidebarExample() {\n  const style = {\n    '--sidebar-width': '20rem',\n    '--sidebar-width-icon': '4rem',\n  };\n\n  return (\n    <SidebarProvider style={style as React.CSSProperties}>\n      <div className=\"flex h-screen w-full bg-background\">\n        <AppSidebar />\n        <main className=\"flex-1 p-6\">\n          <h1 className=\"text-2xl font-bold\">Main Content Area</h1>\n          <p className=\"text-muted-foreground\">This is where the dashboard content would appear</p>\n        </main>\n      </div>\n    </SidebarProvider>\n  );\n}\n","size_bytes":655},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/examples/ProgressCard.tsx":{"content":"import ProgressCard from '../ProgressCard';\n\nexport default function ProgressCardExample() {\n  return (\n    <div className=\"p-6 bg-background max-w-md\">\n      <ProgressCard />\n    </div>\n  );\n}\n","size_bytes":194},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \"1.125rem\", /* 18px */\n        md: \"0.75rem\", /* 12px */\n        sm: \"0.375rem\", /* 6px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":4052},"client/src/components/examples/FloatingParticles.tsx":{"content":"import FloatingParticles from '../FloatingParticles';\n\nexport default function FloatingParticlesExample() {\n  return (\n    <div className=\"h-screen w-full bg-gradient-to-br from-[#040815] to-[#071627] relative\">\n      <FloatingParticles />\n      <div className=\"relative z-10 flex items-center justify-center h-full\">\n        <p className=\"text-white text-lg\">Floating particles background effect</p>\n      </div>\n    </div>\n  );\n}\n","size_bytes":432},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/lib/auth-context.tsx":{"content":"import { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { api, setAuthToken, removeAuthToken, setCurrentUser, removeCurrentUser, getCurrentUser, getAuthToken } from './api';\n\ninterface User {\n  id: string;\n  name: string;\n  email: string;\n  role: 'patient' | 'doctor' | 'admin';\n  isApproved: boolean;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  loading: boolean;\n  login: (email: string, password: string) => Promise<void>;\n  register: (name: string, email: string, password: string, role: string) => Promise<void>;\n  logout: () => void;\n  isAuthenticated: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const initAuth = async () => {\n      const token = getAuthToken();\n      \n      if (token) {\n        try {\n          const response = await api.getMe();\n          setUser(response);\n          setCurrentUser(response);\n        } catch (error) {\n          removeAuthToken();\n          removeCurrentUser();\n          setUser(null);\n        }\n      }\n      \n      setLoading(false);\n    };\n\n    initAuth();\n  }, []);\n\n  const login = async (email: string, password: string) => {\n    const response = await api.login({ email, password });\n    setAuthToken(response.token);\n    setUser(response.user);\n    setCurrentUser(response.user);\n  };\n\n  const register = async (name: string, email: string, password: string, role: string) => {\n    const response = await api.register({ name, email, password, role });\n    setAuthToken(response.token);\n    setUser(response.user);\n    setCurrentUser(response.user);\n  };\n\n  const logout = () => {\n    removeAuthToken();\n    removeCurrentUser();\n    setUser(null);\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, loading, login, register, logout, isAuthenticated: !!user }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n","size_bytes":2253},"client/src/components/examples/MetricCard.tsx":{"content":"import MetricCard from '../MetricCard';\nimport { Droplet, Target, Utensils, Syringe } from 'lucide-react';\n\nexport default function MetricCardExample() {\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-6 bg-background\">\n      <MetricCard\n        title=\"Glucose\"\n        value=\"112\"\n        unit=\"mg/dL\"\n        status=\"In Range\"\n        icon={Droplet}\n      />\n      <MetricCard\n        title=\"Time in Range\"\n        value=\"85%\"\n        unit=\"\"\n        status=\"Excellent • +12%\"\n        icon={Target}\n      />\n      <MetricCard\n        title=\"Carbs\"\n        value=\"45g\"\n        unit=\"\"\n        status=\"On Track • 25% used\"\n        icon={Utensils}\n      />\n      <MetricCard\n        title=\"Active Insulin\"\n        value=\"2.5U\"\n        unit=\"\"\n        status=\"Active • -1.2U\"\n        icon={Syringe}\n      />\n    </div>\n  );\n}\n","size_bytes":868},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/examples/LoginPage.tsx":{"content":"import LoginPage from '../../pages/LoginPage';\n\nexport default function LoginPageExample() {\n  return <LoginPage />;\n}\n","size_bytes":119},"client/src/pages/DashboardPage.tsx":{"content":"import { useState, useEffect } from 'react';\nimport AppSidebar from '@/components/AppSidebar';\nimport MetricCard from '@/components/MetricCard';\nimport GlucoseTrendChart from '@/components/GlucoseTrendChart';\nimport VoiceAssistantCard from '@/components/VoiceAssistantCard';\nimport ProgressCard from '@/components/ProgressCard';\nimport QuickActionCard from '@/components/QuickActionCard';\nimport OnboardingModal from '@/components/OnboardingModal';\nimport OnboardingBanner from '@/components/OnboardingBanner';\nimport { Droplet, Target, Utensils, Syringe, Heart, Pill, MessageCircle, FileText, Activity, Stethoscope, Thermometer, TestTube, Clipboard } from 'lucide-react';\nimport { useAuth } from '@/lib/auth-context';\nimport { useQuery, useMutation } from '@tanstack/react-query';\nimport { Link } from 'wouter';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { queryClient, apiRequest } from '@/lib/queryClient';\nimport { useToast } from '@/hooks/use-toast';\nimport { Sparkles } from 'lucide-react';\n\nexport default function DashboardPage() {\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const [showOnboarding, setShowOnboarding] = useState(false);\n  const [showBanner, setShowBanner] = useState(false);\n\n  useEffect(() => {\n    const onboardingCompleted = localStorage.getItem('onboardingCompleted');\n    const onboardingSkipped = localStorage.getItem('onboardingSkipped');\n    \n    if (!onboardingCompleted && !onboardingSkipped) {\n      setShowOnboarding(true);\n    } else if (!onboardingCompleted && onboardingSkipped === 'true') {\n      setShowBanner(true);\n    }\n  }, []);\n\n  const handleOnboardingComplete = () => {\n    setShowOnboarding(false);\n    setShowBanner(false);\n    toast({\n      title: 'Setup Complete!',\n      description: 'Your profile has been configured successfully',\n    });\n  };\n\n  const handleOnboardingSkip = () => {\n    setShowOnboarding(false);\n    setShowBanner(true);\n  };\n\n  const handleResumeSetup = () => {\n    localStorage.removeItem('onboardingSkipped');\n    setShowBanner(false);\n    setShowOnboarding(true);\n  };\n\n  const handleDismissBanner = () => {\n    setShowBanner(false);\n  };\n\n  const { data: healthData, isLoading: isLoadingHealth } = useQuery({\n    queryKey: ['/api/health-data'],\n  });\n\n  const { data: mealsData, isLoading: isLoadingMeals } = useQuery({\n    queryKey: ['/api/meals'],\n  });\n\n  const { data: latestPrediction, isLoading: isLoadingPrediction } = useQuery({\n    queryKey: ['/api/predictions/latest'],\n  });\n\n  const { data: profileData, isLoading: isLoadingProfile } = useQuery({\n    queryKey: ['/api/profile'],\n  });\n\n  const generatePredictionMutation = useMutation({\n    mutationFn: async () => {\n      const response = await apiRequest('/api/predictions/insulin', {\n        method: 'POST',\n      });\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/predictions/latest'] });\n      toast({\n        title: 'Prediction Generated',\n        description: 'Your insulin recommendation is ready',\n      });\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'Prediction Failed',\n        description: error.message || 'Unable to generate prediction',\n        variant: 'destructive',\n      });\n    },\n  });\n\n  const latestGlucose = healthData?.data?.[0]?.glucose || 0;\n  const latestInsulin = healthData?.data?.[0]?.insulin || 0;\n  \n  const totalCarbs = mealsData?.data?.reduce((sum: number, meal: any) => sum + (meal.carbs || 0), 0) || 0;\n  \n  const calculateTimeInRange = () => {\n    if (!healthData?.data || healthData.data.length === 0) return 0;\n    \n    const inRangeCount = healthData.data.filter((entry: any) => {\n      const glucose = entry.glucose;\n      return glucose >= 70 && glucose <= 180;\n    }).length;\n    \n    return Math.round((inRangeCount / healthData.data.length) * 100);\n  };\n  \n  const timeInRange = calculateTimeInRange();\n\n  const getGlucoseStatus = (glucose: number) => {\n    if (glucose < 70) return 'Low';\n    if (glucose > 180) return 'High';\n    return 'In Range';\n  };\n\n  // Floating emerald green dots\n  const floatingDots = [\n    { id: 1, size: 12, left: 15, top: 10, duration: 18, delay: 0, xRange: 28, yRange: 35, color: 'rgba(33, 200, 155, 0.3)' }, // Emerald\n    { id: 2, size: 14, left: 85, top: 15, duration: 22, delay: 2, xRange: -32, yRange: 38, color: 'rgba(33, 200, 155, 0.3)' }, // Emerald\n    { id: 3, size: 16, left: 10, top: 70, duration: 20, delay: 4, xRange: 35, yRange: -30, color: 'rgba(33, 200, 155, 0.3)' }, // Emerald\n    { id: 4, size: 13, left: 88, top: 75, duration: 24, delay: 1, xRange: -26, yRange: 33, color: 'rgba(33, 200, 155, 0.3)' }, // Emerald\n    { id: 5, size: 15, left: 5, top: 50, duration: 19, delay: 3, xRange: 30, yRange: -36, color: 'rgba(33, 200, 155, 0.3)' }, // Emerald\n    { id: 6, size: 14, left: 92, top: 45, duration: 21, delay: 5, xRange: -29, yRange: 34, color: 'rgba(33, 200, 155, 0.3)' }, // Emerald\n    { id: 7, size: 12, left: 20, top: 30, duration: 23, delay: 0.5, xRange: 33, yRange: 40, color: 'rgba(33, 200, 155, 0.3)' }, // Emerald\n    { id: 8, size: 17, left: 78, top: 25, duration: 17, delay: 2.5, xRange: -34, yRange: -32, color: 'rgba(33, 200, 155, 0.3)' }, // Emerald\n    { id: 9, size: 13, left: 12, top: 85, duration: 25, delay: 1.5, xRange: 27, yRange: 35, color: 'rgba(33, 200, 155, 0.3)' }, // Emerald\n    { id: 10, size: 15, left: 90, top: 60, duration: 20, delay: 3.5, xRange: -31, yRange: 37, color: 'rgba(33, 200, 155, 0.3)' }, // Emerald\n    { id: 11, size: 14, left: 25, top: 88, duration: 22, delay: 4.5, xRange: 32, yRange: -35, color: 'rgba(33, 200, 155, 0.3)' }, // Emerald\n    { id: 12, size: 16, left: 82, top: 90, duration: 19, delay: 2.2, xRange: -28, yRange: 33, color: 'rgba(33, 200, 155, 0.3)' }, // Emerald\n    { id: 13, size: 18, left: 40, top: 18, duration: 21, delay: 1.8, xRange: 30, yRange: 34, color: 'rgba(33, 200, 155, 0.3)' }, // Emerald\n    { id: 14, size: 13, left: 65, top: 55, duration: 23, delay: 3.2, xRange: -33, yRange: -36, color: 'rgba(33, 200, 155, 0.3)' }, // Emerald\n    { id: 15, size: 15, left: 8, top: 35, duration: 18, delay: 0.8, xRange: 26, yRange: 31, color: 'rgba(33, 200, 155, 0.3)' }, // Emerald\n    { id: 16, size: 17, left: 95, top: 82, duration: 24, delay: 4.2, xRange: -35, yRange: 38, color: 'rgba(33, 200, 155, 0.3)' }, // Emerald\n  ];\n\n  // Uneven circular elements with emerald green (reduced size and opacity with blur)\n  const unevenCircles = [\n    { id: 1, size: 18, left: 30, top: 20, duration: 20, delay: 0, opacity: 0.025, xRange: 38, yRange: 45, color: 'rgba(33, 200, 155, 0.08)' }, // Emerald\n    { id: 2, size: 25, left: 70, top: 65, duration: 19, delay: 3, opacity: 0.08, xRange: -42, yRange: 48, color: 'rgba(33, 200, 155, 0.12)' }, // Emerald\n    { id: 3, size: 15, left: 18, top: 55, duration: 22, delay: 1.5, opacity: 0.02, xRange: 45, yRange: -40, color: 'rgba(33, 200, 155, 0.06)' }, // Emerald\n    { id: 4, size: 22, left: 85, top: 35, duration: 18, delay: 4, opacity: 0.06, xRange: -40, yRange: 46, color: 'rgba(33, 200, 155, 0.1)' }, // Emerald\n    { id: 5, size: 20, left: 50, top: 80, duration: 24, delay: 2.5, opacity: 0.045, xRange: 43, yRange: -42, color: 'rgba(33, 200, 155, 0.08)' }, // Emerald\n    { id: 6, size: 16, left: 12, top: 25, duration: 21, delay: 5, opacity: 0.03, xRange: -46, yRange: 50, color: 'rgba(33, 200, 155, 0.07)' }, // Emerald\n    { id: 7, size: 24, left: 60, top: 10, duration: 23, delay: 1, opacity: 0.07, xRange: 37, yRange: 41, color: 'rgba(33, 200, 155, 0.11)' }, // Emerald\n    { id: 8, size: 17, left: 92, top: 70, duration: 19, delay: 3.5, opacity: 0.035, xRange: -44, yRange: -47, color: 'rgba(33, 200, 155, 0.07)' }, // Emerald\n  ];\n\n  // Floating medical icons (white with low opacity)\n  const medicalIcons = [\n    { id: 1, Icon: Pill, left: 12, top: 15, duration: 22, delay: 0, xRange: 30, yRange: 40, rotation: 15 },\n    { id: 2, Icon: Syringe, left: 82, top: 25, duration: 25, delay: 2, xRange: -35, yRange: 38, rotation: -20 },\n    { id: 3, Icon: Heart, left: 25, top: 60, duration: 20, delay: 4, xRange: 32, yRange: -35, rotation: 10 },\n    { id: 4, Icon: Activity, left: 70, top: 80, duration: 23, delay: 1.5, xRange: -28, yRange: 42, rotation: -15 },\n    { id: 5, Icon: Droplet, left: 45, top: 35, duration: 21, delay: 3.5, xRange: 30, yRange: 35, rotation: 12 },\n    { id: 6, Icon: Stethoscope, left: 88, top: 55, duration: 24, delay: 5, xRange: -33, yRange: -40, rotation: -18 },\n    { id: 7, Icon: Thermometer, left: 18, top: 78, duration: 19, delay: 2.5, xRange: 35, yRange: 37, rotation: 8 },\n    { id: 8, Icon: TestTube, left: 55, top: 12, duration: 26, delay: 1, xRange: -30, yRange: 45, rotation: -12 },\n    { id: 9, Icon: Clipboard, left: 35, top: 88, duration: 20, delay: 4.5, xRange: 28, yRange: -38, rotation: 16 },\n  ];\n\n  return (\n    <div className=\"flex h-screen w-full bg-gradient-to-br from-neutral-900 via-zinc-900 to-neutral-950 relative overflow-hidden animate-in fade-in duration-300\">\n        \n        {/* Animated Colorful Light Waves - Behind everything */}\n        <div className=\"absolute inset-0 pointer-events-none\" style={{ zIndex: 0 }}>\n          <div \n            className=\"absolute top-0 left-0 right-0 h-96 opacity-30\"\n            style={{\n              background: 'radial-gradient(ellipse 80% 50% at 50% 0%, rgba(96, 165, 250, 0.08), transparent)',\n              animation: 'wave1 15s ease-in-out infinite',\n            }}\n          />\n          <div \n            className=\"absolute top-1/3 left-0 right-0 h-96 opacity-20\"\n            style={{\n              background: 'radial-gradient(ellipse 70% 40% at 30% 50%, rgba(167, 139, 250, 0.06), transparent)',\n              animation: 'wave2 18s ease-in-out infinite',\n            }}\n          />\n          <div \n            className=\"absolute bottom-0 left-0 right-0 h-96 opacity-25\"\n            style={{\n              background: 'radial-gradient(ellipse 75% 45% at 70% 100%, rgba(45, 212, 191, 0.07), transparent)',\n              animation: 'wave3 20s ease-in-out infinite',\n            }}\n          />\n        </div>\n\n        {/* Small Floating Dots - Above waves (colorful with glow) */}\n        <div className=\"absolute inset-0 overflow-hidden pointer-events-none\" style={{ zIndex: 1 }}>\n          {floatingDots.map((dot) => (\n            <div\n              key={dot.id}\n              className=\"absolute rounded-full\"\n              style={{\n                width: `${dot.size}px`,\n                height: `${dot.size}px`,\n                left: `${dot.left}%`,\n                top: `${dot.top}%`,\n                backgroundColor: dot.color,\n                animation: `floatDot${dot.id} ${dot.duration}s ease-in-out infinite`,\n                animationDelay: `${dot.delay}s`,\n                boxShadow: `0 0 20px 8px ${dot.color.replace('0.3', '0.4')}, 0 0 40px 15px ${dot.color.replace('0.3', '0.2')}, 0 0 60px 25px ${dot.color.replace('0.3', '0.1')}`,\n              }}\n            />\n          ))}\n        </div>\n\n        {/* Uneven Circular Elements - Above waves with colorful radiation glow and blur */}\n        <div className=\"absolute inset-0 overflow-hidden pointer-events-none\" style={{ zIndex: 1 }}>\n          {unevenCircles.map((circle) => (\n            <div\n              key={`circle-${circle.id}`}\n              className=\"absolute rounded-full\"\n              style={{\n                width: `${circle.size}px`,\n                height: `${circle.size}px`,\n                left: `${circle.left}%`,\n                top: `${circle.top}%`,\n                backgroundColor: circle.color,\n                opacity: circle.opacity,\n                animation: `floatCircle${circle.id} ${circle.duration}s ease-in-out infinite`,\n                animationDelay: `${circle.delay}s`,\n                boxShadow: `0 0 30px 12px ${circle.color.replace(/0\\.\\d+\\)/, '0.5)')}, 0 0 60px 25px ${circle.color.replace(/0\\.\\d+\\)/, '0.3)')}, 0 0 90px 40px ${circle.color.replace(/0\\.\\d+\\)/, '0.15)')}`,\n                filter: 'blur(3px)',\n              }}\n            />\n          ))}\n        </div>\n\n        {/* Floating Medical Icons - White with low opacity and glow */}\n        <div className=\"absolute inset-0 overflow-hidden pointer-events-none\" style={{ zIndex: 1 }}>\n          {medicalIcons.map((item) => {\n            const Icon = item.Icon;\n            return (\n              <div\n                key={`icon-${item.id}`}\n                className=\"absolute text-white\"\n                style={{\n                  left: `${item.left}%`,\n                  top: `${item.top}%`,\n                  opacity: 0.12,\n                  animation: `floatIcon${item.id} ${item.duration}s ease-in-out infinite`,\n                  animationDelay: `${item.delay}s`,\n                  filter: 'drop-shadow(0 0 10px rgba(255, 255, 255, 0.6)) drop-shadow(0 0 20px rgba(255, 255, 255, 0.4)) drop-shadow(0 0 30px rgba(255, 255, 255, 0.2))',\n                }}\n              >\n                <Icon className=\"w-6 h-6\" />\n              </div>\n            );\n          })}\n        </div>\n\n        <AppSidebar />\n        <div className=\"flex flex-col flex-1 overflow-hidden relative\" style={{ zIndex: 10, marginLeft: '320px' }}>\n          {showBanner && (\n            <OnboardingBanner \n              onResume={handleResumeSetup}\n              onDismiss={handleDismissBanner}\n            />\n          )}\n          <header className=\"flex items-center justify-between border-b border-border\" style={{ height: '72px', padding: '0 24px' }}>\n            <div className=\"flex items-center gap-4\">\n              <h2 className=\"text-xl font-semibold\">Dashboard</h2>\n            </div>\n          </header>\n          \n          <main className=\"flex-1 overflow-y-auto\">\n            <div className=\"w-full\" style={{ padding: '24px 32px' }}>\n            <div className=\"mb-6\">\n              <h1 className=\"text-3xl font-bold mb-1\">Welcome back, {user?.name || 'User'}</h1>\n              <p className=\"text-muted-foreground\">Here's your health overview for today</p>\n            </div>\n\n            {isLoadingHealth || isLoadingMeals ? (\n              <div className=\"text-center py-8\">\n                <p className=\"text-muted-foreground\">Loading your health data...</p>\n              </div>\n            ) : (\n              <>\n                {/* Main Content Grid: 1fr + 360px */}\n                <div className=\"grid gap-7\" style={{ gridTemplateColumns: '1fr 360px' }}>\n                  {/* Left Column - Main Content */}\n                  <div className=\"space-y-6\">\n                    {/* Top Stats Row - 4 cards across with colorful variety */}\n                    <div className=\"grid grid-cols-4 gap-4\">\n                      <MetricCard\n                        title=\"Glucose\"\n                        value={latestGlucose > 0 ? latestGlucose.toString() : '--'}\n                        unit=\"mg/dL\"\n                        status={latestGlucose > 0 ? getGlucoseStatus(latestGlucose) : 'No Data'}\n                        icon={Droplet}\n                        iconColor=\"#60A5FA\"\n                        badgeBgColor=\"rgba(96, 165, 250, 0.2)\"\n                        badgeTextColor=\"#60A5FA\"\n                      />\n                      <MetricCard\n                        title=\"Time in Range\"\n                        value={`${timeInRange}%`}\n                        unit=\"\"\n                        status={timeInRange >= 70 ? 'Excellent' : timeInRange >= 50 ? 'Good' : 'Needs Improvement'}\n                        icon={Target}\n                        iconColor=\"#A78BFA\"\n                        badgeBgColor=\"rgba(167, 139, 250, 0.2)\"\n                        badgeTextColor=\"#A78BFA\"\n                      />\n                      <MetricCard\n                        title=\"Carbs Today\"\n                        value={totalCarbs > 0 ? `${totalCarbs}g` : '--'}\n                        unit=\"\"\n                        status={totalCarbs > 0 ? 'Tracked' : 'No Data'}\n                        icon={Utensils}\n                        iconColor=\"#FB923C\"\n                        badgeBgColor=\"rgba(251, 146, 60, 0.2)\"\n                        badgeTextColor=\"#FB923C\"\n                      />\n                      <MetricCard\n                        title=\"Active Insulin\"\n                        value={latestInsulin > 0 ? `${latestInsulin}U` : '--'}\n                        unit=\"\"\n                        status={latestInsulin > 0 ? 'Active' : 'No Data'}\n                        icon={Syringe}\n                        iconColor=\"#2DD4BF\"\n                        badgeBgColor=\"rgba(45, 212, 191, 0.2)\"\n                        badgeTextColor=\"#2DD4BF\"\n                      />\n                    </div>\n\n                    {/* Glucose Trends Chart */}\n                    <GlucoseTrendChart />\n\n                    {/* Quick Actions at bottom with colorful variety */}\n                    <div>\n                      <h2 className=\"text-xl font-bold mb-4\">Quick Actions</h2>\n                      <div className=\"grid grid-cols-2 gap-4\">\n                        <Link href=\"/health-data\">\n                          <div className=\"cursor-pointer\">\n                            <QuickActionCard\n                              icon={Heart}\n                              title=\"Blood Sugar Tracking\"\n                              description=\"Log and monitor your glucose levels\"\n                              iconBgColor=\"rgba(244, 114, 182, 0.2)\"\n                              iconColor=\"#F472B6\"\n                            />\n                          </div>\n                        </Link>\n                        <Link href=\"/meals\">\n                          <div className=\"cursor-pointer\">\n                            <QuickActionCard\n                              icon={Utensils}\n                              title=\"Meal Logging\"\n                              description=\"Track your nutrition and carbs\"\n                              iconBgColor=\"rgba(251, 146, 60, 0.2)\"\n                              iconColor=\"#FB923C\"\n                            />\n                          </div>\n                        </Link>\n                        <Link href=\"/reports\">\n                          <div className=\"cursor-pointer\">\n                            <QuickActionCard\n                              icon={FileText}\n                              title=\"Health Reports\"\n                              description=\"View and download your reports\"\n                            />\n                          </div>\n                        </Link>\n                        <div className=\"cursor-pointer\">\n                          <QuickActionCard\n                            icon={MessageCircle}\n                            title=\"Doctor Communication\"\n                            description=\"Message your healthcare provider\"\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Right Column - 360px wide */}\n                  <div className=\"space-y-4\">\n                    {/* Profile Summary Card */}\n                    {isLoadingProfile ? (\n                      <Card \n                        data-testid=\"card-profile-loading\" \n                        className=\"p-5 glass-card relative overflow-visible\"\n                        style={{ borderRadius: '12px' }}\n                      >\n                        <p className=\"text-sm text-muted-foreground\">Loading profile...</p>\n                      </Card>\n                    ) : profileData?.profile && (\n                      <Card \n                        data-testid=\"card-profile-summary\" \n                        className=\"p-5 glass-card relative overflow-visible\"\n                        style={{ borderRadius: '12px' }}\n                      >\n                        <div className=\"flex items-center justify-between mb-4\">\n                          <div className=\"flex items-center gap-2\">\n                            <Activity className=\"h-5 w-5 text-primary\" />\n                            <h3 className=\"font-bold text-base text-foreground\">Health Profile</h3>\n                          </div>\n                          <Link href=\"/details\">\n                            <Button variant=\"ghost\" size=\"sm\" data-testid=\"button-view-profile\">\n                              View\n                            </Button>\n                          </Link>\n                        </div>\n                        <div className=\"space-y-3\">\n                          {profileData.profile.weight && (\n                            <div className=\"flex justify-between items-center\">\n                              <span className=\"text-sm text-muted-foreground\">Weight</span>\n                              <span className=\"text-sm font-medium text-foreground\">{profileData.profile.weight} kg</span>\n                            </div>\n                          )}\n                          {profileData.profile.height && (\n                            <div className=\"flex justify-between items-center\">\n                              <span className=\"text-sm text-muted-foreground\">Height</span>\n                              <span className=\"text-sm font-medium text-foreground\">{profileData.profile.height} cm</span>\n                            </div>\n                          )}\n                          {profileData.profile.lastA1c && (\n                            <div className=\"flex justify-between items-center\">\n                              <span className=\"text-sm text-muted-foreground\">Last A1C</span>\n                              <span className=\"text-sm font-medium text-foreground\">{profileData.profile.lastA1c}%</span>\n                            </div>\n                          )}\n                          {profileData.profile.typicalInsulin && (\n                            <div className=\"flex justify-between items-center\">\n                              <span className=\"text-sm text-muted-foreground\">Typical Insulin</span>\n                              <span className=\"text-sm font-medium text-foreground\">{profileData.profile.typicalInsulin} U</span>\n                            </div>\n                          )}\n                        </div>\n                      </Card>\n                    )}\n                    \n                    <Card \n                      data-testid=\"card-insulin-prediction\" \n                      className=\"p-5 card-interactive glass-card flex flex-col justify-between relative overflow-hidden\" \n                      style={{ height: '120px', borderRadius: '12px' }}\n                    >\n                      <div className=\"absolute inset-0 bg-gradient-to-br from-primary/5 to-primary/10 pointer-events-none\" />\n                      <div className=\"flex items-center justify-between relative z-10\">\n                        <div className=\"flex items-center gap-2\">\n                          <Sparkles className=\"h-5 w-5 text-primary\" />\n                          <h3 className=\"font-bold text-base text-foreground\">AI Insulin Prediction</h3>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center justify-between relative z-10\">\n                        {isLoadingPrediction ? (\n                          <p className=\"text-sm text-muted-foreground\">Loading...</p>\n                        ) : latestPrediction?.prediction ? (\n                          <>\n                            <div className=\"flex items-baseline gap-2\">\n                              <span className=\"text-3xl font-bold text-primary leading-none\">\n                                {latestPrediction.prediction.predictedInsulin.toFixed(1)}\n                              </span>\n                              <span className=\"text-sm text-muted-foreground\">units</span>\n                            </div>\n                            <span className=\"text-sm text-muted-foreground font-medium\">\n                              {(latestPrediction.prediction.confidence * 100).toFixed(0)}% conf.\n                            </span>\n                          </>\n                        ) : (\n                          <p className=\"text-sm text-muted-foreground\">No data</p>\n                        )}\n                      </div>\n                      <Button\n                        data-testid=\"button-generate-prediction\"\n                        onClick={() => generatePredictionMutation.mutate()}\n                        disabled={generatePredictionMutation.isPending}\n                        className=\"w-full bg-primary text-primary-foreground relative z-10\"\n                        size=\"sm\"\n                      >\n                        {generatePredictionMutation.isPending ? 'Generating...' : 'Generate Prediction'}\n                      </Button>\n                    </Card>\n                    <VoiceAssistantCard\n                      title=\"Voice Food Logging\"\n                      subtitle=\"Tap mic to log your meal\"\n                      buttonText=\"Log Meal\"\n                    />\n                    <ProgressCard />\n                  </div>\n                </div>\n              </>\n            )}\n            </div>\n          </main>\n        </div>\n\n        <OnboardingModal\n        isOpen={showOnboarding}\n        onClose={() => setShowOnboarding(false)}\n        onComplete={handleOnboardingComplete}\n        onSkip={handleOnboardingSkip}\n      />\n\n      <style>{`\n        ${floatingDots.map((dot) => `\n          @keyframes floatDot${dot.id} {\n            0%, 100% { \n              transform: translate3d(0, 0, 0); \n              opacity: 0.25; \n            }\n            25% { \n              transform: translate3d(${dot.xRange * 0.4}px, ${dot.yRange * 0.4}px, 0); \n              opacity: 0.3; \n            }\n            50% { \n              transform: translate3d(${dot.xRange}px, ${dot.yRange}px, 0); \n              opacity: 0.35; \n            }\n            75% { \n              transform: translate3d(${dot.xRange * 0.6}px, ${dot.yRange * 0.7}px, 0); \n              opacity: 0.28; \n            }\n          }\n        `).join('\\n')}\n\n        ${unevenCircles.map((circle) => `\n          @keyframes floatCircle${circle.id} {\n            0%, 100% { \n              transform: translate3d(0, 0, 0) scale(1); \n              opacity: ${circle.opacity}; \n            }\n            25% { \n              transform: translate3d(${circle.xRange * 0.5}px, ${circle.yRange * 0.4}px, 0) scale(1.05); \n              opacity: ${circle.opacity * 1.3}; \n            }\n            50% { \n              transform: translate3d(${circle.xRange}px, ${circle.yRange}px, 0) scale(1.1); \n              opacity: ${circle.opacity * 1.5}; \n            }\n            75% { \n              transform: translate3d(${circle.xRange * 0.7}px, ${circle.yRange * 0.6}px, 0) scale(1.03); \n              opacity: ${circle.opacity * 1.2}; \n            }\n          }\n        `).join('\\n')}\n\n        ${medicalIcons.map((icon) => `\n          @keyframes floatIcon${icon.id} {\n            0%, 100% { \n              transform: translate3d(0, 0, 0) rotate(${icon.rotation}deg); \n              opacity: 0.12; \n            }\n            25% { \n              transform: translate3d(${icon.xRange * 0.4}px, ${icon.yRange * 0.3}px, 0) rotate(${icon.rotation + 5}deg); \n              opacity: 0.15; \n            }\n            50% { \n              transform: translate3d(${icon.xRange}px, ${icon.yRange}px, 0) rotate(${icon.rotation - 8}deg); \n              opacity: 0.18; \n            }\n            75% { \n              transform: translate3d(${icon.xRange * 0.6}px, ${icon.yRange * 0.7}px, 0) rotate(${icon.rotation + 3}deg); \n              opacity: 0.14; \n            }\n          }\n        `).join('\\n')}\n\n        @keyframes wave1 {\n          0%, 100% { \n            transform: translateY(0) scaleX(1);\n            opacity: 0.3;\n          }\n          50% { \n            transform: translateY(-30px) scaleX(1.1);\n            opacity: 0.4;\n          }\n        }\n\n        @keyframes wave2 {\n          0%, 100% { \n            transform: translateX(0) scaleY(1);\n            opacity: 0.2;\n          }\n          50% { \n            transform: translateX(40px) scaleY(1.15);\n            opacity: 0.3;\n          }\n        }\n\n        @keyframes wave3 {\n          0%, 100% { \n            transform: translateY(0) scaleX(1);\n            opacity: 0.25;\n          }\n          50% { \n            transform: translateY(30px) scaleX(1.1);\n            opacity: 0.35;\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n","size_bytes":28602},"client/src/pages/RoleSelectionPage.tsx":{"content":"import { useLocation, Link } from 'wouter';\nimport { User, Stethoscope } from 'lucide-react';\n\nexport default function RoleSelectionPage() {\n  const [, navigate] = useLocation();\n\n  const handleRoleSelect = (role: 'patient' | 'doctor') => {\n    navigate(`/register?role=${role}`);\n  };\n\n  // Same floating dots from PublicLayout\n  const floatingDots = [\n    { id: 1, size: 12, left: 15, top: 10, duration: 18, delay: 0, xRange: 28, yRange: 35 },\n    { id: 2, size: 14, left: 85, top: 15, duration: 22, delay: 2, xRange: -32, yRange: 38 },\n    { id: 3, size: 16, left: 10, top: 70, duration: 20, delay: 4, xRange: 35, yRange: -30 },\n    { id: 4, size: 13, left: 88, top: 75, duration: 24, delay: 1, xRange: -26, yRange: 33 },\n    { id: 5, size: 15, left: 5, top: 50, duration: 19, delay: 3, xRange: 30, yRange: -36 },\n    { id: 6, size: 14, left: 92, top: 45, duration: 21, delay: 5, xRange: -29, yRange: 34 },\n    { id: 7, size: 12, left: 20, top: 30, duration: 23, delay: 0.5, xRange: 33, yRange: 40 },\n    { id: 8, size: 17, left: 78, top: 25, duration: 17, delay: 2.5, xRange: -34, yRange: -32 },\n    { id: 9, size: 13, left: 12, top: 85, duration: 25, delay: 1.5, xRange: 27, yRange: 35 },\n    { id: 10, size: 15, left: 90, top: 60, duration: 20, delay: 3.5, xRange: -31, yRange: 37 },\n    { id: 11, size: 14, left: 25, top: 88, duration: 22, delay: 4.5, xRange: 32, yRange: -35 },\n    { id: 12, size: 16, left: 82, top: 90, duration: 19, delay: 2.2, xRange: -28, yRange: 33 },\n    { id: 13, size: 18, left: 40, top: 18, duration: 21, delay: 1.8, xRange: 30, yRange: 34 },\n    { id: 14, size: 13, left: 65, top: 55, duration: 23, delay: 3.2, xRange: -33, yRange: -36 },\n    { id: 15, size: 15, left: 8, top: 35, duration: 18, delay: 0.8, xRange: 26, yRange: 31 },\n    { id: 16, size: 17, left: 95, top: 82, duration: 24, delay: 4.2, xRange: -35, yRange: 38 },\n  ];\n\n  // Same uneven circles from PublicLayout\n  const unevenCircles = [\n    { id: 1, size: 25, left: 30, top: 20, duration: 20, delay: 0, opacity: 0.08, xRange: 38, yRange: 45 },\n    { id: 2, size: 35, left: 70, top: 65, duration: 19, delay: 3, opacity: 0.32, xRange: -42, yRange: 48 },\n    { id: 3, size: 20, left: 18, top: 55, duration: 22, delay: 1.5, opacity: 0.06, xRange: 45, yRange: -40 },\n    { id: 4, size: 30, left: 85, top: 35, duration: 18, delay: 4, opacity: 0.25, xRange: -40, yRange: 46 },\n    { id: 5, size: 28, left: 50, top: 80, duration: 24, delay: 2.5, opacity: 0.15, xRange: 43, yRange: -42 },\n    { id: 6, size: 22, left: 12, top: 25, duration: 21, delay: 5, opacity: 0.1, xRange: -46, yRange: 50 },\n    { id: 7, size: 32, left: 60, top: 10, duration: 23, delay: 1, opacity: 0.28, xRange: 37, yRange: 41 },\n    { id: 8, size: 24, left: 92, top: 70, duration: 19, delay: 3.5, opacity: 0.12, xRange: -44, yRange: -47 },\n  ];\n\n  return (\n    <div className=\"min-h-screen w-full bg-gradient-to-br from-neutral-900 via-zinc-900 to-neutral-950 text-white overflow-x-hidden relative\">\n      {/* Animated Light Waves */}\n      <div className=\"absolute inset-0 pointer-events-none\" style={{ zIndex: -1 }}>\n        <div \n          className=\"absolute top-0 left-0 right-0 h-96 opacity-30\"\n          style={{\n            background: 'radial-gradient(ellipse 80% 50% at 50% 0%, rgba(52, 211, 153, 0.08), transparent)',\n            animation: 'wave1 15s ease-in-out infinite',\n          }}\n        />\n        <div \n          className=\"absolute top-1/3 left-0 right-0 h-96 opacity-20\"\n          style={{\n            background: 'radial-gradient(ellipse 70% 40% at 30% 50%, rgba(52, 211, 153, 0.06), transparent)',\n            animation: 'wave2 18s ease-in-out infinite',\n          }}\n        />\n        <div \n          className=\"absolute bottom-0 left-0 right-0 h-96 opacity-25\"\n          style={{\n            background: 'radial-gradient(ellipse 75% 45% at 70% 100%, rgba(52, 211, 153, 0.07), transparent)',\n            animation: 'wave3 20s ease-in-out infinite',\n          }}\n        />\n      </div>\n\n      {/* Small Floating Dots */}\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\" style={{ zIndex: 1 }}>\n        {floatingDots.map((dot) => (\n          <div\n            key={dot.id}\n            className=\"absolute rounded-full bg-emerald-400/50\"\n            style={{\n              width: `${dot.size}px`,\n              height: `${dot.size}px`,\n              left: `${dot.left}%`,\n              top: `${dot.top}%`,\n              animation: `floatDot${dot.id} ${dot.duration}s ease-in-out infinite`,\n              animationDelay: `${dot.delay}s`,\n            }}\n          />\n        ))}\n      </div>\n\n      {/* Uneven Circular Elements */}\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\" style={{ zIndex: 1 }}>\n        {unevenCircles.map((circle) => (\n          <div\n            key={`circle-${circle.id}`}\n            className=\"absolute rounded-full bg-emerald-400\"\n            style={{\n              width: `${circle.size}px`,\n              height: `${circle.size}px`,\n              left: `${circle.left}%`,\n              top: `${circle.top}%`,\n              opacity: circle.opacity,\n              animation: `floatCircle${circle.id} ${circle.duration}s ease-in-out infinite`,\n              animationDelay: `${circle.delay}s`,\n            }}\n          />\n        ))}\n      </div>\n\n      {/* Content - No max-width constraint */}\n      <div className=\"relative z-10 flex items-center justify-center min-h-screen px-6 py-8\">\n        <div \n          className=\"w-full max-w-5xl backdrop-blur-md bg-white/8 border border-white/15 rounded-3xl px-12 py-10 shadow-2xl\"\n          data-testid=\"container-role-selection\"\n        >\n          {/* Header Section */}\n          <div className=\"text-center mb-10\">\n            <h1 className=\"text-5xl font-bold text-white mb-4 tracking-tight\">\n              GlucoNova\n            </h1>\n            <h2 className=\"text-3xl font-bold mb-3\" style={{ color: '#2dd4bf' }}>\n              Select Your Role\n            </h2>\n            <p className=\"text-lg text-gray-400\">\n              Choose how you'll use GlucoNova\n            </p>\n          </div>\n\n          {/* Two Role Cards */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8 justify-items-center\">\n            {/* Patient Card */}\n            <div\n              onClick={() => handleRoleSelect('patient')}\n              className=\"group relative rounded-2xl p-8 cursor-pointer transition-all duration-500 hover:scale-[1.02]\"\n              style={{\n                background: 'rgba(20, 30, 45, 0.5)',\n                border: '1px solid rgba(45, 212, 191, 0.2)',\n                boxShadow: '0 4px 20px rgba(45, 212, 191, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.03)'\n              }}\n              data-testid=\"card-role-patient\"\n            >\n              {/* Glow Effect on Hover */}\n              <div \n                className=\"absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none\"\n                style={{\n                  background: 'radial-gradient(circle at center, rgba(45, 212, 191, 0.15) 0%, transparent 70%)',\n                  filter: 'blur(20px)'\n                }}\n              />\n\n              <div className=\"relative z-10\">\n                {/* Icon and Badge */}\n                <div className=\"flex items-center gap-4 mb-8\">\n                  <div \n                    className=\"w-16 h-16 rounded-full flex items-center justify-center\"\n                    style={{\n                      background: 'rgba(45, 212, 191, 0.15)',\n                      border: '1px solid rgba(45, 212, 191, 0.3)',\n                      boxShadow: '0 0 20px rgba(45, 212, 191, 0.2)'\n                    }}\n                  >\n                    <User className=\"w-8 h-8\" style={{ color: '#2dd4bf' }} />\n                  </div>\n                  <div \n                    className=\"px-4 py-1.5 rounded-full text-sm font-bold uppercase tracking-wider\"\n                    style={{\n                      background: 'rgba(45, 212, 191, 0.15)',\n                      border: '1px solid rgba(45, 212, 191, 0.3)',\n                      color: '#2dd4bf'\n                    }}\n                  >\n                    Patient\n                  </div>\n                </div>\n\n                {/* Title */}\n                <h3 className=\"text-2xl font-bold text-white mb-6\">\n                  Patient Account\n                </h3>\n\n                {/* Description */}\n                <p className=\"text-base text-gray-400 leading-relaxed mb-8\">\n                  Manage your diabetes with AI-powered insights\n                </p>\n\n                {/* CTA */}\n                <p \n                  className=\"text-sm font-semibold transition-all duration-300 opacity-0 group-hover:opacity-100 group-hover:translate-x-2\"\n                  style={{ color: '#2dd4bf' }}\n                >\n                  Click to continue as Patient →\n                </p>\n              </div>\n            </div>\n\n            {/* Healthcare Provider Card */}\n            <div\n              onClick={() => handleRoleSelect('doctor')}\n              className=\"group relative rounded-2xl p-8 cursor-pointer transition-all duration-500 hover:scale-[1.02]\"\n              style={{\n                background: 'rgba(20, 30, 45, 0.5)',\n                border: '1px solid rgba(45, 212, 191, 0.2)',\n                boxShadow: '0 4px 20px rgba(45, 212, 191, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.03)'\n              }}\n              data-testid=\"card-role-doctor\"\n            >\n              {/* Glow Effect on Hover */}\n              <div \n                className=\"absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none\"\n                style={{\n                  background: 'radial-gradient(circle at center, rgba(45, 212, 191, 0.15) 0%, transparent 70%)',\n                  filter: 'blur(20px)'\n                }}\n              />\n\n              <div className=\"relative z-10\">\n                {/* Icon and Badge */}\n                <div className=\"flex items-center gap-4 mb-8\">\n                  <div \n                    className=\"w-16 h-16 rounded-full flex items-center justify-center\"\n                    style={{\n                      background: 'rgba(45, 212, 191, 0.15)',\n                      border: '1px solid rgba(45, 212, 191, 0.3)',\n                      boxShadow: '0 0 20px rgba(45, 212, 191, 0.2)'\n                    }}\n                  >\n                    <Stethoscope className=\"w-8 h-8\" style={{ color: '#2dd4bf' }} />\n                  </div>\n                  <div \n                    className=\"px-4 py-1.5 rounded-full text-sm font-bold uppercase tracking-wider\"\n                    style={{\n                      background: 'rgba(45, 212, 191, 0.15)',\n                      border: '1px solid rgba(45, 212, 191, 0.3)',\n                      color: '#2dd4bf'\n                    }}\n                  >\n                    Provider\n                  </div>\n                </div>\n\n                {/* Title */}\n                <h3 className=\"text-2xl font-bold text-white mb-6\">\n                  Healthcare Provider\n                </h3>\n\n                {/* Description */}\n                <p className=\"text-base text-gray-400 leading-relaxed mb-8\">\n                  Access patient records and provide remote care\n                </p>\n\n                {/* CTA */}\n                <p \n                  className=\"text-sm font-semibold transition-all duration-300 opacity-0 group-hover:opacity-100 group-hover:translate-x-2\"\n                  style={{ color: '#2dd4bf' }}\n                >\n                  Click to continue as Provider →\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Back to Login */}\n          <div className=\"text-center\">\n            <Link \n              href=\"/login\" \n              className=\"inline-flex items-center gap-2 text-sm font-medium transition-all duration-300 hover:gap-3\"\n              style={{ color: '#2dd4bf' }}\n              data-testid=\"link-back-to-login\"\n            >\n              <span>←</span>\n              <span>Back to Login</span>\n            </Link>\n          </div>\n        </div>\n      </div>\n\n      <style>{`\n        ${floatingDots.map((dot) => `\n          @keyframes floatDot${dot.id} {\n            0%, 100% { \n              transform: translate3d(0, 0, 0); \n              opacity: 0.4; \n            }\n            25% { \n              transform: translate3d(${dot.xRange * 0.4}px, ${dot.yRange * 0.4}px, 0); \n              opacity: 0.5; \n            }\n            50% { \n              transform: translate3d(${dot.xRange}px, ${dot.yRange}px, 0); \n              opacity: 0.6; \n            }\n            75% { \n              transform: translate3d(${dot.xRange * 0.6}px, ${dot.yRange * 0.7}px, 0); \n              opacity: 0.48; \n            }\n          }\n        `).join('\\n')}\n\n        ${unevenCircles.map((circle) => `\n          @keyframes floatCircle${circle.id} {\n            0%, 100% { \n              transform: translate3d(0, 0, 0) scale(1); \n              opacity: ${circle.opacity}; \n            }\n            25% { \n              transform: translate3d(${circle.xRange * 0.5}px, ${circle.yRange * 0.4}px, 0) scale(1.05); \n              opacity: ${circle.opacity * 1.3}; \n            }\n            50% { \n              transform: translate3d(${circle.xRange}px, ${circle.yRange}px, 0) scale(1.1); \n              opacity: ${circle.opacity * 1.5}; \n            }\n            75% { \n              transform: translate3d(${circle.xRange * 0.7}px, ${circle.yRange * 0.6}px, 0) scale(1.03); \n              opacity: ${circle.opacity * 1.2}; \n            }\n          }\n        `).join('\\n')}\n\n        @keyframes wave1 {\n          0%, 100% { \n            transform: translateY(0) scaleX(1);\n            opacity: 0.3;\n          }\n          50% { \n            transform: translateY(-30px) scaleX(1.1);\n            opacity: 0.4;\n          }\n        }\n\n        @keyframes wave2 {\n          0%, 100% { \n            transform: translateX(0) scaleY(1);\n            opacity: 0.2;\n          }\n          50% { \n            transform: translateX(40px) scaleY(1.15);\n            opacity: 0.3;\n          }\n        }\n\n        @keyframes wave3 {\n          0%, 100% { \n            transform: translateY(0) scaleX(1);\n            opacity: 0.25;\n          }\n          50% { \n            transform: translateY(30px) scaleX(1.1);\n            opacity: 0.35;\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n","size_bytes":14583},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5741},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1592},"server/models/Prediction.ts":{"content":"import mongoose from 'mongoose';\n\nconst predictionSchema = new mongoose.Schema({\n  userId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true,\n  },\n  predictedInsulin: {\n    type: Number,\n    required: true,\n    min: 0,\n  },\n  confidence: {\n    type: Number,\n    required: true,\n    min: 0,\n    max: 1,\n  },\n  factors: {\n    glucose: {\n      type: Number,\n      required: true,\n    },\n    carbs: {\n      type: Number,\n      required: true,\n    },\n    activityLevel: {\n      type: String,\n      required: true,\n    },\n  },\n  timestamp: {\n    type: Date,\n    default: Date.now,\n  },\n}, {\n  timestamps: true,\n});\n\npredictionSchema.index({ userId: 1, timestamp: -1 });\n\nexport const PredictionModel = mongoose.model('Prediction', predictionSchema);\n","size_bytes":774},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"client/src/components/GlucoseTrendChart.tsx":{"content":"import { useState } from 'react';\nimport { Card } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Area, AreaChart } from 'recharts';\n\nconst timeRanges = ['6h', '24h', '7d', '30d'] as const;\ntype TimeRange = typeof timeRanges[number];\n\nconst mockData: Record<TimeRange, Array<{ time: string; glucose: number }>> = {\n  '6h': [\n    { time: '12 AM', glucose: 95 },\n    { time: '2 AM', glucose: 88 },\n    { time: '4 AM', glucose: 92 },\n    { time: '6 AM', glucose: 105 },\n    { time: '8 AM', glucose: 118 },\n    { time: '10 AM', glucose: 112 },\n  ],\n  '24h': [\n    { time: '12 AM', glucose: 95 },\n    { time: '6 AM', glucose: 105 },\n    { time: '12 PM', glucose: 125 },\n    { time: '6 PM', glucose: 110 },\n    { time: '12 AM', glucose: 98 },\n  ],\n  '7d': [\n    { time: 'Mon', glucose: 108 },\n    { time: 'Tue', glucose: 112 },\n    { time: 'Wed', glucose: 105 },\n    { time: 'Thu', glucose: 118 },\n    { time: 'Fri', glucose: 102 },\n    { time: 'Sat', glucose: 115 },\n    { time: 'Sun', glucose: 110 },\n  ],\n  '30d': [\n    { time: 'Week 1', glucose: 110 },\n    { time: 'Week 2', glucose: 108 },\n    { time: 'Week 3', glucose: 112 },\n    { time: 'Week 4', glucose: 106 },\n  ],\n};\n\nexport default function GlucoseTrendChart() {\n  const [selectedRange, setSelectedRange] = useState<TimeRange>('24h');\n\n  return (\n    <Card \n      className=\"p-5 card-interactive glass-card flex flex-col\" \n      style={{ height: '360px' }} \n      data-testid=\"card-glucose-trends\"\n    >\n      <div className=\"flex items-center justify-between mb-5\">\n        <h2 className=\"text-lg font-bold text-foreground\">Glucose Trends</h2>\n        <div className=\"flex gap-1 bg-secondary rounded-lg p-1\">\n          {timeRanges.map((range) => (\n            <Button\n              key={range}\n              size=\"sm\"\n              variant={selectedRange === range ? 'default' : 'ghost'}\n              onClick={() => {\n                setSelectedRange(range);\n                console.log(`Time range changed to ${range}`);\n              }}\n              className={selectedRange === range ? 'bg-primary text-primary-foreground' : ''}\n              data-testid={`button-timerange-${range}`}\n            >\n              {range}\n            </Button>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"flex-1 mb-4\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <AreaChart data={mockData[selectedRange]}>\n            <defs>\n              <linearGradient id=\"glucoseGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                <stop offset=\"5%\" stopColor=\"hsl(var(--primary))\" stopOpacity={0.3} />\n                <stop offset=\"95%\" stopColor=\"hsl(var(--primary))\" stopOpacity={0} />\n              </linearGradient>\n            </defs>\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"hsl(var(--border))\" opacity={0.3} />\n            <XAxis \n              dataKey=\"time\" \n              stroke=\"hsl(var(--muted-foreground))\"\n              fontSize={12}\n              tickLine={false}\n              axisLine={{ stroke: 'hsl(var(--border))' }}\n            />\n            <YAxis \n              stroke=\"hsl(var(--muted-foreground))\"\n              fontSize={12}\n              domain={[60, 150]}\n              tickLine={false}\n              axisLine={{ stroke: 'hsl(var(--border))' }}\n            />\n            <Tooltip \n              contentStyle={{ \n                backgroundColor: 'hsl(var(--card))',\n                border: '1px solid hsl(var(--border))',\n                borderRadius: '8px',\n                color: 'hsl(var(--foreground))'\n              }}\n            />\n            <Area \n              type=\"monotone\" \n              dataKey=\"glucose\" \n              stroke=\"hsl(var(--primary))\" \n              strokeWidth={3}\n              fill=\"url(#glucoseGradient)\"\n              dot={{ fill: 'hsl(var(--primary))', r: 4 }}\n            />\n          </AreaChart>\n        </ResponsiveContainer>\n      </div>\n\n      <div className=\"flex items-center justify-between bg-secondary/50 rounded-lg px-4 py-3\">\n        <div className=\"flex items-center gap-3\">\n          <span className=\"text-sm text-muted-foreground font-medium\">Current Status</span>\n          <span className=\"font-bold text-xl text-foreground\">98 mg/dL</span>\n        </div>\n        <Badge className=\"bg-primary/20 text-primary px-3 py-1\" data-testid=\"badge-status\">\n          Within Target\n        </Badge>\n      </div>\n    </Card>\n  );\n}\n","size_bytes":4561},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":844},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1202},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/VoiceAssistantCard.tsx":{"content":"import { useState } from 'react';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Mic } from 'lucide-react';\n\ninterface VoiceAssistantCardProps {\n  title: string;\n  subtitle: string;\n  buttonText: string;\n  buttonVariant?: 'default' | 'destructive' | 'outline' | 'secondary';\n}\n\nexport default function VoiceAssistantCard({ \n  title, \n  subtitle, \n  buttonText,\n  buttonVariant = 'default'\n}: VoiceAssistantCardProps) {\n  const [recognizedText, setRecognizedText] = useState('');\n\n  const handleVoiceInput = () => {\n    console.log('Voice input activated');\n    setRecognizedText('Recognized: Glucose 120, BMI 24.5, Age 45');\n  };\n\n  return (\n    <Card \n      className=\"p-5 card-interactive glass-card flex flex-col\" \n      style={{ height: '220px' }} \n      data-testid=\"card-voice-assistant\"\n    >\n      <h3 className=\"font-bold text-base text-foreground mb-4\">{title}</h3>\n      <div className=\"flex flex-col items-center gap-4 flex-1 justify-center\">\n        <div className=\"w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center\">\n          <Mic className=\"h-7 w-7 text-primary\" />\n        </div>\n        <p className=\"text-sm text-muted-foreground text-center px-2\">{subtitle}</p>\n        <Button \n          className=\"bg-primary hover:bg-primary/90 text-primary-foreground px-6\"\n          onClick={handleVoiceInput}\n          data-testid=\"button-voice-record\"\n          size=\"sm\"\n        >\n          {buttonText}\n        </Button>\n      </div>\n      {recognizedText && (\n        <div className=\"bg-secondary/50 rounded-lg p-3 mt-3\">\n          <p className=\"text-xs text-muted-foreground mb-1 font-medium\">Recognized:</p>\n          <p className=\"text-sm text-foreground\" data-testid=\"text-recognized\">{recognizedText}</p>\n        </div>\n      )}\n    </Card>\n  );\n}\n","size_bytes":1842},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n  --opaque-button-border-intensity: -8;\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n  --background: 0 0% 100%;\n  --foreground: 0 0% 9%;\n  --border: 220 13% 91%;\n  --card: 0 0% 98%;\n  --card-foreground: 0 0% 9%;\n  --card-border: 220 13% 95%;\n  --sidebar: 220 13% 96%;\n  --sidebar-foreground: 220 13% 11%;\n  --sidebar-border: 220 13% 93%;\n  --sidebar-primary: 164 72% 46%;\n  --sidebar-primary-foreground: 0 0% 98%;\n  --sidebar-accent: 220 13% 91%;\n  --sidebar-accent-foreground: 220 13% 11%;\n  --sidebar-ring: 164 72% 46%;\n  --popover: 220 13% 94%;\n  --popover-foreground: 220 13% 11%;\n  --popover-border: 220 13% 91%;\n  --primary: 164 72% 46%;\n  --primary-foreground: 165 43% 94%;\n  --secondary: 220 13% 90%;\n  --secondary-foreground: 220 13% 11%;\n  --muted: 220 13% 93%;\n  --muted-foreground: 171 7% 63%;\n  --accent: 220 12% 94%;\n  --accent-foreground: 220 13% 11%;\n  --destructive: 0 84% 35%;\n  --destructive-foreground: 0 84% 97%;\n  --input: 220 13% 78%;\n  --ring: 164 72% 46%;\n  --chart-1: 164 72% 46%;\n  --chart-2: 164 72% 42%;\n  --chart-3: 164 72% 50%;\n  --chart-4: 164 72% 38%;\n  --chart-5: 164 72% 54%;\n  --font-sans: Open Sans, sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: Menlo, monospace;\n  --radius: .5rem;\n  --shadow-2xs: 0px 2px 0px 0px hsl(220 13% 11% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(220 13% 11% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(220 13% 11% / 0.00), 0px 1px 2px -1px hsl(220 13% 11% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(220 13% 11% / 0.00), 0px 1px 2px -1px hsl(220 13% 11% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(220 13% 11% / 0.00), 0px 2px 4px -1px hsl(220 13% 11% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(220 13% 11% / 0.00), 0px 4px 6px -1px hsl(220 13% 11% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(220 13% 11% / 0.00), 0px 8px 10px -1px hsl(220 13% 11% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(220 13% 11% / 0.00);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n/* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n  --opaque-button-border-intensity: 9;\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n  --background: 220 47% 6%;\n  --foreground: 165 43% 94%;\n  --border: 217 19% 20%;\n  --card: 217 33% 10%;\n  --card-foreground: 165 43% 94%;\n  --card-border: 217 33% 14%;\n  --sidebar: 217 33% 8%;\n  --sidebar-foreground: 165 43% 94%;\n  --sidebar-border: 217 33% 12%;\n  --sidebar-primary: 164 72% 46%;\n  --sidebar-primary-foreground: 220 47% 6%;\n  --sidebar-accent: 217 33% 14%;\n  --sidebar-accent-foreground: 165 43% 94%;\n  --sidebar-ring: 164 72% 46%;\n  --popover: 217 33% 10%;\n  --popover-foreground: 165 43% 94%;\n  --popover-border: 217 19% 20%;\n  --primary: 164 72% 46%;\n  --primary-foreground: 165 43% 94%;\n  --secondary: 217 33% 14%;\n  --secondary-foreground: 165 43% 94%;\n  --muted: 217 33% 12%;\n  --muted-foreground: 171 7% 63%;\n  --accent: 164 72% 46%;\n  --accent-foreground: 165 43% 94%;\n  --destructive: 0 72% 51%;\n  --destructive-foreground: 165 43% 94%;\n  --input: 217 19% 27%;\n  --ring: 164 72% 46%;\n  --chart-1: 164 72% 46%;\n  --chart-2: 164 72% 42%;\n  --chart-3: 164 72% 50%;\n  --chart-4: 164 72% 38%;\n  --chart-5: 164 72% 54%;\n  --shadow-2xs: 0px 2px 0px 0px hsl(220 47% 6% / 0.30);\n  --shadow-xs: 0px 2px 0px 0px hsl(220 47% 6% / 0.40);\n  --shadow-sm: 0px 2px 0px 0px hsl(220 47% 6% / 0.50), 0px 1px 2px -1px hsl(220 47% 6% / 0.40);\n  --shadow: 0px 2px 0px 0px hsl(220 47% 6% / 0.50), 0px 1px 2px -1px hsl(220 47% 6% / 0.40);\n  --shadow-md: 0px 2px 0px 0px hsl(220 47% 6% / 0.60), 0px 2px 4px -1px hsl(220 47% 6% / 0.50);\n  --shadow-lg: 0px 4px 6px -1px hsl(220 47% 6% / 0.60), 0px 2px 4px -1px hsl(220 47% 6% / 0.50);\n  --shadow-xl: 0px 10px 15px -3px hsl(220 47% 6% / 0.70), 0px 4px 6px -2px hsl(220 47% 6% / 0.60);\n  --shadow-2xl: 0px 25px 50px -12px hsl(220 47% 6% / 0.80);\n\n/* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}\n\n/* Enhanced Glass Morphism Animations */\n@keyframes wave-slow {\n  0% { transform: translateX(-100px) scaleY(1); }\n  50% { transform: translateX(100px) scaleY(1.1); }\n  100% { transform: translateX(-100px) scaleY(1); }\n}\n\n@keyframes wave-medium {\n  0% { transform: translateX(-150px) scaleY(1.1); }\n  50% { transform: translateX(150px) scaleY(1); }\n  100% { transform: translateX(-150px) scaleY(1.1); }\n}\n\n@keyframes wave-fast {\n  0% { transform: translateX(-200px) scaleY(1.2); }\n  50% { transform: translateX(200px) scaleY(0.9); }\n  100% { transform: translateX(-200px) scaleY(1.2); }\n}\n\n@keyframes float-slow {\n  0%, 100% { transform: translateY(0px) scale(1); opacity: 0.5; }\n  50% { transform: translateY(-20px) scale(1.05); opacity: 0.3; }\n}\n\n@keyframes pulse-slow {\n  0%, 100% { opacity: 0.1; transform: scale(1); }\n  50% { opacity: 0.15; transform: scale(1.1); }\n}\n\n@keyframes pulse-medium {\n  0%, 100% { opacity: 0.08; transform: scale(1); }\n  50% { opacity: 0.12; transform: scale(1.05); }\n}\n\n/* Glassmorphism base styling */\n@layer utilities {\n  .glass-card {\n    background: rgba(255, 255, 255, 0.03);\n    border-radius: 12px;\n    border: 1px solid rgba(255, 255, 255, 0.1);\n    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1), 0 2px 8px rgba(0, 0, 0, 0.2);\n    backdrop-filter: blur(12px);\n    -webkit-backdrop-filter: blur(12px);\n  }\n  \n  /* Card hover microinteraction: scale + glow */\n  .card-interactive {\n    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;\n  }\n  \n  .card-interactive:hover {\n    transform: scale(1.02);\n    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1), 0 0 20px rgba(33, 200, 155, 0.3), 0 4px 12px rgba(0, 0, 0, 0.2);\n  }\n}\n\n@keyframes pulse-fast {\n  0%, 100% { opacity: 0.06; transform: scale(1); }\n  50% { opacity: 0.09; transform: scale(1.02); }\n}\n\n.animate-wave-slow { animation: wave-slow 8s ease-in-out infinite; }\n.animate-wave-medium { animation: wave-medium 6s ease-in-out infinite; }\n.animate-wave-fast { animation: wave-fast 4s ease-in-out infinite; }\n.animate-float-slow { animation: float-slow 6s ease-in-out infinite; }\n.animate-pulse-slow { animation: pulse-slow 8s ease-in-out infinite; }\n.animate-pulse-medium { animation: pulse-medium 6s ease-in-out infinite; }\n.animate-pulse-fast { animation: pulse-fast 4s ease-in-out infinite; }\n","size_bytes":13070},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/components/FloatingParticles.tsx":{"content":"export default function FloatingParticles() {\n  const particles = Array.from({ length: 20 }, (_, i) => ({\n    id: i,\n    size: Math.random() * 40 + 20,\n    left: Math.random() * 100,\n    top: Math.random() * 100,\n    delay: Math.random() * 5,\n  }));\n\n  return (\n    <div className=\"fixed inset-0 overflow-hidden pointer-events-none\">\n      {particles.map((particle) => (\n        <div\n          key={particle.id}\n          className=\"absolute rounded-full bg-accent/5\"\n          style={{\n            width: `${particle.size}px`,\n            height: `${particle.size}px`,\n            left: `${particle.left}%`,\n            top: `${particle.top}%`,\n            animation: `float ${15 + Math.random() * 10}s ease-in-out infinite`,\n            animationDelay: `${particle.delay}s`,\n          }}\n        />\n      ))}\n      <style>{`\n        @keyframes float {\n          0%, 100% { transform: translateY(0) translateX(0); }\n          25% { transform: translateY(-20px) translateX(10px); }\n          50% { transform: translateY(-10px) translateX(-10px); }\n          75% { transform: translateY(-30px) translateX(5px); }\n        }\n      `}</style>\n    </div>\n  );\n}\n","size_bytes":1157},"client/src/components/examples/VoiceAssistantCard.tsx":{"content":"import VoiceAssistantCard from '../VoiceAssistantCard';\n\nexport default function VoiceAssistantCardExample() {\n  return (\n    <div className=\"p-6 bg-background grid grid-cols-1 md:grid-cols-2 gap-4 max-w-4xl\">\n      <VoiceAssistantCard\n        title=\"Voice Food Logging\"\n        subtitle=\"Tap mic to log your meal\"\n        buttonText=\"Log Meal\"\n      />\n      <VoiceAssistantCard\n        title=\"Voice Health Assistant\"\n        subtitle=\"Tap microphone to record health data\"\n        buttonText=\"Record\"\n        buttonVariant=\"default\"\n      />\n    </div>\n  );\n}\n","size_bytes":562},"server/models/HealthData.ts":{"content":"import mongoose from 'mongoose';\n\nconst healthDataSchema = new mongoose.Schema({\n  userId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true,\n  },\n  glucose: {\n    type: Number,\n    required: true,\n    min: 0,\n    max: 1000,\n  },\n  insulin: {\n    type: Number,\n    required: true,\n    min: 0,\n    max: 200,\n  },\n  carbs: {\n    type: Number,\n    required: true,\n    min: 0,\n    max: 500,\n  },\n  activityLevel: {\n    type: String,\n    enum: ['sedentary', 'light', 'moderate', 'active', 'very_active'],\n  },\n  notes: String,\n  timestamp: {\n    type: Date,\n    default: Date.now,\n  },\n}, {\n  timestamps: true,\n});\n\nhealthDataSchema.index({ userId: 1, timestamp: -1 });\n\nexport const HealthDataModel = mongoose.model('HealthData', healthDataSchema);\n","size_bytes":775},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"server/utils/password.ts":{"content":"import bcrypt from 'bcryptjs';\n\nconst SALT_ROUNDS = 10;\n\nexport async function hashPassword(password: string): Promise<string> {\n  return bcrypt.hash(password, SALT_ROUNDS);\n}\n\nexport async function comparePassword(password: string, hash: string): Promise<boolean> {\n  return bcrypt.compare(password, hash);\n}\n","size_bytes":310},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/pages/AdminDashboard.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { SidebarProvider, SidebarTrigger } from '@/components/ui/sidebar';\nimport AppSidebar from '@/components/AppSidebar';\nimport { Card } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { api } from '@/lib/api';\nimport { useAuth } from '@/lib/auth-context';\nimport { useToast } from '@/hooks/use-toast';\nimport { Shield, Check, X } from 'lucide-react';\n\nexport default function AdminDashboard() {\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const [users, setUsers] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  const fetchUsers = async () => {\n    try {\n      const response = await api.getAllUsers();\n      setUsers(response.users);\n    } catch (error: any) {\n      console.error('Failed to fetch users:', error);\n      toast({\n        title: 'Failed to load users',\n        description: error.message || 'Please try refreshing the page',\n        variant: 'destructive',\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const handleApproval = async (userId: string, isApproved: boolean) => {\n    try {\n      await api.updateUserApproval(userId, isApproved);\n      toast({\n        title: isApproved ? 'User approved' : 'User rejected',\n        description: `User has been ${isApproved ? 'approved' : 'rejected'} successfully`,\n      });\n      fetchUsers();\n    } catch (error: any) {\n      toast({\n        title: 'Action failed',\n        description: error.message || 'Failed to update user approval',\n        variant: 'destructive',\n      });\n    }\n  };\n\n  const sidebarStyle = {\n    '--sidebar-width': '20rem',\n    '--sidebar-width-icon': '4rem',\n  };\n\n  const pendingUsers = users.filter(u => !u.isApproved && u.role !== 'admin');\n  const approvedUsers = users.filter(u => u.isApproved);\n\n  return (\n    <SidebarProvider style={sidebarStyle as React.CSSProperties}>\n      <div className=\"flex h-screen w-full\">\n        <AppSidebar />\n        <div className=\"flex flex-col flex-1 overflow-hidden\">\n          <header className=\"flex items-center justify-between p-4 border-b border-border\">\n            <SidebarTrigger data-testid=\"button-sidebar-toggle\" />\n          </header>\n          \n          <main className=\"flex-1 overflow-y-auto p-6 space-y-6\">\n            <div>\n              <h1 className=\"text-3xl font-bold mb-1\">Admin Dashboard</h1>\n              <p className=\"text-muted-foreground\">Manage user approvals and system settings</p>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <Card className=\"p-4\">\n                <p className=\"text-sm text-muted-foreground mb-1\">Total Users</p>\n                <p className=\"text-3xl font-bold\">{users.length}</p>\n              </Card>\n              <Card className=\"p-4\">\n                <p className=\"text-sm text-muted-foreground mb-1\">Pending Approval</p>\n                <p className=\"text-3xl font-bold text-orange-500\">{pendingUsers.length}</p>\n              </Card>\n              <Card className=\"p-4\">\n                <p className=\"text-sm text-muted-foreground mb-1\">Approved Users</p>\n                <p className=\"text-3xl font-bold text-primary\">{approvedUsers.length}</p>\n              </Card>\n            </div>\n\n            {pendingUsers.length > 0 && (\n              <Card className=\"p-6\">\n                <div className=\"flex items-center gap-4 mb-4\">\n                  <Shield className=\"h-6 w-6 text-orange-500\" />\n                  <h2 className=\"text-xl font-bold\">Pending Approvals</h2>\n                </div>\n\n                <div className=\"space-y-3\">\n                  {pendingUsers.map((user) => (\n                    <Card key={user.id} className=\"p-4\" data-testid={`card-pending-user-${user.id}`}>\n                      <div className=\"flex items-center justify-between gap-4\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center gap-2 mb-1\">\n                            <h3 className=\"font-semibold\">{user.name}</h3>\n                            <Badge variant=\"secondary\">{user.role}</Badge>\n                          </div>\n                          <p className=\"text-sm text-muted-foreground\">{user.email}</p>\n                          <p className=\"text-xs text-muted-foreground mt-1\">\n                            Registered: {new Date(user.createdAt).toLocaleDateString()}\n                          </p>\n                        </div>\n                        <div className=\"flex gap-2\">\n                          <Button\n                            size=\"sm\"\n                            className=\"bg-primary\"\n                            onClick={() => handleApproval(user.id, true)}\n                            data-testid={`button-approve-${user.id}`}\n                          >\n                            <Check className=\"h-4 w-4 mr-1\" />\n                            Approve\n                          </Button>\n                          <Button\n                            size=\"sm\"\n                            variant=\"destructive\"\n                            onClick={() => handleApproval(user.id, false)}\n                            data-testid={`button-reject-${user.id}`}\n                          >\n                            <X className=\"h-4 w-4 mr-1\" />\n                            Reject\n                          </Button>\n                        </div>\n                      </div>\n                    </Card>\n                  ))}\n                </div>\n              </Card>\n            )}\n\n            <Card className=\"p-6\">\n              <h2 className=\"text-xl font-bold mb-4\">All Users</h2>\n\n              {loading ? (\n                <p className=\"text-muted-foreground text-center py-8\">Loading users...</p>\n              ) : users.length === 0 ? (\n                <p className=\"text-muted-foreground text-center py-8\">No users found</p>\n              ) : (\n                <div className=\"space-y-3\">\n                  {users.map((user) => (\n                    <Card key={user.id} className=\"p-4\" data-testid={`card-user-${user.id}`}>\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <div className=\"flex items-center gap-2 mb-1\">\n                            <h3 className=\"font-semibold\">{user.name}</h3>\n                            <Badge variant=\"secondary\">{user.role}</Badge>\n                            {user.isApproved ? (\n                              <Badge className=\"bg-primary/20 text-primary\">Approved</Badge>\n                            ) : (\n                              <Badge variant=\"destructive\">Pending</Badge>\n                            )}\n                          </div>\n                          <p className=\"text-sm text-muted-foreground\">{user.email}</p>\n                        </div>\n                        <div className=\"text-right\">\n                          <p className=\"text-xs text-muted-foreground\">\n                            {new Date(user.createdAt).toLocaleDateString()}\n                          </p>\n                        </div>\n                      </div>\n                    </Card>\n                  ))}\n                </div>\n              )}\n            </Card>\n          </main>\n        </div>\n      </div>\n    </SidebarProvider>\n  );\n}\n","size_bytes":7449},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"server/storage.ts":{"content":"import {  type User,\n  type InsertUser,\n  type HealthData,\n  type InsertHealthData,\n  type Meal,\n  type InsertMeal,\n  type MedicalReport,\n  type InsertMedicalReport,\n  type Prediction,\n  type InsertPrediction,\n  type UserProfile,\n  type InsertUserProfile,\n  users,\n  healthData,\n  meals,\n  medicalReports,\n  predictions,\n  userProfiles,\n} from \"@shared/schema\";\nimport { db } from \"./db\";\nimport { eq, desc } from \"drizzle-orm\";\n\nexport interface IStorage {\n  // User operations\n  getUser(id: string): Promise<User | null>;\n  getUserByEmail(email: string): Promise<User | null>;\n  createUser(user: InsertUser): Promise<User>;\n  updateUserApproval(id: string, isApproved: boolean): Promise<User | null>;\n  getAllUsers(): Promise<User[]>;\n  \n  // Health data operations\n  createHealthData(userId: string, data: InsertHealthData): Promise<HealthData>;\n  getHealthDataByUser(userId: string, limit?: number): Promise<HealthData[]>;\n  getLatestHealthData(userId: string): Promise<HealthData | null>;\n  \n  // Meal operations\n  createMeal(userId: string, meal: InsertMeal): Promise<Meal>;\n  getMealsByUser(userId: string, limit?: number): Promise<Meal[]>;\n  \n  // Medical report operations\n  getMedicalReportsByPatient(patientId: string): Promise<MedicalReport[]>;\n  createMedicalReport(patientId: string, uploaderId: string, report: {\n    fileName: string;\n    fileUrl: string;\n    fileType: string;\n    fileSize: number;\n    description?: string;\n  }): Promise<MedicalReport>;\n  \n  // Prediction operations\n  createPrediction(userId: string, prediction: InsertPrediction): Promise<Prediction>;\n  getPredictionsByUser(userId: string, limit?: number): Promise<Prediction[]>;\n  getLatestPrediction(userId: string): Promise<Prediction | null>;\n  \n  // User profile operations\n  createUserProfile(userId: string, profile: InsertUserProfile): Promise<UserProfile>;\n  getUserProfile(userId: string): Promise<UserProfile | null>;\n  updateUserProfile(userId: string, profile: Partial<InsertUserProfile>): Promise<UserProfile | null>;\n}\n\n// Helper function to coerce nullable values\nfunction toNumber(val: number | null): number | undefined {\n  return val === null ? undefined : val;\n}\n\nexport class DrizzleStorage implements IStorage {\n  // ==================== USER OPERATIONS ====================\n  \n  async getUser(id: string): Promise<User | null> {\n    const userId = parseInt(id);\n    if (isNaN(userId)) return null;\n    \n    const result = await db.select().from(users).where(eq(users.id, userId)).limit(1);\n    if (result.length === 0) return null;\n    \n    const user = result[0];\n    return {\n      _id: user.id.toString(),\n      name: user.name,\n      email: user.email,\n      password: user.password,\n      role: user.role,\n      isApproved: user.isApproved,\n      createdAt: user.createdAt,\n      updatedAt: user.updatedAt,\n    };\n  }\n\n  async getUserByEmail(email: string): Promise<User | null> {\n    const result = await db.select().from(users).where(eq(users.email, email)).limit(1);\n    if (result.length === 0) return null;\n    \n    const user = result[0];\n    return {\n      _id: user.id.toString(),\n      name: user.name,\n      email: user.email,\n      password: user.password,\n      role: user.role,\n      isApproved: user.isApproved,\n      createdAt: user.createdAt,\n      updatedAt: user.updatedAt,\n    };\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const isApproved = true;\n    \n    const result = await db.insert(users).values({\n      ...insertUser,\n      isApproved,\n    }).returning();\n    \n    const user = result[0];\n    return {\n      _id: user.id.toString(),\n      name: user.name,\n      email: user.email,\n      password: user.password,\n      role: user.role,\n      isApproved: user.isApproved,\n      createdAt: user.createdAt,\n      updatedAt: user.updatedAt,\n    };\n  }\n\n  async updateUserApproval(id: string, isApproved: boolean): Promise<User | null> {\n    const userId = parseInt(id);\n    if (isNaN(userId)) return null;\n    \n    const result = await db.update(users)\n      .set({ isApproved, updatedAt: new Date() })\n      .where(eq(users.id, userId))\n      .returning();\n    \n    if (result.length === 0) return null;\n    \n    const user = result[0];\n    return {\n      _id: user.id.toString(),\n      name: user.name,\n      email: user.email,\n      password: user.password,\n      role: user.role,\n      isApproved: user.isApproved,\n      createdAt: user.createdAt,\n      updatedAt: user.updatedAt,\n    };\n  }\n\n  async getAllUsers(): Promise<User[]> {\n    const result = await db.select().from(users);\n    \n    return result.map(user => ({\n      _id: user.id.toString(),\n      name: user.name,\n      email: user.email,\n      password: user.password,\n      role: user.role,\n      isApproved: user.isApproved,\n      createdAt: user.createdAt,\n      updatedAt: user.updatedAt,\n    }));\n  }\n\n  // ==================== HEALTH DATA OPERATIONS ====================\n  \n  async createHealthData(userId: string, data: InsertHealthData): Promise<HealthData> {\n    const userIdNum = parseInt(userId);\n    if (isNaN(userIdNum)) throw new Error('Invalid user ID');\n    \n    const result = await db.insert(healthData).values({\n      userId: userIdNum,\n      glucose: Math.round(data.glucose),\n      insulin: Math.round(data.insulin),\n      carbs: Math.round(data.carbs),\n      activityLevel: data.activityLevel,\n      notes: data.notes,\n    }).returning();\n    \n    const record = result[0];\n    return {\n      _id: record.id.toString(),\n      userId: userId,\n      glucose: record.glucose,\n      insulin: record.insulin,\n      carbs: record.carbs,\n      activityLevel: record.activityLevel || undefined,\n      notes: record.notes || undefined,\n      timestamp: record.timestamp,\n    };\n  }\n\n  async getHealthDataByUser(userId: string, limit: number = 50): Promise<HealthData[]> {\n    const userIdNum = parseInt(userId);\n    if (isNaN(userIdNum)) return [];\n    \n    const result = await db.select()\n      .from(healthData)\n      .where(eq(healthData.userId, userIdNum))\n      .orderBy(desc(healthData.timestamp))\n      .limit(limit);\n    \n    return result.map(record => ({\n      _id: record.id.toString(),\n      userId: userId,\n      glucose: record.glucose,\n      insulin: record.insulin,\n      carbs: record.carbs,\n      activityLevel: record.activityLevel || undefined,\n      notes: record.notes || undefined,\n      timestamp: record.timestamp,\n    }));\n  }\n\n  async getLatestHealthData(userId: string): Promise<HealthData | null> {\n    const userIdNum = parseInt(userId);\n    if (isNaN(userIdNum)) return null;\n    \n    const result = await db.select()\n      .from(healthData)\n      .where(eq(healthData.userId, userIdNum))\n      .orderBy(desc(healthData.timestamp))\n      .limit(1);\n    \n    if (result.length === 0) return null;\n    \n    const record = result[0];\n    return {\n      _id: record.id.toString(),\n      userId: userId,\n      glucose: record.glucose,\n      insulin: record.insulin,\n      carbs: record.carbs,\n      activityLevel: record.activityLevel || undefined,\n      notes: record.notes || undefined,\n      timestamp: record.timestamp,\n    };\n  }\n\n  // ==================== MEAL OPERATIONS ====================\n  \n  async createMeal(userId: string, meal: InsertMeal): Promise<Meal> {\n    const userIdNum = parseInt(userId);\n    if (isNaN(userIdNum)) throw new Error('Invalid user ID');\n    \n    const result = await db.insert(meals).values({\n      userId: userIdNum,\n      name: meal.name,\n      carbs: Math.round(meal.carbs),\n      protein: meal.protein == null ? null : Math.round(meal.protein),\n      fat: meal.fat == null ? null : Math.round(meal.fat),\n      calories: meal.calories ?? null,\n      voiceRecorded: meal.voiceRecorded,\n    }).returning();\n    \n    const record = result[0];\n    return {\n      _id: record.id.toString(),\n      userId: userId,\n      name: record.name,\n      carbs: record.carbs,\n      protein: record.protein ?? undefined,\n      fat: record.fat ?? undefined,\n      calories: record.calories ?? undefined,\n      voiceRecorded: record.voiceRecorded,\n      timestamp: record.timestamp,\n    };\n  }\n\n  async getMealsByUser(userId: string, limit: number = 50): Promise<Meal[]> {\n    const userIdNum = parseInt(userId);\n    if (isNaN(userIdNum)) return [];\n    \n    const result = await db.select()\n      .from(meals)\n      .where(eq(meals.userId, userIdNum))\n      .orderBy(desc(meals.timestamp))\n      .limit(limit);\n    \n    return result.map(record => ({\n      _id: record.id.toString(),\n      userId: userId,\n      name: record.name,\n      carbs: record.carbs,\n      protein: record.protein ?? undefined,\n      fat: record.fat ?? undefined,\n      calories: record.calories ?? undefined,\n      voiceRecorded: record.voiceRecorded,\n      timestamp: record.timestamp,\n    }));\n  }\n\n  // ==================== MEDICAL REPORT OPERATIONS ====================\n  \n  async getMedicalReportsByPatient(patientId: string): Promise<MedicalReport[]> {\n    const patientIdNum = parseInt(patientId);\n    if (isNaN(patientIdNum)) return [];\n    \n    const result = await db.select()\n      .from(medicalReports)\n      .where(eq(medicalReports.patientId, patientIdNum))\n      .orderBy(desc(medicalReports.uploadedAt));\n    \n    return result.map(record => ({\n      _id: record.id.toString(),\n      patientId: record.patientId.toString(),\n      fileName: record.fileName,\n      fileUrl: record.fileUrl,\n      fileType: record.fileType,\n      fileSize: record.fileSize,\n      uploadedBy: record.uploadedBy.toString(),\n      description: record.description || undefined,\n      uploadedAt: record.uploadedAt,\n    }));\n  }\n\n  async createMedicalReport(patientId: string, uploaderId: string, report: {\n    fileName: string;\n    fileUrl: string;\n    fileType: string;\n    fileSize: number;\n    description?: string;\n  }): Promise<MedicalReport> {\n    const patientIdNum = parseInt(patientId);\n    const uploaderIdNum = parseInt(uploaderId);\n    \n    if (isNaN(patientIdNum) || isNaN(uploaderIdNum)) {\n      throw new Error('Invalid patient ID or uploader ID');\n    }\n    \n    const result = await db.insert(medicalReports).values({\n      patientId: patientIdNum,\n      fileName: report.fileName,\n      fileUrl: report.fileUrl,\n      fileType: report.fileType,\n      fileSize: report.fileSize,\n      uploadedBy: uploaderIdNum,\n      description: report.description,\n    }).returning();\n    \n    const record = result[0];\n    return {\n      _id: record.id.toString(),\n      patientId: record.patientId.toString(),\n      fileName: record.fileName,\n      fileUrl: record.fileUrl,\n      fileType: record.fileType,\n      fileSize: record.fileSize,\n      uploadedBy: record.uploadedBy.toString(),\n      description: record.description || undefined,\n      uploadedAt: record.uploadedAt,\n    };\n  }\n\n  // ==================== PREDICTION OPERATIONS ====================\n  \n  async createPrediction(userId: string, prediction: InsertPrediction): Promise<Prediction> {\n    const userIdNum = parseInt(userId);\n    if (isNaN(userIdNum)) throw new Error('Invalid user ID');\n    \n    const result = await db.insert(predictions).values({\n      userId: userIdNum,\n      predictedInsulin: Math.round(prediction.predictedInsulin),\n      confidence: Math.round(prediction.confidence * 100),\n      factors: prediction.factors,\n    }).returning();\n    \n    const record = result[0];\n    return {\n      _id: record.id.toString(),\n      userId: userId,\n      predictedInsulin: record.predictedInsulin,\n      confidence: record.confidence / 100,\n      factors: record.factors,\n      timestamp: record.timestamp,\n    };\n  }\n\n  async getPredictionsByUser(userId: string, limit: number = 50): Promise<Prediction[]> {\n    const userIdNum = parseInt(userId);\n    if (isNaN(userIdNum)) return [];\n    \n    const result = await db.select()\n      .from(predictions)\n      .where(eq(predictions.userId, userIdNum))\n      .orderBy(desc(predictions.timestamp))\n      .limit(limit);\n    \n    return result.map(record => ({\n      _id: record.id.toString(),\n      userId: userId,\n      predictedInsulin: record.predictedInsulin,\n      confidence: record.confidence / 100,\n      factors: record.factors,\n      timestamp: record.timestamp,\n    }));\n  }\n\n  async getLatestPrediction(userId: string): Promise<Prediction | null> {\n    const userIdNum = parseInt(userId);\n    if (isNaN(userIdNum)) return null;\n    \n    const result = await db.select()\n      .from(predictions)\n      .where(eq(predictions.userId, userIdNum))\n      .orderBy(desc(predictions.timestamp))\n      .limit(1);\n    \n    if (result.length === 0) return null;\n    \n    const record = result[0];\n    return {\n      _id: record.id.toString(),\n      userId: userId,\n      predictedInsulin: record.predictedInsulin,\n      confidence: record.confidence / 100,\n      factors: record.factors,\n      timestamp: record.timestamp,\n    };\n  }\n\n  // User Profile Methods\n  async createUserProfile(userId: string, profile: InsertUserProfile): Promise<UserProfile> {\n    const userIdNum = parseInt(userId);\n    if (isNaN(userIdNum)) throw new Error('Invalid user ID');\n    \n    const result = await db.insert(userProfiles).values({\n      userId: userIdNum,\n      dateOfBirth: profile.dateOfBirth || null,\n      weight: profile.weight?.toString() || null,\n      height: profile.height?.toString() || null,\n      lastA1c: profile.lastA1c?.toString() || null,\n      medications: profile.medications || null,\n      typicalInsulin: profile.typicalInsulin?.toString() || null,\n      targetRange: profile.targetRange || null,\n    }).returning();\n    \n    const record = result[0];\n    return {\n      _id: record.id.toString(),\n      userId: userId,\n      dateOfBirth: record.dateOfBirth || undefined,\n      weight: record.weight ? parseFloat(record.weight) : undefined,\n      height: record.height ? parseFloat(record.height) : undefined,\n      lastA1c: record.lastA1c ? parseFloat(record.lastA1c) : undefined,\n      medications: record.medications || undefined,\n      typicalInsulin: record.typicalInsulin ? parseFloat(record.typicalInsulin) : undefined,\n      targetRange: record.targetRange || undefined,\n      createdAt: record.createdAt,\n      updatedAt: record.updatedAt,\n    };\n  }\n\n  async getUserProfile(userId: string): Promise<UserProfile | null> {\n    const userIdNum = parseInt(userId);\n    if (isNaN(userIdNum)) return null;\n    \n    const result = await db.select()\n      .from(userProfiles)\n      .where(eq(userProfiles.userId, userIdNum))\n      .limit(1);\n    \n    if (result.length === 0) return null;\n    \n    const record = result[0];\n    return {\n      _id: record.id.toString(),\n      userId: userId,\n      dateOfBirth: record.dateOfBirth || undefined,\n      weight: record.weight ? parseFloat(record.weight) : undefined,\n      height: record.height ? parseFloat(record.height) : undefined,\n      lastA1c: record.lastA1c ? parseFloat(record.lastA1c) : undefined,\n      medications: record.medications || undefined,\n      typicalInsulin: record.typicalInsulin ? parseFloat(record.typicalInsulin) : undefined,\n      targetRange: record.targetRange || undefined,\n      createdAt: record.createdAt,\n      updatedAt: record.updatedAt,\n    };\n  }\n\n  async updateUserProfile(userId: string, profile: Partial<InsertUserProfile>): Promise<UserProfile | null> {\n    const userIdNum = parseInt(userId);\n    if (isNaN(userIdNum)) return null;\n    \n    const updateData: any = {\n      updatedAt: new Date(),\n    };\n\n    if (profile.dateOfBirth !== undefined) updateData.dateOfBirth = profile.dateOfBirth || null;\n    if (profile.weight !== undefined) updateData.weight = profile.weight !== null && profile.weight !== undefined ? profile.weight.toString() : null;\n    if (profile.height !== undefined) updateData.height = profile.height !== null && profile.height !== undefined ? profile.height.toString() : null;\n    if (profile.lastA1c !== undefined) updateData.lastA1c = profile.lastA1c !== null && profile.lastA1c !== undefined ? profile.lastA1c.toString() : null;\n    if (profile.medications !== undefined) updateData.medications = profile.medications || null;\n    if (profile.typicalInsulin !== undefined) updateData.typicalInsulin = profile.typicalInsulin !== null && profile.typicalInsulin !== undefined ? profile.typicalInsulin.toString() : null;\n    if (profile.targetRange !== undefined) updateData.targetRange = profile.targetRange || null;\n    \n    const result = await db.update(userProfiles)\n      .set(updateData)\n      .where(eq(userProfiles.userId, userIdNum))\n      .returning();\n    \n    if (result.length === 0) return null;\n    \n    const record = result[0];\n    return {\n      _id: record.id.toString(),\n      userId: userId,\n      dateOfBirth: record.dateOfBirth || undefined,\n      weight: record.weight ? parseFloat(record.weight) : undefined,\n      height: record.height ? parseFloat(record.height) : undefined,\n      lastA1c: record.lastA1c ? parseFloat(record.lastA1c) : undefined,\n      medications: record.medications || undefined,\n      typicalInsulin: record.typicalInsulin ? parseFloat(record.typicalInsulin) : undefined,\n      targetRange: record.targetRange || undefined,\n      createdAt: record.createdAt,\n      updatedAt: record.updatedAt,\n    };\n  }\n}\n\n// Export the storage instance\nexport const storage = new DrizzleStorage();\n","size_bytes":17244},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport multer from \"multer\";\nimport path from \"path\";\nimport { storage } from \"./storage\";\nimport { authMiddleware, roleMiddleware, approvalMiddleware, authWithApproval, generateToken, type AuthRequest } from \"./middleware/auth\";\nimport { hashPassword, comparePassword } from \"./utils/password\";\nimport { insertUserSchema, loginSchema, healthDataSchema, mealSchema, insertUserProfileSchema } from \"@shared/schema\";\n\nconst upload = multer({\n  dest: 'uploads/',\n  limits: {\n    fileSize: 20 * 1024 * 1024, // 20MB\n  },\n  fileFilter: (req, file, cb) => {\n    const allowedTypes = ['application/pdf', 'image/jpeg', 'image/png'];\n    if (allowedTypes.includes(file.mimetype)) {\n      cb(null, true);\n    } else {\n      cb(new Error('Invalid file type. Only PDF, JPEG, and PNG are allowed.'));\n    }\n  },\n});\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  \n  // ==================== AUTH ROUTES ====================\n  \n  app.post('/api/auth/register', async (req, res) => {\n    try {\n      const validatedData = insertUserSchema.parse(req.body);\n      \n      const existingUser = await storage.getUserByEmail(validatedData.email);\n      if (existingUser) {\n        return res.status(400).json({ message: 'Email already registered' });\n      }\n\n      const hashedPassword = await hashPassword(validatedData.password);\n      \n      const user = await storage.createUser({\n        ...validatedData,\n        password: hashedPassword,\n        isApproved: true,\n      });\n\n      const token = generateToken(user._id, user.role, user.isApproved);\n\n      res.status(201).json({\n        message: 'Registration successful. You can now login.',\n        token,\n        user: {\n          id: user._id,\n          name: user.name,\n          email: user.email,\n          role: user.role,\n          isApproved: user.isApproved,\n        },\n      });\n    } catch (error: any) {\n      res.status(400).json({ message: error.message || 'Registration failed' });\n    }\n  });\n\n  app.post('/api/auth/login', async (req, res) => {\n    try {\n      const validatedData = loginSchema.parse(req.body);\n      \n      const user = await storage.getUserByEmail(validatedData.email);\n      if (!user) {\n        return res.status(401).json({ message: 'Invalid credentials' });\n      }\n\n      const isPasswordValid = await comparePassword(validatedData.password, user.password);\n      if (!isPasswordValid) {\n        return res.status(401).json({ message: 'Invalid credentials' });\n      }\n\n      const token = generateToken(user._id, user.role, user.isApproved);\n\n      res.json({\n        message: 'Login successful',\n        token,\n        user: {\n          id: user._id,\n          name: user.name,\n          email: user.email,\n          role: user.role,\n          isApproved: user.isApproved,\n        },\n      });\n    } catch (error: any) {\n      res.status(400).json({ message: error.message || 'Login failed' });\n    }\n  });\n\n  app.get('/api/auth/me', authMiddleware, async (req: AuthRequest, res) => {\n    try {\n      const user = await storage.getUser(req.user!.userId);\n      if (!user) {\n        return res.status(404).json({ message: 'User not found' });\n      }\n\n      res.json({\n        id: user._id,\n        name: user.name,\n        email: user.email,\n        role: user.role,\n        isApproved: user.isApproved,\n      });\n    } catch (error: any) {\n      res.status(500).json({ message: error.message || 'Failed to fetch user' });\n    }\n  });\n\n  // ==================== HEALTH DATA ROUTES ====================\n  \n  app.post('/api/health-data', authMiddleware, roleMiddleware('patient'), async (req: AuthRequest, res) => {\n    try {\n      const validatedData = healthDataSchema.parse(req.body);\n      const healthData = await storage.createHealthData(req.user!.userId, validatedData);\n      \n      res.status(201).json({ message: 'Health data recorded successfully', data: healthData });\n    } catch (error: any) {\n      res.status(400).json({ message: error.message || 'Failed to record health data' });\n    }\n  });\n\n  app.get('/api/health-data', authMiddleware, roleMiddleware('patient', 'doctor'), async (req: AuthRequest, res) => {\n    try {\n      const userId = req.query.userId as string || req.user!.userId;\n      \n      if (req.user!.role === 'patient' && userId !== req.user!.userId) {\n        return res.status(403).json({ message: 'Access denied' });\n      }\n\n      const healthData = await storage.getHealthDataByUser(userId);\n      res.json({ data: healthData });\n    } catch (error: any) {\n      res.status(500).json({ message: error.message || 'Failed to fetch health data' });\n    }\n  });\n\n  app.get('/api/health-data/latest', authMiddleware, roleMiddleware('patient'), async (req: AuthRequest, res) => {\n    try {\n      const latestData = await storage.getLatestHealthData(req.user!.userId);\n      res.json({ data: latestData });\n    } catch (error: any) {\n      res.status(500).json({ message: error.message || 'Failed to fetch latest health data' });\n    }\n  });\n\n  // ==================== MEAL ROUTES ====================\n  \n  app.post('/api/meals', authMiddleware, roleMiddleware('patient'), async (req: AuthRequest, res) => {\n    try {\n      const validatedData = mealSchema.parse(req.body);\n      const meal = await storage.createMeal(req.user!.userId, validatedData);\n      \n      res.status(201).json({ message: 'Meal logged successfully', data: meal });\n    } catch (error: any) {\n      res.status(400).json({ message: error.message || 'Failed to log meal' });\n    }\n  });\n\n  app.get('/api/meals', authMiddleware, roleMiddleware('patient', 'doctor'), async (req: AuthRequest, res) => {\n    try {\n      const userId = req.query.userId as string || req.user!.userId;\n      \n      if (req.user!.role === 'patient' && userId !== req.user!.userId) {\n        return res.status(403).json({ message: 'Access denied' });\n      }\n\n      const meals = await storage.getMealsByUser(userId);\n      res.json({ data: meals });\n    } catch (error: any) {\n      res.status(500).json({ message: error.message || 'Failed to fetch meals' });\n    }\n  });\n\n  // ==================== PREDICTION ROUTES ====================\n  \n  app.post('/api/predictions/insulin', authMiddleware, roleMiddleware('patient'), async (req: AuthRequest, res) => {\n    try {\n      const userId = req.user!.userId;\n      \n      const recentHealthData = await storage.getHealthDataByUser(userId, 10);\n      const recentMeals = await storage.getMealsByUser(userId, 10);\n      \n      if (recentHealthData.length === 0) {\n        return res.status(400).json({ \n          message: 'Insufficient health data for prediction. Please log at least one health entry first.' \n        });\n      }\n\n      const latestData = recentHealthData[0];\n      const factors: string[] = [];\n      let predictedInsulin = 0;\n      \n      const baseConfidence = recentHealthData.length >= 5 ? 0.6 : 0.4;\n      let confidence = baseConfidence;\n\n      const avgGlucose = recentHealthData.reduce((sum, d) => sum + d.glucose, 0) / recentHealthData.length;\n      const avgInsulin = recentHealthData.reduce((sum, d) => sum + (d.insulin || 0), 0) / recentHealthData.length;\n      \n      const recentMealSlice = recentMeals.slice(0, 3);\n      const recentCarbs = recentMealSlice.length > 0 \n        ? recentMealSlice.reduce((sum, m) => sum + m.carbs, 0) / recentMealSlice.length\n        : 0;\n      const totalMealCount = recentMeals.length;\n\n      if (latestData.glucose > 180) {\n        const correctionFactor = (latestData.glucose - 180) / 50;\n        predictedInsulin += correctionFactor * 2;\n        factors.push(`High glucose level (${latestData.glucose} mg/dL) requires correction dose`);\n        if (recentHealthData.length >= 5) confidence += 0.1;\n      } else if (latestData.glucose < 100) {\n        factors.push(`Low glucose level (${latestData.glucose} mg/dL) - minimal insulin recommended`);\n        predictedInsulin = Math.max(0, predictedInsulin - 1);\n        if (recentHealthData.length >= 5) confidence += 0.05;\n      } else {\n        factors.push(`Normal glucose level (${latestData.glucose} mg/dL)`);\n        if (recentHealthData.length >= 5) confidence += 0.05;\n      }\n\n      if (recentCarbs > 0 && recentMealSlice.length > 0) {\n        const carbRatio = 15;\n        const carbInsulin = recentCarbs / carbRatio;\n        predictedInsulin += carbInsulin;\n        factors.push(`Recent carb intake (~${Math.round(recentCarbs)}g) requires ${carbInsulin.toFixed(1)} units`);\n        if (recentMealSlice.length >= 3) confidence += 0.15;\n      }\n\n      if (recentHealthData.length >= 3) {\n        if (latestData.activityLevel === 'high') {\n          predictedInsulin *= 0.85;\n          factors.push('High activity level - reducing insulin dose by 15%');\n          confidence += 0.05;\n        } else if (latestData.activityLevel === 'low') {\n          predictedInsulin *= 1.05;\n          factors.push('Low activity level - slightly increasing insulin dose');\n          confidence += 0.05;\n        }\n      }\n\n      if (avgInsulin > 0 && recentHealthData.length >= 7) {\n        const historicalWeight = 0.3;\n        predictedInsulin = predictedInsulin * (1 - historicalWeight) + avgInsulin * historicalWeight;\n        factors.push(`Historical average insulin (${avgInsulin.toFixed(1)} units) considered`);\n        confidence += 0.1;\n      }\n\n      predictedInsulin = Math.max(0, Math.round(predictedInsulin * 10) / 10);\n      \n      let maxConfidence = 0.5;\n      if (recentHealthData.length >= 5 && totalMealCount >= 2) {\n        maxConfidence = 0.7;\n      }\n      if (recentHealthData.length >= 10 && totalMealCount >= 5) {\n        maxConfidence = 0.85;\n      }\n      confidence = Math.min(maxConfidence, confidence);\n\n      const prediction = await storage.createPrediction(userId, {\n        predictedInsulin,\n        confidence,\n        factors,\n      });\n\n      res.status(201).json({ \n        message: 'Insulin prediction generated successfully',\n        prediction: {\n          predictedInsulin: prediction.predictedInsulin,\n          confidence: prediction.confidence,\n          factors: prediction.factors,\n          timestamp: prediction.timestamp,\n        }\n      });\n    } catch (error: any) {\n      res.status(500).json({ message: error.message || 'Failed to generate prediction' });\n    }\n  });\n\n  app.get('/api/predictions/latest', authMiddleware, roleMiddleware('patient', 'doctor'), async (req: AuthRequest, res) => {\n    try {\n      const userId = req.query.userId as string || req.user!.userId;\n      \n      if (req.user!.role === 'patient' && userId !== req.user!.userId) {\n        return res.status(403).json({ message: 'Access denied' });\n      }\n\n      const prediction = await storage.getLatestPrediction(userId);\n      res.json({ prediction });\n    } catch (error: any) {\n      res.status(500).json({ message: error.message || 'Failed to fetch latest prediction' });\n    }\n  });\n\n  app.get('/api/predictions', authMiddleware, roleMiddleware('patient', 'doctor'), async (req: AuthRequest, res) => {\n    try {\n      const userId = req.query.userId as string || req.user!.userId;\n      \n      if (req.user!.role === 'patient' && userId !== req.user!.userId) {\n        return res.status(403).json({ message: 'Access denied' });\n      }\n\n      const predictions = await storage.getPredictionsByUser(userId);\n      res.json({ predictions });\n    } catch (error: any) {\n      res.status(500).json({ message: error.message || 'Failed to fetch predictions' });\n    }\n  });\n\n  // ==================== ADMIN ROUTES ====================\n  \n  app.get('/api/admin/users', authMiddleware, roleMiddleware('admin'), async (req: AuthRequest, res) => {\n    try {\n      const users = await storage.getAllUsers();\n      const sanitizedUsers = users.map(user => ({\n        id: user._id,\n        name: user.name,\n        email: user.email,\n        role: user.role,\n        isApproved: user.isApproved,\n        createdAt: user.createdAt,\n      }));\n      \n      res.json({ users: sanitizedUsers });\n    } catch (error: any) {\n      res.status(500).json({ message: error.message || 'Failed to fetch users' });\n    }\n  });\n\n  app.patch('/api/admin/users/:id/approve', authMiddleware, roleMiddleware('admin'), async (req: AuthRequest, res) => {\n    try {\n      const { id } = req.params;\n      const { isApproved } = req.body;\n      \n      const user = await storage.updateUserApproval(id, isApproved);\n      if (!user) {\n        return res.status(404).json({ message: 'User not found' });\n      }\n\n      res.json({ message: 'User approval status updated', user: {\n        id: user._id,\n        name: user.name,\n        email: user.email,\n        role: user.role,\n        isApproved: user.isApproved,\n      }});\n    } catch (error: any) {\n      res.status(500).json({ message: error.message || 'Failed to update user approval' });\n    }\n  });\n\n  // ==================== DOCTOR ROUTES ====================\n  \n  app.get('/api/doctor/patients', authMiddleware, roleMiddleware('doctor'), async (req: AuthRequest, res) => {\n    try {\n      const allUsers = await storage.getAllUsers();\n      const patients = allUsers\n        .filter(user => user.role === 'patient' && user.isApproved)\n        .map(user => ({\n          id: user._id,\n          name: user.name,\n          email: user.email,\n          createdAt: user.createdAt,\n        }));\n      \n      res.json({ patients });\n    } catch (error: any) {\n      res.status(500).json({ message: error.message || 'Failed to fetch patients' });\n    }\n  });\n\n  // ==================== FILE UPLOAD ROUTES ====================\n  \n  app.post('/api/reports/upload', authWithApproval, upload.single('file'), async (req: AuthRequest, res: any) => {\n    try {\n      if (!req.file) {\n        return res.status(400).json({ message: 'No file uploaded' });\n      }\n\n      const { patientId, description } = req.body;\n      \n      if (req.user!.role === 'patient' && patientId !== req.user!.userId) {\n        return res.status(403).json({ message: 'Access denied' });\n      }\n\n      const report = await storage.createMedicalReport(\n        patientId || req.user!.userId,\n        req.user!.userId,\n        {\n          fileName: req.file.originalname,\n          fileUrl: req.file.path,\n          fileType: req.file.mimetype,\n          fileSize: req.file.size,\n          description,\n        }\n      );\n\n      res.status(201).json({ \n        message: 'Report uploaded successfully',\n        report: {\n          id: report._id,\n          fileName: report.fileName,\n          fileType: report.fileType,\n          uploadedAt: report.uploadedAt,\n        }\n      });\n    } catch (error: any) {\n      res.status(500).json({ message: error.message || 'Failed to upload report' });\n    }\n  });\n\n  app.get('/api/reports', authWithApproval, async (req: AuthRequest, res: any) => {\n    try {\n      const patientId = req.query.patientId as string || req.user!.userId;\n      \n      if (req.user!.role === 'patient' && patientId !== req.user!.userId) {\n        return res.status(403).json({ message: 'Access denied' });\n      }\n\n      const reports = await storage.getMedicalReportsByPatient(patientId);\n\n      res.json({ reports });\n    } catch (error: any) {\n      res.status(500).json({ message: error.message || 'Failed to fetch reports' });\n    }\n  });\n\n  // User Profile Routes\n  app.post('/api/profile', authWithApproval, async (req: AuthRequest, res: any) => {\n    try {\n      // Check if profile already exists\n      const existing = await storage.getUserProfile(req.user!.userId);\n      if (existing) {\n        return res.status(409).json({ message: 'Profile already exists, use PUT to update' });\n      }\n\n      const validated = insertUserProfileSchema.parse(req.body);\n      const profile = await storage.createUserProfile(req.user!.userId, validated);\n      res.status(201).json({ profile });\n    } catch (error: any) {\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ message: 'Validation error', errors: error.errors });\n      }\n      res.status(500).json({ message: error.message || 'Failed to create profile' });\n    }\n  });\n\n  app.get('/api/profile', authWithApproval, async (req: AuthRequest, res: any) => {\n    try {\n      const profile = await storage.getUserProfile(req.user!.userId);\n      res.json({ profile });\n    } catch (error: any) {\n      res.status(500).json({ message: error.message || 'Failed to fetch profile' });\n    }\n  });\n\n  app.put('/api/profile', authWithApproval, async (req: AuthRequest, res: any) => {\n    try {\n      const validated = insertUserProfileSchema.partial().parse(req.body);\n      const profile = await storage.updateUserProfile(req.user!.userId, validated);\n      if (!profile) {\n        return res.status(404).json({ message: 'Profile not found' });\n      }\n      res.json({ profile });\n    } catch (error: any) {\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ message: 'Validation error', errors: error.errors });\n      }\n      res.status(500).json({ message: error.message || 'Failed to update profile' });\n    }\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}\n","size_bytes":17151},"server/models/Meal.ts":{"content":"import mongoose from 'mongoose';\n\nconst mealSchema = new mongoose.Schema({\n  userId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true,\n  },\n  name: {\n    type: String,\n    required: true,\n  },\n  carbs: {\n    type: Number,\n    required: true,\n    min: 0,\n  },\n  protein: {\n    type: Number,\n    min: 0,\n  },\n  fat: {\n    type: Number,\n    min: 0,\n  },\n  calories: {\n    type: Number,\n    min: 0,\n  },\n  voiceRecorded: {\n    type: Boolean,\n    default: false,\n  },\n  timestamp: {\n    type: Date,\n    default: Date.now,\n  },\n}, {\n  timestamps: true,\n});\n\nmealSchema.index({ userId: 1, timestamp: -1 });\n\nexport const MealModel = mongoose.model('Meal', mealSchema);\n","size_bytes":693},"client/src/components/ProgressCard.tsx":{"content":"import { Card } from '@/components/ui/card';\nimport { Progress } from '@/components/ui/progress';\n\ninterface ProgressItemProps {\n  label: string;\n  value: number;\n  detail: string;\n}\n\nfunction ProgressItem({ label, value, detail }: ProgressItemProps) {\n  return (\n    <div className=\"mb-5 last:mb-0\">\n      <div className=\"flex items-center justify-between mb-2.5\">\n        <span className=\"text-sm font-semibold text-foreground\">{label}</span>\n        <span className=\"text-sm text-muted-foreground font-medium\">{detail}</span>\n      </div>\n      <Progress value={value} className=\"h-2.5\" data-testid={`progress-${label.toLowerCase().replace(' ', '-')}`} />\n    </div>\n  );\n}\n\nexport default function ProgressCard() {\n  return (\n    <Card \n      className=\"p-5 card-interactive glass-card\" \n      data-testid=\"card-progress\"\n    >\n      <h3 className=\"font-bold text-base text-foreground mb-5\">Goals & Streaks</h3>\n      <ProgressItem label=\"Days in Range\" value={100} detail=\"3 Days – 100%\" />\n      <ProgressItem label=\"Weekly Logging\" value={85} detail=\"85%\" />\n      <ProgressItem label=\"Activity Goal\" value={70} detail=\"70%\" />\n    </Card>\n  );\n}\n","size_bytes":1156},"client/src/components/examples/QuickActionCard.tsx":{"content":"import QuickActionCard from '../QuickActionCard';\nimport { Heart, Pill, MessageCircle, FileText } from 'lucide-react';\n\nexport default function QuickActionCardExample() {\n  return (\n    <div className=\"p-6 bg-background\">\n      <h2 className=\"text-xl font-bold mb-4\">Quick Actions</h2>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <QuickActionCard\n          icon={Heart}\n          title=\"Blood Sugar Tracking\"\n          description=\"Log and monitor your glucose levels\"\n        />\n        <QuickActionCard\n          icon={Pill}\n          title=\"Medication Reminders\"\n          description=\"Set up and manage your medications\"\n        />\n        <QuickActionCard\n          icon={MessageCircle}\n          title=\"Doctor Communication\"\n          description=\"Message your healthcare provider\"\n        />\n        <QuickActionCard\n          icon={FileText}\n          title=\"Health Reports\"\n          description=\"View and download your reports\"\n        />\n      </div>\n    </div>\n  );\n}\n","size_bytes":1006},"client/src/components/MetricCard.tsx":{"content":"import { Card } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { LucideIcon } from 'lucide-react';\n\ninterface MetricCardProps {\n  title: string;\n  value: string;\n  unit: string;\n  status: string;\n  icon: LucideIcon;\n  statusVariant?: 'default' | 'secondary' | 'destructive';\n  iconColor?: string;\n  badgeBgColor?: string;\n  badgeTextColor?: string;\n}\n\nexport default function MetricCard({ \n  title, \n  value, \n  unit, \n  status, \n  icon: Icon,\n  statusVariant = 'default',\n  iconColor = '#21C89B',\n  badgeBgColor = 'rgba(33, 200, 155, 0.2)',\n  badgeTextColor = '#21C89B'\n}: MetricCardProps) {\n  return (\n    <Card \n      className=\"p-5 card-interactive glass-card flex flex-col justify-between\" \n      style={{ height: '110px' }} \n      data-testid={`card-metric-${title.toLowerCase().replace(' ', '-')}`}\n    >\n      <div className=\"flex items-center justify-between\">\n        <p className=\"text-sm text-muted-foreground font-medium\">{title}</p>\n        <Icon className=\"h-5 w-5\" style={{ color: iconColor }} />\n      </div>\n      <div className=\"flex items-baseline gap-1.5\">\n        <h3 className=\"text-3xl font-bold text-foreground leading-none\">{value}</h3>\n        <span className=\"text-sm text-muted-foreground\">{unit}</span>\n      </div>\n      <Badge \n        variant={statusVariant} \n        className=\"text-xs px-2 py-0.5 w-fit\"\n        style={{ backgroundColor: badgeBgColor, color: badgeTextColor }}\n        data-testid={`badge-status-${title.toLowerCase().replace(' ', '-')}`}\n      >\n        {status}\n      </Badge>\n    </Card>\n  );\n}\n","size_bytes":1585},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"replit.md":{"content":"# GlucoNova - AI-Powered Diabetes Management Platform\n\n## Overview\n\nGlucoNova is a comprehensive diabetes management web application that provides AI-powered insulin forecasting, health monitoring, and doctor-patient collaboration. The platform supports multiple user roles (patients, doctors, and admins) with role-based access control and approval workflows. Patients can track glucose levels, log meals via voice input, upload medical reports, and receive personalized health insights. Healthcare providers can monitor patients, review medical records, and manage care remotely.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n\n**Technology Stack:**\n- React 18 with TypeScript for type safety\n- Vite as the build tool and development server\n- Wouter for lightweight client-side routing\n- TanStack Query for server state management\n- Tailwind CSS for styling with a custom design system\n\n**Design System:**\n- shadcn/ui component library with customized \"new-york\" style preset\n- Dark-themed interface with coal-colored background (neutral-900/zinc-900)\n- Glassmorphism effects: rgba(255, 255, 255, 0.03) background, 1px white/10% border, backdrop-blur-xl, inner glow, soft drop shadows\n- Teal professional accent (#21C89B / HSL 164, 72%, 46%) for primary actions, icons, and highlights\n- Hover microinteractions: subtle scale (1.02) + teal glow shadow (0 0 20px rgba(33, 200, 155, 0.3))\n- Centralized utility classes: `glass-card` for glassmorphism, `card-interactive` for hover effects\n- Responsive layout with sidebar navigation for desktop, collapsible for mobile\n\n**Color Palette (Fully Tokenized System):**\n- Primary accent: #21C89B (HSL 164, 72%, 46%) - used via `text-primary`, `bg-primary`, `border-primary` tokens\n- Muted text: #9AA8A6 (HSL 171, 7%, 63%) - used via `text-muted-foreground` token\n- Near-white headings: #EAF6F3 (HSL 165, 43%, 94%) - used via `text-foreground` token\n- Secondary backgrounds: rgba(255, 255, 255, 0.05) - used via `bg-secondary` token\n- Borders: rgba(255, 255, 255, 0.1) - used via `border-border`, `border-input` tokens\n- All colors flow through CSS custom properties (--primary, --foreground, --muted-foreground, etc.)\n- No hard-coded Tailwind color utilities allowed; all colors reference theme tokens for consistency\n- Chart colors: Teal stroke using hsl(var(--primary)) with translucent gradient fill\n\n**State Management:**\n- React Context API for authentication state (AuthProvider)\n- Local component state for UI interactions\n- TanStack Query for caching and synchronizing server data\n- No global state management library (Redux, Zustand) used\n\n**Component Architecture:**\n- Reusable UI components from shadcn/ui (Button, Card, Input, etc.)\n- Custom composite components (MetricCard, GlucoseTrendChart, VoiceAssistantCard)\n- Layout components (PublicLayout for auth pages, MainLayout with AppSidebar for authenticated pages)\n- Page-level components for each route (DashboardPage, LoginPage, RegisterPage, RoleSelectionPage, etc.)\n\n**Routing Strategy:**\n- Protected routes with role-based access control\n- Automatic redirect to login for unauthenticated users\n- Account approval check with pending approval screen\n- Role-specific dashboards (patient, doctor, admin)\n- Three-step registration flow:\n  1. `/role-selection` - User selects Patient or Healthcare Provider role\n  2. `/register?role=patient|doctor` - User enters credentials (role pre-selected via URL parameter)\n  3. `/login` - User logs in after successful registration\n\n**First-Time User Onboarding:**\n- 640×460px glassmorphic modal with 4-step progress flow\n- Step 1: Welcome message with \"Get Started\" CTA\n- Step 2: PDF upload (drag-and-drop, browse), Demo Data option, or Manual Entry selection\n- Step 3: Manual entry form with validation (if selected from Step 2)\n- Step 4: Completion confirmation\n- **Validation Requirements**: Name, DOB, Weight (>0 kg), Height (>0 cm) enforced before progression\n- **Skip Functionality**: Users can skip onboarding; persistent banner reminds them to complete setup\n- **State Persistence**: localStorage keys 'onboardingCompleted' and 'onboardingSkipped'\n- **Accessibility**: Dialog includes VisuallyHidden title and description for screen readers\n- **Modal Control**: Cannot be dismissed by overlay/ESC - only via \"Skip\" button or completion\n\n**Dashboard Layout (Pixel-Perfect Specifications):**\n- Container: max-width 1400px, centered, 24px padding\n- Grid: Two columns (1fr + 360px) with 28px gap\n- Header: 72px height, 24px horizontal padding\n- Component Heights:\n  - MetricCard (glucose, insulin, carbs, activity): 110px\n  - GlucoseTrendChart: 360px with 12px border-radius\n  - AI Insulin Prediction card: 120px\n  - Voice Assistant card: 220px\n  - Progress/Quick Action cards: flexible height\n\n### Backend Architecture\n\n**Technology Stack:**\n- Node.js with Express.js framework\n- TypeScript for type safety across full stack\n- MongoDB via Mongoose ODM for data persistence\n- JWT (JSON Web Tokens) for authentication\n- bcrypt.js for password hashing\n- Multer for file upload handling (medical reports)\n\n**API Design:**\n- RESTful API endpoints with `/api` prefix\n- Authentication middleware for protected routes\n- Role-based authorization middleware\n- Approval status middleware for pending users\n- Centralized error handling\n\n**Authentication & Registration Flow:**\n- JWT tokens with 7-day expiration\n- Token stored in localStorage on client\n- Bearer token authentication in request headers\n- Middleware validates token and extracts user information\n- Admin approval required for new user accounts\n- Registration flow separates role selection from credential entry:\n  1. User clicks \"Create account\" on login page → navigates to `/role-selection`\n  2. User selects role (Patient or Healthcare Provider) → navigates to `/register?role=<selected-role>`\n  3. RegisterPage reads role from URL parameter, validates it, and redirects to role selection if missing\n  4. User completes registration → redirects to `/login` (not directly to dashboard)\n  5. After login → redirects to dashboard (shows \"Account Pending Approval\" if not yet approved by admin)\n\n**Database Schema:**\n- Users collection (name, email, password hash, role, approval status)\n- HealthData collection (glucose, insulin, carbs, activity level, linked to user)\n- Meals collection (nutrition info, voice recording flag, linked to user)\n- MedicalReports collection (file metadata, uploaded by doctor or patient)\n- Predictions collection (AI-generated insulin forecasts)\n\n**File Management:**\n- Multer middleware for handling multipart/form-data\n- File uploads stored in `uploads/` directory\n- File type validation (PDF, JPEG, PNG only)\n- 20MB file size limit for medical reports\n- File metadata stored in database with references to file system\n\n### External Dependencies\n\n**UI Component Library:**\n- Radix UI primitives for accessible headless components\n- shadcn/ui as a curated component collection built on Radix\n- React Hook Form for form state management with Zod validation\n- Recharts for data visualization (glucose trends, health metrics)\n\n**Database:**\n- MongoDB (connection via Mongoose)\n- Fallback to in-memory storage if MongoDB unavailable\n- Indexed fields for query performance (userId, timestamp)\n\n**Third-Party Services (Planned):**\n- Nutritionix API for nutrition analysis of voice-logged meals\n- Web Speech API for voice input functionality (browser-native)\n- AI/ML service for diabetes prediction and insulin forecasting (separate Python service, not yet integrated)\n\n**Development Tools:**\n- Replit-specific plugins for development (vite-plugin-runtime-error-modal, vite-plugin-cartographer)\n- ESBuild for server-side bundling in production\n- Drizzle Kit for database migrations (configured but using Mongoose instead)\n- PostCSS with Autoprefixer for CSS processing\n\n**Authentication:**\n- jsonwebtoken library for JWT creation and verification\n- bcryptjs for password hashing with salt rounds\n- CORS middleware for cross-origin requests\n\n**Notes:**\n- The project is configured for PostgreSQL via Drizzle (drizzle.config.ts), but currently uses MongoDB with Mongoose models\n- Database abstraction layer (storage.ts) supports both MongoDB and in-memory storage\n- Environment variables required: DATABASE_URL (MongoDB connection string), JWT_SECRET (token signing key)","size_bytes":8390},"client/src/components/examples/RoleSelectionPage.tsx":{"content":"import RoleSelectionPage from '../../pages/RoleSelectionPage';\n\nexport default function RoleSelectionPageExample() {\n  return <RoleSelectionPage />;\n}\n","size_bytes":151},"server/db.ts":{"content":"import { drizzle } from 'drizzle-orm/node-postgres';\nimport { Pool } from 'pg';\nimport * as schema from '@shared/schema';\n\nif (!process.env.DATABASE_URL) {\n  throw new Error('DATABASE_URL environment variable is required');\n}\n\nexport const pool = new Pool({\n  connectionString: process.env.DATABASE_URL,\n});\n\nexport const db = drizzle(pool, { schema });\n\npool.on('error', (err) => {\n  console.error('PostgreSQL error:', err);\n});\n\npool.on('connect', () => {\n  console.log('✅ PostgreSQL connected successfully');\n});\n","size_bytes":518},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"server/middleware/auth.ts":{"content":"import { Request, Response, NextFunction } from 'express';\nimport jwt from 'jsonwebtoken';\nimport { UserRole } from '@shared/schema';\n\nconst JWT_SECRET = process.env.JWT_SECRET || 'gluconova-secret-key-change-in-production';\n\nexport interface AuthRequest extends Request {\n  user?: {\n    userId: string;\n    role: UserRole;\n    isApproved: boolean;\n  };\n}\n\nexport function authMiddleware(req: AuthRequest, res: Response, next: NextFunction) {\n  try {\n    const token = req.headers.authorization?.replace('Bearer ', '');\n    \n    if (!token) {\n      return res.status(401).json({ message: 'Authentication required' });\n    }\n\n    const decoded = jwt.verify(token, JWT_SECRET) as { userId: string; role: UserRole; isApproved: boolean };\n    req.user = decoded;\n    next();\n  } catch (error) {\n    return res.status(401).json({ message: 'Invalid or expired token' });\n  }\n}\n\nexport function roleMiddleware(...allowedRoles: UserRole[]) {\n  return (req: AuthRequest, res: Response, next: NextFunction) => {\n    if (!req.user) {\n      return res.status(401).json({ message: 'Authentication required' });\n    }\n\n    if (req.user.role !== 'admin' && !req.user.isApproved) {\n      return res.status(403).json({ message: 'Account pending approval' });\n    }\n\n    if (!allowedRoles.includes(req.user.role)) {\n      return res.status(403).json({ message: 'Access denied' });\n    }\n\n    next();\n  };\n}\n\nexport function approvalMiddleware(req: AuthRequest, res: Response, next: NextFunction) {\n  if (!req.user) {\n    return res.status(401).json({ message: 'Authentication required' });\n  }\n\n  if (req.user.role !== 'admin' && !req.user.isApproved) {\n    return res.status(403).json({ message: 'Account pending approval' });\n  }\n\n  next();\n}\n\nexport const authWithApproval = [authMiddleware, approvalMiddleware];\n\nexport function generateToken(userId: string, role: UserRole, isApproved: boolean): string {\n  return jwt.sign(\n    { userId, role, isApproved },\n    JWT_SECRET,\n    { expiresIn: '7d' }\n  );\n}\n","size_bytes":1992},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  url: string,\n  options?: RequestInit\n): Promise<Response> {\n  const token = localStorage.getItem('token');\n  const headers: Record<string, string> = {\n    ...(options?.headers as Record<string, string> || {}),\n  };\n  \n  if (token) {\n    headers['Authorization'] = `Bearer ${token}`;\n  }\n  \n  if (options?.body && typeof options.body === 'string') {\n    headers['Content-Type'] = 'application/json';\n  }\n\n  const res = await fetch(url, {\n    ...options,\n    headers,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const token = localStorage.getItem('token');\n    const headers: Record<string, string> = {};\n    \n    if (token) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n    \n    const res = await fetch(queryKey.join(\"/\") as string, {\n      headers,\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1801},"client/src/components/examples/PublicLayout.tsx":{"content":"import PublicLayout from '../PublicLayout';\nimport { Card } from '@/components/ui/card';\n\nexport default function PublicLayoutExample() {\n  return (\n    <PublicLayout>\n      <Card className=\"w-full max-w-md p-8 bg-slate-900/70 backdrop-blur-lg border-white/10\">\n        <h1 className=\"text-2xl font-bold text-white text-center mb-2\">GlucoNova</h1>\n        <p className=\"text-accent text-center\">Example centered content</p>\n      </Card>\n    </PublicLayout>\n  );\n}\n","size_bytes":465},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/pages/RegisterPage.tsx":{"content":"import { useState, FormEvent, useEffect } from 'react';\nimport { useLocation, Link } from 'wouter';\nimport PublicLayout from '@/components/PublicLayout';\nimport { Card } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Button } from '@/components/ui/button';\nimport { useAuth } from '@/lib/auth-context';\nimport { useToast } from '@/hooks/use-toast';\nimport { User, Stethoscope } from 'lucide-react';\n\nexport default function RegisterPage() {\n  const [, navigate] = useLocation();\n  const { register } = useAuth();\n  const { toast } = useToast();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [role, setRole] = useState<'patient' | 'doctor' | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search);\n    const roleParam = params.get('role');\n    \n    if (!roleParam || (roleParam !== 'patient' && roleParam !== 'doctor')) {\n      navigate('/role-selection');\n      return;\n    }\n    \n    setRole(roleParam as 'patient' | 'doctor');\n  }, [navigate]);\n\n  const handleSubmit = async (e: FormEvent) => {\n    e.preventDefault();\n    \n    if (!role) {\n      navigate('/role-selection');\n      return;\n    }\n    \n    if (password !== confirmPassword) {\n      toast({\n        title: 'Passwords do not match',\n        variant: 'destructive',\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    \n    try {\n      await register(name, email, password, role);\n      toast({\n        title: 'Registration successful',\n        description: 'Welcome to GlucoNova! Please login to get started.',\n      });\n      navigate('/login');\n    } catch (error: any) {\n      toast({\n        title: 'Registration failed',\n        description: error.message || 'Please try again',\n        variant: 'destructive',\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  if (!role) {\n    return null;\n  }\n\n  return (\n    <PublicLayout>\n      <Card \n        className=\"w-full max-w-[900px] backdrop-blur-md bg-white/8 border border-white/15 rounded-3xl px-12 py-8 shadow-2xl\"\n      >\n        <h1 className=\"text-[2.25rem] font-extrabold tracking-tight text-white text-center mb-1\">GlucoNova</h1>\n        <p className=\"text-[1.35rem] font-bold text-emerald-400 text-center mb-5\">Create Account</p>\n        \n        <div className=\"flex items-center justify-center gap-3 mb-6\">\n          <div className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-emerald-400/10 border border-emerald-400/20\">\n            {role === 'patient' ? (\n              <User className=\"h-5 w-5 text-emerald-400\" />\n            ) : (\n              <Stethoscope className=\"h-5 w-5 text-emerald-400\" />\n            )}\n            <span className=\"text-base font-medium text-emerald-400\">\n              {role === 'patient' ? 'Patient Account' : 'Healthcare Provider Account'}\n            </span>\n          </div>\n        </div>\n        \n        <form onSubmit={handleSubmit} className=\"space-y-5\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\n            <div>\n              <Label htmlFor=\"name\" className=\"text-gray-200 text-base font-semibold mb-2 block\">Full Name</Label>\n              <Input\n                id=\"name\"\n                type=\"text\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                className=\"w-full h-12 px-5 bg-white/5 border-[1.5px] border-white/10 text-white text-[1.05rem] placeholder-gray-400 rounded-xl focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/20 transition-all duration-300\"\n                placeholder=\"Enter your full name\"\n                required\n                data-testid=\"input-name\"\n              />\n            </div>\n\n            <div>\n              <Label htmlFor=\"email\" className=\"text-gray-200 text-base font-semibold mb-2 block\">Email</Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"w-full h-12 px-5 bg-white/5 border-[1.5px] border-white/10 text-white text-[1.05rem] placeholder-gray-400 rounded-xl focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/20 transition-all duration-300\"\n                placeholder=\"email@example.com\"\n                required\n                data-testid=\"input-email\"\n              />\n            </div>\n\n            <div>\n              <Label htmlFor=\"password\" className=\"text-gray-200 text-base font-semibold mb-2 block\">Password</Label>\n              <Input\n                id=\"password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"w-full h-12 px-5 bg-white/5 border-[1.5px] border-white/10 text-white text-[1.05rem] placeholder-gray-400 rounded-xl focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/20 transition-all duration-300\"\n                placeholder=\"Create a strong password\"\n                required\n                data-testid=\"input-password\"\n              />\n            </div>\n\n            <div>\n              <Label htmlFor=\"confirmPassword\" className=\"text-gray-200 text-base font-semibold mb-2 block\">Confirm Password</Label>\n              <Input\n                id=\"confirmPassword\"\n                type=\"password\"\n                value={confirmPassword}\n                onChange={(e) => setConfirmPassword(e.target.value)}\n                className=\"w-full h-12 px-5 bg-white/5 border-[1.5px] border-white/10 text-white text-[1.05rem] placeholder-gray-400 rounded-xl focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/20 transition-all duration-300\"\n                placeholder=\"Re-enter your password\"\n                required\n                data-testid=\"input-confirm-password\"\n              />\n            </div>\n          </div>\n\n          <Card className=\"p-3 bg-white/5 border-white/10\">\n            <p className=\"text-sm text-white/60\">\n              Your account will be reviewed by our admin team. You'll receive an email notification upon approval.\n            </p>\n          </Card>\n\n          <Button \n            type=\"submit\" \n            className=\"w-full h-12 text-[1.05rem] bg-gradient-to-r from-emerald-500 to-emerald-400 hover:from-emerald-400 hover:to-emerald-300 text-white font-bold transition-all duration-300 shadow-lg hover:shadow-emerald-500/30\" \n            disabled={isLoading} \n            data-testid=\"button-create-account\"\n          >\n            {isLoading ? 'Creating Account...' : 'Create Account'}\n          </Button>\n        </form>\n\n        <p className=\"text-center text-[0.95rem] text-gray-200 mt-5\">\n          Already have an account?{' '}\n          <Link href=\"/login\" className=\"text-emerald-400 hover:text-emerald-300 transition-colors\" data-testid=\"link-login\">\n            Log in\n          </Link>\n        </p>\n\n        <p className=\"text-center text-[0.85rem] text-white/60 mt-6\">\n          © 2025 GlucoNova. All rights reserved.\n        </p>\n      </Card>\n    </PublicLayout>\n  );\n}\n","size_bytes":7307},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/pages/DoctorDashboard.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { SidebarProvider, SidebarTrigger } from '@/components/ui/sidebar';\nimport AppSidebar from '@/components/AppSidebar';\nimport { Card } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { api } from '@/lib/api';\nimport { useAuth } from '@/lib/auth-context';\nimport { useToast } from '@/hooks/use-toast';\nimport { Search, Users } from 'lucide-react';\n\nexport default function DoctorDashboard() {\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const [patients, setPatients] = useState<any[]>([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchPatients = async () => {\n      try {\n        const response = await api.getPatients();\n        setPatients(response.patients);\n      } catch (error: any) {\n        console.error('Failed to fetch patients:', error);\n        toast({\n          title: 'Failed to load patients',\n          description: error.message || 'Please try refreshing the page',\n          variant: 'destructive',\n        });\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchPatients();\n  }, [toast]);\n\n  const filteredPatients = patients.filter(patient =>\n    patient.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    patient.email.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const sidebarStyle = {\n    '--sidebar-width': '20rem',\n    '--sidebar-width-icon': '4rem',\n  };\n\n  return (\n    <SidebarProvider style={sidebarStyle as React.CSSProperties}>\n      <div className=\"flex h-screen w-full\">\n        <AppSidebar />\n        <div className=\"flex flex-col flex-1 overflow-hidden\">\n          <header className=\"flex items-center justify-between p-4 border-b border-border\">\n            <SidebarTrigger data-testid=\"button-sidebar-toggle\" />\n          </header>\n          \n          <main className=\"flex-1 overflow-y-auto p-6 space-y-6\">\n            <div>\n              <h1 className=\"text-3xl font-bold mb-1\">Welcome, Dr. {user?.name}</h1>\n              <p className=\"text-muted-foreground\">Manage your patients and review their health data</p>\n            </div>\n\n            <Card className=\"p-6\">\n              <div className=\"flex items-center gap-4 mb-6\">\n                <Users className=\"h-6 w-6 text-primary\" />\n                <h2 className=\"text-xl font-bold\">Patient Management</h2>\n              </div>\n\n              <div className=\"relative mb-4\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n                <Input\n                  type=\"search\"\n                  placeholder=\"Search patients by name or email...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"pl-10\"\n                  data-testid=\"input-search-patients\"\n                />\n              </div>\n\n              {loading ? (\n                <p className=\"text-muted-foreground text-center py-8\">Loading patients...</p>\n              ) : filteredPatients.length === 0 ? (\n                <p className=\"text-muted-foreground text-center py-8\">\n                  {searchTerm ? 'No patients found matching your search' : 'No patients assigned yet'}\n                </p>\n              ) : (\n                <div className=\"space-y-3\">\n                  {filteredPatients.map((patient) => (\n                    <Card key={patient.id} className=\"p-4 hover-elevate cursor-pointer\" data-testid={`card-patient-${patient.id}`}>\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <h3 className=\"font-semibold\">{patient.name}</h3>\n                          <p className=\"text-sm text-muted-foreground\">{patient.email}</p>\n                        </div>\n                        <div className=\"text-right\">\n                          <p className=\"text-xs text-muted-foreground\">\n                            Registered: {new Date(patient.createdAt).toLocaleDateString()}\n                          </p>\n                        </div>\n                      </div>\n                    </Card>\n                  ))}\n                </div>\n              )}\n            </Card>\n          </main>\n        </div>\n      </div>\n    </SidebarProvider>\n  );\n}\n","size_bytes":4399},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21846},"client/src/components/AppSidebar.tsx":{"content":"import { useState } from 'react';\nimport { \n  LayoutDashboard, \n  User, \n  Heart,\n  Activity,\n  Droplet, \n  Utensils, \n  Pill, \n  Mic, \n  Settings,\n  Upload,\n  LogOut\n} from 'lucide-react';\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar';\nimport { Link, useLocation } from 'wouter';\nimport { useAuth } from '@/lib/auth-context';\nimport SettingsDrawer from '@/components/SettingsDrawer';\n\nconst menuItems = [\n  { title: 'Dashboard', icon: LayoutDashboard, url: '/dashboard' },\n  { title: 'My Details', icon: User, url: '/health-data' },\n  { title: 'My Doctors', icon: Heart, url: '/doctors' },\n  { title: 'Glucose', icon: Activity, url: '/glucose' },\n  { title: 'Insulin', icon: Droplet, url: '/insulin' },\n  { title: 'Food AI', icon: Utensils, url: '/meals' },\n  { title: 'Medications', icon: Pill, url: '/medications' },\n  { title: 'Voice AI', icon: Mic, url: '/voice' },\n];\n\nexport default function AppSidebar() {\n  const { user, logout } = useAuth();\n  const [location] = useLocation();\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n\n  const getInitials = (name: string) => {\n    return name\n      .split(' ')\n      .map(n => n[0])\n      .join('')\n      .toUpperCase()\n      .slice(0, 2);\n  };\n\n  const timeInRange = 85;\n\n  return (\n    <>\n      <aside \n        className=\"fixed left-0 top-0 h-screen flex flex-col backdrop-blur-sm\"\n        style={{ \n          width: '320px',\n          padding: '24px',\n          zIndex: 50,\n          background: 'radial-gradient(ellipse 130% 100% at 0% 50%, rgba(7,12,15,0.68) 0%, rgba(7,12,15,0.78) 60%, rgba(7,12,15,0.88) 100%)',\n          boxShadow: 'inset 1px 0 0 rgba(33,200,155,0.08), 0 4px 24px rgba(0,0,0,0.3)',\n        }}\n        role=\"navigation\"\n        aria-label=\"Main sidebar\"\n      >\n        {/* Scrollable content wrapper */}\n        <div className=\"flex-1 overflow-y-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-primary/30 hover:scrollbar-thumb-primary/50\">\n          \n          {/* Header - Logo + App Name */}\n          <div className=\"flex items-center gap-3 mb-4\">\n            <div \n              className=\"w-11 h-11 rounded-full flex items-center justify-center font-bold text-white text-sm\"\n              style={{\n                background: 'linear-gradient(135deg, #21C89B 0%, #16A085 100%)',\n                boxShadow: '0 4px 16px rgba(33, 200, 155, 0.35), 0 0 24px rgba(33, 200, 155, 0.15)',\n              }}\n            >\n              GN\n            </div>\n            <h1 className=\"text-xl font-bold text-[#EAF6F3] tracking-tight\">GlucoNova</h1>\n          </div>\n\n          {/* User Profile Card - Enhanced */}\n          <div \n            className=\"rounded-xl mb-4\"\n            style={{\n              padding: '14px',\n              background: 'rgba(11,18,20,0.55)',\n              boxShadow: 'inset 0 2px 4px rgba(0,0,0,0.4), 0 1px 2px rgba(33,200,155,0.05)',\n              borderRadius: '14px',\n            }}\n          >\n            <div className=\"flex items-center gap-3 mb-3\">\n              <Avatar \n                className=\"h-12 w-12 ring-2 ring-primary/20\"\n                style={{\n                  boxShadow: '0 8px 24px rgba(33,200,155,0.12)',\n                }}\n              >\n                <AvatarFallback \n                  className=\"text-white font-semibold\"\n                  style={{\n                    background: 'linear-gradient(135deg, #21C89B 0%, #16A085 100%)',\n                    fontSize: '16px',\n                  }}\n                >\n                  {user?.name ? getInitials(user.name) : 'HS'}\n                </AvatarFallback>\n              </Avatar>\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"font-semibold text-[#EAF6F3] truncate\" style={{ fontSize: '17px' }}>\n                  {user?.name || 'Hanisha SM'}\n                </p>\n                <p className=\"text-[#9AA8A6]\" style={{ fontSize: '13px' }}>Diabetes</p>\n              </div>\n            </div>\n            <div style={{ fontSize: '13px' }}>\n              <span className=\"text-[#9AA8A6]\">In Range: </span>\n              <span className=\"text-primary font-semibold\">{timeInRange}%</span>\n            </div>\n          </div>\n\n          {/* Navigation Menu - Enhanced Spacing & Sizing */}\n          <nav className=\"space-y-1\">\n            {menuItems.map((item) => {\n              const isActive = location === item.url;\n              const Icon = item.icon;\n              \n              return (\n                <Link \n                  key={item.title}\n                  href={item.url}\n                >\n                  <button\n                    className=\"w-full flex items-center gap-4 rounded-lg text-[#9AA8A6] hover:text-[#EAF6F3] transition-all duration-150 group relative\"\n                    style={{\n                      padding: '12px',\n                      backgroundColor: isActive ? 'rgba(33,200,155,0.08)' : 'transparent',\n                      color: isActive ? '#EAF6F3' : undefined,\n                    }}\n                    onMouseEnter={(e) => {\n                      if (!isActive) {\n                        e.currentTarget.style.backgroundColor = 'rgba(33,200,155,0.03)';\n                      }\n                    }}\n                    onMouseLeave={(e) => {\n                      if (!isActive) {\n                        e.currentTarget.style.backgroundColor = 'transparent';\n                      }\n                    }}\n                    data-testid={`link-${item.title.toLowerCase().replace(/\\s+/g, '-')}`}\n                    aria-current={isActive ? 'page' : undefined}\n                  >\n                    {/* Left accent bar - Rounded pill style */}\n                    {isActive && (\n                      <div \n                        className=\"absolute left-0 top-1/2 -translate-y-1/2 bg-primary\"\n                        style={{\n                          width: '6px',\n                          height: '32px',\n                          borderRadius: '0 4px 4px 0',\n                        }}\n                      />\n                    )}\n\n                    {/* Hover accent bar animation */}\n                    <div \n                      className=\"absolute left-0 top-1/2 -translate-y-1/2 bg-primary opacity-0 group-hover:opacity-100 transition-all duration-150\"\n                      style={{\n                        width: isActive ? '0' : '6px',\n                        height: '32px',\n                        borderRadius: '0 4px 4px 0',\n                        transform: isActive ? 'translateX(-6px) translateY(-50%)' : 'translateY(-50%)',\n                      }}\n                    />\n                    \n                    <Icon className=\"flex-shrink-0\" style={{ width: '22px', height: '22px', strokeWidth: 2 }} />\n                    <span className=\"font-medium flex-1 text-left\" style={{ fontSize: '16px' }}>{item.title}</span>\n                    \n                    {/* Active indicator - white dot on right */}\n                    {isActive && (\n                      <div \n                        className=\"ml-auto rounded-full bg-white\"\n                        style={{ width: '10px', height: '10px' }}\n                      />\n                    )}\n                  </button>\n                </Link>\n              );\n            })}\n\n            {/* Settings Item - Same styling */}\n            <button\n              onClick={() => setIsSettingsOpen(true)}\n              className=\"w-full flex items-center gap-4 rounded-lg text-[#9AA8A6] hover:text-[#EAF6F3] transition-all duration-150 group relative\"\n              style={{\n                padding: '12px',\n                backgroundColor: 'transparent',\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = 'rgba(33,200,155,0.03)';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = 'transparent';\n              }}\n              data-testid=\"button-settings\"\n            >\n              {/* Hover accent bar */}\n              <div \n                className=\"absolute left-0 top-1/2 -translate-y-1/2 bg-primary opacity-0 group-hover:opacity-100 transition-all duration-150\"\n                style={{\n                  width: '6px',\n                  height: '32px',\n                  borderRadius: '0 4px 4px 0',\n                }}\n              />\n              \n              <Settings className=\"flex-shrink-0\" style={{ width: '22px', height: '22px', strokeWidth: 2 }} />\n              <span className=\"font-medium flex-1 text-left\" style={{ fontSize: '16px' }}>Settings</span>\n            </button>\n          </nav>\n        </div>\n\n        {/* Bottom Action Buttons - Larger & Centered */}\n        <div className=\"pt-4 mt-auto\">\n          <div className=\"flex gap-3 mb-3 justify-center\">\n            {/* Voice/Mic Button - Larger */}\n            <Link href=\"/voice\">\n              <button\n                className=\"rounded-xl flex items-center justify-center transition-all duration-200\"\n                style={{\n                  width: '100px',\n                  height: '64px',\n                  background: 'rgba(10,18,21,0.6)',\n                  boxShadow: 'inset 0 1px 2px rgba(255,255,255,0.05), 0 4px 16px rgba(33,200,155,0.15)',\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.boxShadow = 'inset 0 1px 2px rgba(255,255,255,0.08), 0 6px 24px rgba(33,200,155,0.3)';\n                  e.currentTarget.style.background = 'rgba(10,18,21,0.75)';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.boxShadow = 'inset 0 1px 2px rgba(255,255,255,0.05), 0 4px 16px rgba(33,200,155,0.15)';\n                  e.currentTarget.style.background = 'rgba(10,18,21,0.6)';\n                }}\n                data-testid=\"button-voice\"\n                aria-label=\"Voice Assistant\"\n              >\n                <Mic className=\"text-primary\" style={{ width: '26px', height: '26px', strokeWidth: 2 }} />\n              </button>\n            </Link>\n\n            {/* Upload/Share Button - Larger */}\n            <Link href=\"/reports\">\n              <button\n                className=\"rounded-xl flex items-center justify-center transition-all duration-200\"\n                style={{\n                  width: '100px',\n                  height: '64px',\n                  background: 'rgba(10,18,21,0.6)',\n                  boxShadow: 'inset 0 1px 2px rgba(255,255,255,0.05), 0 4px 16px rgba(33,200,155,0.15)',\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.boxShadow = 'inset 0 1px 2px rgba(255,255,255,0.08), 0 6px 24px rgba(33,200,155,0.3)';\n                  e.currentTarget.style.background = 'rgba(10,18,21,0.75)';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.boxShadow = 'inset 0 1px 2px rgba(255,255,255,0.05), 0 4px 16px rgba(33,200,155,0.15)';\n                  e.currentTarget.style.background = 'rgba(10,18,21,0.6)';\n                }}\n                data-testid=\"button-upload\"\n                aria-label=\"Upload Report\"\n              >\n                <Upload className=\"text-primary\" style={{ width: '26px', height: '26px', strokeWidth: 2 }} />\n              </button>\n            </Link>\n          </div>\n\n          {/* Logout Link - Small Red Text Bottom-Left */}\n          <button\n            onClick={logout}\n            className=\"flex items-center gap-2 hover:text-red-300 transition-colors\"\n            style={{\n              fontSize: '13px',\n              color: '#FF6B6B',\n            }}\n            data-testid=\"button-logout\"\n          >\n            <LogOut style={{ width: '14px', height: '14px' }} />\n            <span>Logout</span>\n          </button>\n        </div>\n      </aside>\n\n      {/* Settings Drawer */}\n      <SettingsDrawer \n        isOpen={isSettingsOpen} \n        onClose={() => setIsSettingsOpen(false)} \n      />\n    </>\n  );\n}\n","size_bytes":11975},"client/src/components/examples/GlucoseTrendChart.tsx":{"content":"import GlucoseTrendChart from '../GlucoseTrendChart';\n\nexport default function GlucoseTrendChartExample() {\n  return (\n    <div className=\"p-6 bg-background\">\n      <GlucoseTrendChart />\n    </div>\n  );\n}\n","size_bytes":205},"client/src/pages/MedicalReportsPage.tsx":{"content":"import { useState, useRef } from 'react';\nimport AppSidebar from '@/components/AppSidebar';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport { queryClient } from '@/lib/queryClient';\nimport { useToast } from '@/hooks/use-toast';\nimport { useAuth } from '@/lib/auth-context';\nimport { FileText, Upload, Download, Eye } from 'lucide-react';\nimport { Badge } from '@/components/ui/badge';\n\nexport default function MedicalReportsPage() {\n  const { toast } = useToast();\n  const { user } = useAuth();\n  const [description, setDescription] = useState('');\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const { data: reportsData, isLoading } = useQuery({\n    queryKey: ['/api/reports'],\n  });\n\n  const uploadMutation = useMutation({\n    mutationFn: async (formData: FormData) => {\n      const token = localStorage.getItem('token');\n      const response = await fetch('/api/reports/upload', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.message || 'Upload failed');\n      }\n\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({\n        title: 'Success',\n        description: 'Report uploaded successfully',\n      });\n      queryClient.invalidateQueries({ queryKey: ['/api/reports'] });\n      setDescription('');\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'Error',\n        description: error.message || 'Failed to upload report',\n        variant: 'destructive',\n      });\n    },\n  });\n\n  const handleFileUpload = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    \n    if (!fileInputRef.current?.files?.length) {\n      toast({\n        title: 'No file selected',\n        description: 'Please select a file to upload',\n        variant: 'destructive',\n      });\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('file', fileInputRef.current.files[0]);\n    formData.append('patientId', user?.id || '');\n    if (description) {\n      formData.append('description', description);\n    }\n\n    uploadMutation.mutate(formData);\n  };\n\n  const handleDownload = async (fileUrl: string, fileName: string) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(fileUrl, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n\n      if (!response.ok) throw new Error('Download failed');\n\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = fileName;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n\n      toast({\n        title: 'Success',\n        description: 'Report downloaded successfully',\n      });\n    } catch (error) {\n      toast({\n        title: 'Error',\n        description: 'Failed to download report',\n        variant: 'destructive',\n      });\n    }\n  };\n\n  return (\n    <div className=\"flex h-screen w-full bg-gradient-to-br from-neutral-900 via-zinc-900 to-neutral-950 relative overflow-hidden\">\n      <AppSidebar />\n      <div className=\"flex flex-col flex-1 overflow-hidden relative\" style={{ zIndex: 10, marginLeft: '320px' }}>\n        <header className=\"flex items-center justify-between border-b border-border\" style={{ height: '72px', padding: '0 24px' }}>\n          <div className=\"flex items-center gap-4\">\n            <Upload className=\"w-6 h-6 text-primary\" />\n            <h2 className=\"text-xl font-semibold\">Medical Reports</h2>\n          </div>\n        </header>\n        \n        <main className=\"flex-1 overflow-y-auto\">\n          <div className=\"w-full\" style={{ padding: '24px 32px' }}>\n            <div className=\"mb-6\">\n              <h1 className=\"text-3xl font-bold mb-1\">Medical Reports</h1>\n              <p className=\"text-muted-foreground\">Upload and manage your medical documents</p>\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n              <Card className=\"p-6\">\n                <div className=\"flex items-center gap-3 mb-6\">\n                  <div className=\"h-10 w-10 rounded-lg bg-primary/20 flex items-center justify-center\">\n                    <Upload className=\"h-5 w-5 text-primary\" />\n                  </div>\n                  <h2 className=\"text-xl font-bold\">Upload Report</h2>\n                </div>\n\n                <form onSubmit={handleFileUpload} className=\"space-y-4\">\n                  <div>\n                    <Label htmlFor=\"file-upload\">Select File (PDF, JPEG, PNG)</Label>\n                    <Input\n                      id=\"file-upload\"\n                      type=\"file\"\n                      accept=\".pdf,.jpeg,.jpg,.png\"\n                      ref={fileInputRef}\n                      className=\"mt-2\"\n                      data-testid=\"input-file\"\n                    />\n                    <p className=\"text-xs text-muted-foreground mt-1\">\n                      Max file size: 20MB\n                    </p>\n                  </div>\n\n                  <div>\n                    <Label htmlFor=\"description\">Description (optional)</Label>\n                    <Textarea\n                      id=\"description\"\n                      placeholder=\"Add a description for this report...\"\n                      value={description}\n                      onChange={(e) => setDescription(e.target.value)}\n                      className=\"mt-2\"\n                      data-testid=\"input-description\"\n                    />\n                  </div>\n\n                  <Button\n                    type=\"submit\"\n                    className=\"w-full\"\n                    disabled={uploadMutation.isPending}\n                    data-testid=\"button-upload\"\n                  >\n                    {uploadMutation.isPending ? 'Uploading...' : 'Upload Report'}\n                  </Button>\n                </form>\n              </Card>\n\n              <Card className=\"p-6 lg:col-span-2\">\n                <div className=\"flex items-center gap-3 mb-6\">\n                  <div className=\"h-10 w-10 rounded-lg bg-primary/20 flex items-center justify-center\">\n                    <FileText className=\"h-5 w-5 text-primary\" />\n                  </div>\n                  <h2 className=\"text-xl font-bold\">Your Reports</h2>\n                </div>\n\n                {isLoading ? (\n                  <p className=\"text-sm text-muted-foreground text-center py-8\">Loading reports...</p>\n                ) : reportsData?.reports?.length > 0 ? (\n                  <div className=\"space-y-3\">\n                    {reportsData.reports.map((report: any) => (\n                      <div\n                        key={report._id}\n                        className=\"p-4 rounded-lg bg-secondary/50 space-y-3\"\n                        data-testid={`report-${report._id}`}\n                      >\n                        <div className=\"flex items-start justify-between\">\n                          <div className=\"flex-1\">\n                            <h3 className=\"font-semibold\" data-testid={`text-filename-${report._id}`}>\n                              {report.fileName}\n                            </h3>\n                            <p className=\"text-xs text-muted-foreground mt-1\">\n                              Uploaded: {new Date(report.uploadedAt).toLocaleDateString()}\n                            </p>\n                            {report.description && (\n                              <p className=\"text-sm text-muted-foreground mt-2\">\n                                {report.description}\n                              </p>\n                            )}\n                          </div>\n                          <Badge variant=\"secondary\" className=\"ml-2\">\n                            {report.fileType === 'application/pdf' ? 'PDF' : 'Image'}\n                          </Badge>\n                        </div>\n                        \n                        <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n                          <span>Size: {(report.fileSize / 1024).toFixed(2)} KB</span>\n                        </div>\n\n                        <div className=\"flex items-center gap-2 pt-2 border-t border-border\">\n                          <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            onClick={() => handleDownload(report.fileUrl, report.fileName)}\n                            data-testid={`button-download-${report._id}`}\n                          >\n                            <Download className=\"h-4 w-4 mr-2\" />\n                            Download\n                          </Button>\n                          {report.fileType === 'application/pdf' && (\n                            <Button\n                              size=\"sm\"\n                              variant=\"ghost\"\n                              onClick={() => window.open(report.fileUrl, '_blank')}\n                              data-testid={`button-view-${report._id}`}\n                            >\n                              <Eye className=\"h-4 w-4 mr-2\" />\n                              View\n                            </Button>\n                          )}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                ) : (\n                  <p className=\"text-sm text-muted-foreground text-center py-8\">\n                    No reports uploaded yet. Upload your first medical report!\n                  </p>\n                )}\n              </Card>\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}\n","size_bytes":10153},"client/src/pages/HealthDataPage.tsx":{"content":"import { useState } from 'react';\nimport AppSidebar from '@/components/AppSidebar';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { healthDataSchema, type InsertHealthData } from '@shared/schema';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport { apiRequest, queryClient } from '@/lib/queryClient';\nimport { useToast } from '@/hooks/use-toast';\nimport { Droplet, TrendingUp } from 'lucide-react';\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from '@/components/ui/form';\n\nexport default function HealthDataPage() {\n  const { toast } = useToast();\n  \n  const form = useForm<InsertHealthData>({\n    resolver: zodResolver(healthDataSchema),\n    defaultValues: {\n      glucose: 0,\n      insulin: 0,\n      carbs: 0,\n      activityLevel: 'moderate',\n      notes: '',\n    },\n  });\n\n  const createHealthDataMutation = useMutation({\n    mutationFn: async (data: InsertHealthData) => {\n      return apiRequest('/api/health-data', 'POST', data);\n    },\n    onSuccess: () => {\n      toast({\n        title: 'Success',\n        description: 'Health data logged successfully',\n      });\n      queryClient.invalidateQueries({ queryKey: ['/api/health-data'] });\n      queryClient.invalidateQueries({ queryKey: ['/api/health-data/latest'] });\n      form.reset();\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'Error',\n        description: error.message || 'Failed to log health data',\n        variant: 'destructive',\n      });\n    },\n  });\n\n  const { data: healthHistory } = useQuery({\n    queryKey: ['/api/health-data'],\n  });\n\n  const onSubmit = (data: InsertHealthData) => {\n    createHealthDataMutation.mutate(data);\n  };\n\n  return (\n    <div className=\"flex h-screen w-full bg-gradient-to-br from-neutral-900 via-zinc-900 to-neutral-950 relative overflow-hidden\">\n      <AppSidebar />\n      <div className=\"flex flex-col flex-1 overflow-hidden relative\" style={{ zIndex: 10, marginLeft: '320px' }}>\n        <header className=\"flex items-center justify-between border-b border-border\" style={{ height: '72px', padding: '0 24px' }}>\n          <div className=\"flex items-center gap-4\">\n            <Droplet className=\"w-6 h-6 text-primary\" />\n            <h2 className=\"text-xl font-semibold\">My Details</h2>\n          </div>\n        </header>\n        \n        <main className=\"flex-1 overflow-y-auto\">\n          <div className=\"w-full\" style={{ padding: '24px 32px' }}>\n            <div className=\"mb-6\">\n              <h1 className=\"text-3xl font-bold mb-1\">Log Health Data</h1>\n              <p className=\"text-muted-foreground\">Track your glucose, insulin, and carbohydrate intake</p>\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <Card className=\"p-6\">\n                <div className=\"flex items-center gap-3 mb-6\">\n                  <div className=\"h-10 w-10 rounded-lg bg-primary/20 flex items-center justify-center\">\n                    <Droplet className=\"h-5 w-5 text-primary\" />\n                  </div>\n                  <h2 className=\"text-xl font-bold\">New Entry</h2>\n                </div>\n\n                <Form {...form}>\n                  <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n                    <FormField\n                      control={form.control}\n                      name=\"glucose\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Glucose Level (mg/dL)</FormLabel>\n                          <FormControl>\n                            <Input\n                              type=\"number\"\n                              placeholder=\"Enter glucose level\"\n                              {...field}\n                              onChange={(e) => field.onChange(parseFloat(e.target.value))}\n                              data-testid=\"input-glucose\"\n                            />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n\n                    <FormField\n                      control={form.control}\n                      name=\"insulin\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Insulin Dose (units)</FormLabel>\n                          <FormControl>\n                            <Input\n                              type=\"number\"\n                              step=\"0.1\"\n                              placeholder=\"Enter insulin dose\"\n                              {...field}\n                              onChange={(e) => field.onChange(parseFloat(e.target.value))}\n                              data-testid=\"input-insulin\"\n                            />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n\n                    <FormField\n                      control={form.control}\n                      name=\"carbs\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Carbohydrates (grams)</FormLabel>\n                          <FormControl>\n                            <Input\n                              type=\"number\"\n                              placeholder=\"Enter carbs consumed\"\n                              {...field}\n                              onChange={(e) => field.onChange(parseFloat(e.target.value))}\n                              data-testid=\"input-carbs\"\n                            />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n\n                    <FormField\n                      control={form.control}\n                      name=\"activityLevel\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Activity Level</FormLabel>\n                          <Select onValueChange={field.onChange} defaultValue={field.value}>\n                            <FormControl>\n                              <SelectTrigger data-testid=\"select-activity\">\n                                <SelectValue placeholder=\"Select activity level\" />\n                              </SelectTrigger>\n                            </FormControl>\n                            <SelectContent>\n                              <SelectItem value=\"sedentary\">Sedentary</SelectItem>\n                              <SelectItem value=\"light\">Light</SelectItem>\n                              <SelectItem value=\"moderate\">Moderate</SelectItem>\n                              <SelectItem value=\"active\">Active</SelectItem>\n                              <SelectItem value=\"very_active\">Very Active</SelectItem>\n                            </SelectContent>\n                          </Select>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n\n                    <FormField\n                      control={form.control}\n                      name=\"notes\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Notes (optional)</FormLabel>\n                          <FormControl>\n                            <Textarea\n                              placeholder=\"Add any additional notes...\"\n                              {...field}\n                              data-testid=\"input-notes\"\n                            />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n\n                    <Button\n                      type=\"submit\"\n                      className=\"w-full\"\n                      disabled={createHealthDataMutation.isPending}\n                      data-testid=\"button-submit\"\n                    >\n                      {createHealthDataMutation.isPending ? 'Logging...' : 'Log Health Data'}\n                    </Button>\n                  </form>\n                </Form>\n              </Card>\n\n              <Card className=\"p-6\">\n                <div className=\"flex items-center gap-3 mb-6\">\n                  <div className=\"h-10 w-10 rounded-lg bg-primary/20 flex items-center justify-center\">\n                    <TrendingUp className=\"h-5 w-5 text-primary\" />\n                  </div>\n                  <h2 className=\"text-xl font-bold\">Recent Entries</h2>\n                </div>\n\n                <div className=\"space-y-3\">\n                  {healthHistory?.healthData?.slice(0, 5).map((entry: any) => (\n                    <div\n                      key={entry._id}\n                      className=\"p-4 rounded-lg bg-secondary/50 space-y-2\"\n                      data-testid={`entry-${entry._id}`}\n                    >\n                      <div className=\"flex items-center justify-between\">\n                        <span className=\"text-sm font-semibold\">\n                          {new Date(entry.timestamp).toLocaleString()}\n                        </span>\n                      </div>\n                      <div className=\"grid grid-cols-3 gap-2 text-sm\">\n                        <div>\n                          <span className=\"text-muted-foreground\">Glucose:</span>\n                          <span className=\"ml-1 font-semibold\" data-testid={`text-glucose-${entry._id}`}>\n                            {entry.glucose} mg/dL\n                          </span>\n                        </div>\n                        <div>\n                          <span className=\"text-muted-foreground\">Insulin:</span>\n                          <span className=\"ml-1 font-semibold\" data-testid={`text-insulin-${entry._id}`}>\n                            {entry.insulin}U\n                          </span>\n                        </div>\n                        <div>\n                          <span className=\"text-muted-foreground\">Carbs:</span>\n                          <span className=\"ml-1 font-semibold\" data-testid={`text-carbs-${entry._id}`}>\n                            {entry.carbs}g\n                          </span>\n                        </div>\n                      </div>\n                      {entry.notes && (\n                        <p className=\"text-sm text-muted-foreground mt-2\">{entry.notes}</p>\n                      )}\n                    </div>\n                  )) || (\n                    <p className=\"text-sm text-muted-foreground text-center py-8\">\n                      No entries yet. Log your first health data!\n                    </p>\n                  )}\n                </div>\n              </Card>\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}\n","size_bytes":11263},"client/src/pages/MealLoggingPage.tsx":{"content":"import { useState } from 'react';\nimport AppSidebar from '@/components/AppSidebar';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { mealSchema, type InsertMeal } from '@shared/schema';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport { apiRequest, queryClient } from '@/lib/queryClient';\nimport { useToast } from '@/hooks/use-toast';\nimport { Utensils, Mic } from 'lucide-react';\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from '@/components/ui/form';\n\nexport default function MealLoggingPage() {\n  const { toast } = useToast();\n  const [isRecording, setIsRecording] = useState(false);\n  \n  const form = useForm<InsertMeal>({\n    resolver: zodResolver(mealSchema),\n    defaultValues: {\n      name: '',\n      carbs: 0,\n      protein: 0,\n      fat: 0,\n      calories: 0,\n      voiceRecorded: false,\n    },\n  });\n\n  const createMealMutation = useMutation({\n    mutationFn: async (data: InsertMeal) => {\n      return apiRequest('/api/meals', 'POST', data);\n    },\n    onSuccess: () => {\n      toast({\n        title: 'Success',\n        description: 'Meal logged successfully',\n      });\n      queryClient.invalidateQueries({ queryKey: ['/api/meals'] });\n      form.reset();\n      setIsRecording(false);\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'Error',\n        description: error.message || 'Failed to log meal',\n        variant: 'destructive',\n      });\n    },\n  });\n\n  const { data: mealHistory } = useQuery({\n    queryKey: ['/api/meals'],\n  });\n\n  const onSubmit = (data: InsertMeal) => {\n    createMealMutation.mutate(data);\n  };\n\n  const handleVoiceRecording = () => {\n    setIsRecording(!isRecording);\n    form.setValue('voiceRecorded', !isRecording);\n    \n    if (!isRecording) {\n      toast({\n        title: 'Voice Recording',\n        description: 'Voice recording feature will be available soon',\n      });\n    }\n  };\n\n  return (\n    <div className=\"flex h-screen w-full bg-gradient-to-br from-neutral-900 via-zinc-900 to-neutral-950 relative overflow-hidden\">\n      <AppSidebar />\n      <div className=\"flex flex-col flex-1 overflow-hidden relative\" style={{ zIndex: 10, marginLeft: '320px' }}>\n        <header className=\"flex items-center justify-between border-b border-border\" style={{ height: '72px', padding: '0 24px' }}>\n          <div className=\"flex items-center gap-4\">\n            <Utensils className=\"w-6 h-6 text-primary\" />\n            <h2 className=\"text-xl font-semibold\">Food AI</h2>\n          </div>\n        </header>\n        \n        <main className=\"flex-1 overflow-y-auto\">\n          <div className=\"w-full\" style={{ padding: '24px 32px' }}>\n            <div className=\"mb-6\">\n              <h1 className=\"text-3xl font-bold mb-1\">Log Meals</h1>\n              <p className=\"text-muted-foreground\">Track your nutrition and meal intake</p>\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <Card className=\"p-6\">\n                <div className=\"flex items-center gap-3 mb-6\">\n                  <div className=\"h-10 w-10 rounded-lg bg-primary/20 flex items-center justify-center\">\n                    <Utensils className=\"h-5 w-5 text-primary\" />\n                  </div>\n                  <h2 className=\"text-xl font-bold\">New Meal</h2>\n                </div>\n\n                <div className=\"mb-4\">\n                  <Button\n                    type=\"button\"\n                    variant={isRecording ? 'destructive' : 'outline'}\n                    className=\"w-full\"\n                    onClick={handleVoiceRecording}\n                    data-testid=\"button-voice-record\"\n                  >\n                    <Mic className=\"h-4 w-4 mr-2\" />\n                    {isRecording ? 'Stop Recording' : 'Log with Voice'}\n                  </Button>\n                </div>\n\n                <Form {...form}>\n                  <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n                    <FormField\n                      control={form.control}\n                      name=\"name\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Meal Name</FormLabel>\n                          <FormControl>\n                            <Input\n                              placeholder=\"e.g., Breakfast, Chicken Salad\"\n                              {...field}\n                              data-testid=\"input-meal-name\"\n                            />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n\n                    <FormField\n                      control={form.control}\n                      name=\"carbs\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Carbohydrates (grams)</FormLabel>\n                          <FormControl>\n                            <Input\n                              type=\"number\"\n                              placeholder=\"Enter carbs\"\n                              {...field}\n                              onChange={(e) => field.onChange(parseFloat(e.target.value) || 0)}\n                              data-testid=\"input-carbs\"\n                            />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n\n                    <FormField\n                      control={form.control}\n                      name=\"protein\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Protein (grams, optional)</FormLabel>\n                          <FormControl>\n                            <Input\n                              type=\"number\"\n                              placeholder=\"Enter protein\"\n                              {...field}\n                              onChange={(e) => field.onChange(parseFloat(e.target.value) || 0)}\n                              data-testid=\"input-protein\"\n                            />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n\n                    <FormField\n                      control={form.control}\n                      name=\"fat\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Fat (grams, optional)</FormLabel>\n                          <FormControl>\n                            <Input\n                              type=\"number\"\n                              placeholder=\"Enter fat\"\n                              {...field}\n                              onChange={(e) => field.onChange(parseFloat(e.target.value) || 0)}\n                              data-testid=\"input-fat\"\n                            />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n\n                    <FormField\n                      control={form.control}\n                      name=\"calories\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Calories (optional)</FormLabel>\n                          <FormControl>\n                            <Input\n                              type=\"number\"\n                              placeholder=\"Enter calories\"\n                              {...field}\n                              onChange={(e) => field.onChange(parseFloat(e.target.value) || 0)}\n                              data-testid=\"input-calories\"\n                            />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n\n                    <Button\n                      type=\"submit\"\n                      className=\"w-full\"\n                      disabled={createMealMutation.isPending}\n                      data-testid=\"button-submit\"\n                    >\n                      {createMealMutation.isPending ? 'Logging...' : 'Log Meal'}\n                    </Button>\n                  </form>\n                </Form>\n              </Card>\n\n              <Card className=\"p-6\">\n                <div className=\"flex items-center gap-3 mb-6\">\n                  <div className=\"h-10 w-10 rounded-lg bg-primary/20 flex items-center justify-center\">\n                    <Utensils className=\"h-5 w-5 text-primary\" />\n                  </div>\n                  <h2 className=\"text-xl font-bold\">Recent Meals</h2>\n                </div>\n\n                <div className=\"space-y-3\">\n                  {mealHistory?.meals?.slice(0, 5).map((meal: any) => (\n                    <div\n                      key={meal._id}\n                      className=\"p-4 rounded-lg bg-secondary/50 space-y-2\"\n                      data-testid={`meal-${meal._id}`}\n                    >\n                      <div className=\"flex items-center justify-between\">\n                        <span className=\"font-semibold\" data-testid={`text-meal-name-${meal._id}`}>\n                          {meal.name}\n                        </span>\n                        {meal.voiceRecorded && (\n                          <Mic className=\"h-4 w-4 text-primary\" />\n                        )}\n                      </div>\n                      <div className=\"text-xs text-muted-foreground\">\n                        {new Date(meal.timestamp).toLocaleString()}\n                      </div>\n                      <div className=\"grid grid-cols-2 gap-2 text-sm\">\n                        <div>\n                          <span className=\"text-muted-foreground\">Carbs:</span>\n                          <span className=\"ml-1 font-semibold\" data-testid={`text-carbs-${meal._id}`}>\n                            {meal.carbs}g\n                          </span>\n                        </div>\n                        {meal.protein > 0 && (\n                          <div>\n                            <span className=\"text-muted-foreground\">Protein:</span>\n                            <span className=\"ml-1 font-semibold\">{meal.protein}g</span>\n                          </div>\n                        )}\n                        {meal.fat > 0 && (\n                          <div>\n                            <span className=\"text-muted-foreground\">Fat:</span>\n                            <span className=\"ml-1 font-semibold\">{meal.fat}g</span>\n                          </div>\n                        )}\n                        {meal.calories > 0 && (\n                          <div>\n                            <span className=\"text-muted-foreground\">Calories:</span>\n                            <span className=\"ml-1 font-semibold\">{meal.calories}</span>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  )) || (\n                    <p className=\"text-sm text-muted-foreground text-center py-8\">\n                      No meals logged yet. Log your first meal!\n                    </p>\n                  )}\n                </div>\n              </Card>\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}\n","size_bytes":11674},"client/src/components/OnboardingBanner.tsx":{"content":"import { Button } from '@/components/ui/button';\nimport { X, AlertCircle } from 'lucide-react';\n\ninterface OnboardingBannerProps {\n  onResume: () => void;\n  onDismiss: () => void;\n}\n\nexport default function OnboardingBanner({ onResume, onDismiss }: OnboardingBannerProps) {\n  return (\n    <div \n      className=\"bg-emerald-400/10 border-b border-emerald-400/20 px-6 py-3 flex items-center justify-between\"\n      data-testid=\"banner-onboarding\"\n    >\n      <div className=\"flex items-center gap-3\">\n        <AlertCircle className=\"w-5 h-5 text-emerald-400\" />\n        <div>\n          <p className=\"text-sm font-medium text-white\">Complete your setup</p>\n          <p className=\"text-xs text-gray-400\">\n            Add your health information to get personalized AI-powered insights\n          </p>\n        </div>\n      </div>\n      <div className=\"flex items-center gap-2\">\n        <Button\n          size=\"sm\"\n          onClick={onResume}\n          className=\"bg-emerald-400 hover:bg-emerald-500 text-white\"\n          data-testid=\"button-resume-setup\"\n        >\n          Resume Setup\n        </Button>\n        <Button\n          size=\"sm\"\n          variant=\"ghost\"\n          onClick={onDismiss}\n          className=\"text-gray-400 hover:text-white\"\n          data-testid=\"button-dismiss-banner\"\n        >\n          <X className=\"w-4 h-4\" />\n        </Button>\n      </div>\n    </div>\n  );\n}\n","size_bytes":1387},"client/src/components/OnboardingModal.tsx":{"content":"import { useState, useCallback } from 'react';\nimport { Dialog, DialogContent, DialogTitle, DialogDescription } from '@/components/ui/dialog';\nimport { VisuallyHidden } from '@radix-ui/react-visually-hidden';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Progress } from '@/components/ui/progress';\nimport { Card } from '@/components/ui/card';\nimport { Upload, FileText, X, Check, Activity, Droplet, Pill, Mic, Heart, Utensils } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\nimport { apiRequest } from '@/lib/queryClient';\n\ninterface OnboardingModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onComplete: () => void;\n  onSkip: () => void;\n}\n\ninterface HealthData {\n  name: string;\n  dob: string;\n  weight: string;\n  height: string;\n  lastA1c: string;\n  medications: string;\n  typicalInsulin: string;\n  targetRange: string;\n}\n\nexport default function OnboardingModal({ isOpen, onClose, onComplete, onSkip }: OnboardingModalProps) {\n  const [step, setStep] = useState(1);\n  const [uploadedFile, setUploadedFile] = useState<File | null>(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [showParser, setShowParser] = useState(false);\n  const [healthData, setHealthData] = useState<HealthData>({\n    name: '',\n    dob: '',\n    weight: '',\n    height: '',\n    lastA1c: '',\n    medications: '',\n    typicalInsulin: '',\n    targetRange: '70-180',\n  });\n  const { toast } = useToast();\n\n  const progress = (step / 5) * 100;\n\n  const handleFileUpload = useCallback((file: File) => {\n    if (file.type === 'application/pdf' || file.type === 'image/jpeg' || file.type === 'image/png') {\n      if (file.size > 20 * 1024 * 1024) {\n        toast({\n          title: 'File too large',\n          description: 'Please upload a file smaller than 20MB',\n          variant: 'destructive',\n        });\n        return;\n      }\n      setUploadedFile(file);\n      setShowParser(true);\n      \n      // Simulate parsing PDF data\n      setTimeout(() => {\n        setHealthData({\n          name: 'John Doe',\n          dob: '1980-05-15',\n          weight: '75',\n          height: '175',\n          lastA1c: '6.5',\n          medications: 'Metformin, Insulin',\n          typicalInsulin: '20',\n          targetRange: '70-180',\n        });\n      }, 500);\n    } else {\n      toast({\n        title: 'Invalid file type',\n        description: 'Please upload a PDF, JPEG, or PNG file',\n        variant: 'destructive',\n      });\n    }\n  }, [toast]);\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(true);\n  };\n\n  const handleDragLeave = () => {\n    setIsDragging(false);\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n    const file = e.dataTransfer.files[0];\n    if (file) {\n      handleFileUpload(file);\n    }\n  };\n\n  const handleFileInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      handleFileUpload(file);\n    }\n  };\n\n  const handleUseSample = () => {\n    setShowParser(true);\n    setHealthData({\n      name: 'Jane Smith',\n      dob: '1985-03-20',\n      weight: '68',\n      height: '165',\n      lastA1c: '7.2',\n      medications: 'Insulin Glargine',\n      typicalInsulin: '18',\n      targetRange: '70-180',\n    });\n  };\n\n  const handleManualEntry = () => {\n    setShowParser(false);\n    setStep(4);\n  };\n\n  const validateData = () => {\n    if (!healthData.name.trim()) {\n      toast({\n        title: 'Name required',\n        description: 'Please enter your name',\n        variant: 'destructive',\n      });\n      return false;\n    }\n    if (!healthData.dob) {\n      toast({\n        title: 'Date of birth required',\n        description: 'Please enter your date of birth',\n        variant: 'destructive',\n      });\n      return false;\n    }\n    if (!healthData.weight || parseFloat(healthData.weight) <= 0) {\n      toast({\n        title: 'Valid weight required',\n        description: 'Please enter a valid weight in kg',\n        variant: 'destructive',\n      });\n      return false;\n    }\n    if (!healthData.height || parseFloat(healthData.height) <= 0) {\n      toast({\n        title: 'Valid height required',\n        description: 'Please enter a valid height in cm',\n        variant: 'destructive',\n      });\n      return false;\n    }\n    return true;\n  };\n\n  const handleNextStep = async () => {\n    // Validate before moving from step 3 (parser) or step 4 (manual) to step 5\n    if ((step === 3 && showParser) || step === 4) {\n      if (!validateData()) {\n        return;\n      }\n    }\n    \n    if (step < 5) {\n      setStep(step + 1);\n    } else {\n      try {\n        const profileData = {\n          dateOfBirth: healthData.dob,\n          weight: parseFloat(healthData.weight),\n          height: parseFloat(healthData.height),\n          lastA1c: healthData.lastA1c ? parseFloat(healthData.lastA1c) : undefined,\n          medications: healthData.medications || undefined,\n          typicalInsulin: healthData.typicalInsulin ? parseFloat(healthData.typicalInsulin) : undefined,\n          targetRange: healthData.targetRange || undefined,\n        };\n\n        // Save user profile data to the database\n        try {\n          const profileResponse = await apiRequest('/api/profile', {\n            method: 'POST',\n            body: JSON.stringify(profileData),\n          });\n          await profileResponse.json();\n        } catch (error: any) {\n          // If profile already exists (409), update it instead\n          if (error.message.includes('409')) {\n            const updateResponse = await apiRequest('/api/profile', {\n              method: 'PUT',\n              body: JSON.stringify(profileData),\n            });\n            await updateResponse.json();\n          } else {\n            throw error;\n          }\n        }\n\n        // Also save initial health data reading\n        try {\n          const healthResponse = await apiRequest('/api/health-data', {\n            method: 'POST',\n            body: JSON.stringify({\n              glucose: 100,\n              insulin: parseFloat(healthData.typicalInsulin) || 0,\n              carbs: 0,\n              activityLevel: 'moderate',\n              notes: 'Initial reading after onboarding',\n            }),\n          });\n          await healthResponse.json();\n        } catch (error) {\n          console.warn('Failed to save initial health reading:', error);\n        }\n\n        localStorage.setItem('onboardingCompleted', 'true');\n        \n        toast({\n          title: 'Profile created successfully',\n          description: 'Your health data has been saved',\n        });\n        \n        onComplete();\n      } catch (error) {\n        toast({\n          title: 'Error saving profile',\n          description: 'Please try again or contact support',\n          variant: 'destructive',\n        });\n      }\n    }\n  };\n\n  const handleSkip = () => {\n    localStorage.setItem('onboardingSkipped', 'true');\n    onSkip();\n  };\n\n  const handleInputChange = (field: keyof HealthData, value: string) => {\n    setHealthData(prev => ({ ...prev, [field]: value }));\n  };\n\n  return (\n    <Dialog open={isOpen}>\n      <DialogContent \n        className=\"glass-card\"\n        style={{ \n          width: '640px', \n          height: '460px', \n          maxWidth: '90vw', \n          padding: '28px'\n        }}\n        data-testid=\"dialog-onboarding\"\n      >\n        <VisuallyHidden>\n          <DialogTitle>Onboarding - Step {step} of 4</DialogTitle>\n          <DialogDescription>Complete your profile setup to get personalized health insights</DialogDescription>\n        </VisuallyHidden>\n        \n        {/* Progress Bar */}\n        <div className=\"mb-6\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-sm font-medium text-foreground\">Step {step} of 5</span>\n            <Button \n              variant=\"ghost\" \n              size=\"sm\" \n              onClick={handleSkip}\n              className=\"text-xs text-muted-foreground hover:text-foreground\"\n              data-testid=\"button-skip\"\n            >\n              Skip for now\n            </Button>\n          </div>\n          <Progress value={progress} className=\"h-2\" />\n        </div>\n\n        {/* Step 1: Welcome */}\n        {step === 1 && (\n          <div className=\"flex flex-col items-center justify-center flex-1 text-center\">\n            <div className=\"w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center mb-4\">\n              <Check className=\"w-8 h-8 text-primary\" />\n            </div>\n            <h2 className=\"text-2xl font-bold mb-3 text-foreground\">Welcome to GlucoNova</h2>\n            <p className=\"text-muted-foreground mb-8 max-w-md\">\n              Your AI-powered diabetes management platform. Let's take a quick tour of what you can do!\n            </p>\n            <Button \n              onClick={handleNextStep}\n              className=\"bg-primary hover:bg-primary/90 text-primary-foreground\"\n              data-testid=\"button-next-step\"\n            >\n              Start Tour\n            </Button>\n          </div>\n        )}\n\n        {/* Step 2: Features Walkthrough */}\n        {step === 2 && (\n          <div className=\"flex flex-col flex-1\">\n            <h2 className=\"text-xl font-bold mb-2 text-foreground\">Available Features</h2>\n            <p className=\"text-sm text-muted-foreground mb-4\">Everything you need to manage your diabetes effectively</p>\n            \n            <div className=\"flex-1 overflow-y-auto space-y-3\">\n              <Card className=\"p-3 bg-secondary/50 border-border\">\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center flex-shrink-0\">\n                    <Activity className=\"w-5 h-5 text-primary\" />\n                  </div>\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-semibold text-sm text-foreground mb-1\">Glucose Monitoring</h3>\n                    <p className=\"text-xs text-muted-foreground\">Track your blood glucose levels with visual trends and insights</p>\n                  </div>\n                </div>\n              </Card>\n\n              <Card className=\"p-3 bg-secondary/50 border-border\">\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center flex-shrink-0\">\n                    <Droplet className=\"w-5 h-5 text-primary\" />\n                  </div>\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-semibold text-sm text-foreground mb-1\">AI Insulin Prediction</h3>\n                    <p className=\"text-xs text-muted-foreground\">Get personalized insulin recommendations powered by AI</p>\n                  </div>\n                </div>\n              </Card>\n\n              <Card className=\"p-3 bg-secondary/50 border-border\">\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center flex-shrink-0\">\n                    <Utensils className=\"w-5 h-5 text-primary\" />\n                  </div>\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-semibold text-sm text-foreground mb-1\">Meal Tracking</h3>\n                    <p className=\"text-xs text-muted-foreground\">Log meals manually or use voice input for easy tracking</p>\n                  </div>\n                </div>\n              </Card>\n\n              <Card className=\"p-3 bg-secondary/50 border-border\">\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center flex-shrink-0\">\n                    <Pill className=\"w-5 h-5 text-primary\" />\n                  </div>\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-semibold text-sm text-foreground mb-1\">Medication Management</h3>\n                    <p className=\"text-xs text-muted-foreground\">Keep track of your medications and schedules</p>\n                  </div>\n                </div>\n              </Card>\n\n              <Card className=\"p-3 bg-secondary/50 border-border\">\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center flex-shrink-0\">\n                    <Heart className=\"w-5 h-5 text-primary\" />\n                  </div>\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-semibold text-sm text-foreground mb-1\">Doctor Collaboration</h3>\n                    <p className=\"text-xs text-muted-foreground\">Share your data with your healthcare team securely</p>\n                  </div>\n                </div>\n              </Card>\n\n              <Card className=\"p-3 bg-secondary/50 border-border\">\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center flex-shrink-0\">\n                    <Mic className=\"w-5 h-5 text-primary\" />\n                  </div>\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-semibold text-sm text-foreground mb-1\">Voice Assistant</h3>\n                    <p className=\"text-xs text-muted-foreground\">Log meals hands-free using voice commands</p>\n                  </div>\n                </div>\n              </Card>\n            </div>\n\n            <Button\n              onClick={handleNextStep}\n              className=\"bg-primary hover:bg-primary/90 text-primary-foreground mt-4\"\n              data-testid=\"button-next-features\"\n            >\n              Continue to Setup\n            </Button>\n          </div>\n        )}\n\n        {/* Step 3: Upload Health Records */}\n        {step === 3 && !showParser && (\n          <div className=\"flex flex-col flex-1\">\n            <h2 className=\"text-xl font-bold mb-2 text-foreground\">Upload Health Records</h2>\n            <p className=\"text-sm text-muted-foreground mb-4\">Upload a PDF of your health summary to auto-extract your information</p>\n            \n            <div\n              className={`flex-1 border-2 border-dashed rounded-xl flex flex-col items-center justify-center transition-colors ${\n                isDragging ? 'border-primary bg-primary/10' : 'border-border'\n              }`}\n              onDragOver={handleDragOver}\n              onDragLeave={handleDragLeave}\n              onDrop={handleDrop}\n              data-testid=\"dropzone-upload\"\n            >\n              {uploadedFile ? (\n                <div className=\"flex items-center gap-3\">\n                  <FileText className=\"w-8 h-8 text-primary\" />\n                  <div>\n                    <p className=\"text-sm font-medium text-foreground\">{uploadedFile.name}</p>\n                    <p className=\"text-xs text-muted-foreground\">{(uploadedFile.size / 1024).toFixed(1)} KB</p>\n                  </div>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={() => setUploadedFile(null)}\n                    data-testid=\"button-remove-file\"\n                  >\n                    <X className=\"w-4 h-4\" />\n                  </Button>\n                </div>\n              ) : (\n                <>\n                  <Upload className=\"w-12 h-12 text-muted-foreground mb-3\" />\n                  <p className=\"text-sm text-foreground mb-2\">Drag and drop your PDF here</p>\n                  <p className=\"text-xs text-muted-foreground mb-4\">or</p>\n                  <label htmlFor=\"file-upload\">\n                    <Button variant=\"outline\" size=\"sm\" asChild data-testid=\"button-browse\">\n                      <span>Browse Files</span>\n                    </Button>\n                  </label>\n                  <input\n                    id=\"file-upload\"\n                    type=\"file\"\n                    accept=\".pdf,.jpg,.jpeg,.png\"\n                    className=\"hidden\"\n                    onChange={handleFileInputChange}\n                  />\n                </>\n              )}\n            </div>\n\n            <div className=\"flex gap-3 mt-4\">\n              <Button\n                variant=\"outline\"\n                onClick={handleUseSample}\n                className=\"flex-1\"\n                data-testid=\"button-use-sample\"\n              >\n                Use Demo Data\n              </Button>\n              <Button\n                variant=\"outline\"\n                onClick={handleManualEntry}\n                className=\"flex-1\"\n                data-testid=\"button-manual-entry\"\n              >\n                Enter Manually\n              </Button>\n            </div>\n          </div>\n        )}\n\n        {/* Step 3: Parser Results */}\n        {step === 3 && showParser && (\n          <div className=\"flex flex-col flex-1\">\n            <h2 className=\"text-xl font-bold mb-2 text-foreground\">Confirm Your Information</h2>\n            <p className=\"text-sm text-muted-foreground mb-4\">Review and edit the extracted data</p>\n            \n            <div className=\"flex-1 overflow-y-auto space-y-3\">\n              <div className=\"grid grid-cols-2 gap-3\">\n                <div>\n                  <Label className=\"text-xs text-muted-foreground mb-1\">Name</Label>\n                  <Input\n                    value={healthData.name}\n                    onChange={(e) => handleInputChange('name', e.target.value)}\n                    className=\"h-9 bg-secondary border-input text-foreground text-sm\"\n                    data-testid=\"input-name\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"text-xs text-muted-foreground mb-1\">Date of Birth</Label>\n                  <Input\n                    type=\"date\"\n                    value={healthData.dob}\n                    onChange={(e) => handleInputChange('dob', e.target.value)}\n                    className=\"h-9 bg-secondary border-input text-foreground text-sm\"\n                    data-testid=\"input-dob\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"text-xs text-muted-foreground mb-1\">Weight (kg)</Label>\n                  <Input\n                    type=\"number\"\n                    value={healthData.weight}\n                    onChange={(e) => handleInputChange('weight', e.target.value)}\n                    className=\"h-9 bg-secondary border-input text-foreground text-sm\"\n                    data-testid=\"input-weight\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"text-xs text-muted-foreground mb-1\">Height (cm)</Label>\n                  <Input\n                    type=\"number\"\n                    value={healthData.height}\n                    onChange={(e) => handleInputChange('height', e.target.value)}\n                    className=\"h-9 bg-secondary border-input text-foreground text-sm\"\n                    data-testid=\"input-height\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"text-xs text-muted-foreground mb-1\">Last A1c (%)</Label>\n                  <Input\n                    type=\"number\"\n                    step=\"0.1\"\n                    value={healthData.lastA1c}\n                    onChange={(e) => handleInputChange('lastA1c', e.target.value)}\n                    className=\"h-9 bg-secondary border-input text-foreground text-sm\"\n                    data-testid=\"input-a1c\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"text-xs text-muted-foreground mb-1\">Typical Insulin (U)</Label>\n                  <Input\n                    type=\"number\"\n                    value={healthData.typicalInsulin}\n                    onChange={(e) => handleInputChange('typicalInsulin', e.target.value)}\n                    className=\"h-9 bg-secondary border-input text-foreground text-sm\"\n                    data-testid=\"input-insulin\"\n                  />\n                </div>\n              </div>\n              <div>\n                <Label className=\"text-xs text-muted-foreground mb-1\">Medications</Label>\n                <Input\n                  value={healthData.medications}\n                  onChange={(e) => handleInputChange('medications', e.target.value)}\n                  className=\"h-9 bg-secondary border-input text-foreground text-sm\"\n                  data-testid=\"input-medications\"\n                />\n              </div>\n            </div>\n\n            <Button\n              onClick={handleNextStep}\n              className=\"bg-primary hover:bg-primary/90 text-primary-foreground mt-4\"\n              data-testid=\"button-confirm\"\n            >\n              Confirm & Continue\n            </Button>\n          </div>\n        )}\n\n        {/* Step 4: Manual Entry */}\n        {step === 4 && (\n          <div className=\"flex flex-col flex-1\">\n            <h2 className=\"text-xl font-bold mb-2 text-foreground\">Enter Your Details</h2>\n            <p className=\"text-sm text-muted-foreground mb-4\">Fill in your health information manually</p>\n            \n            <div className=\"flex-1 overflow-y-auto space-y-3\">\n              <div className=\"grid grid-cols-2 gap-3\">\n                <div>\n                  <Label className=\"text-xs text-muted-foreground mb-1\">Name</Label>\n                  <Input\n                    value={healthData.name}\n                    onChange={(e) => handleInputChange('name', e.target.value)}\n                    className=\"h-9 bg-secondary border-input text-foreground text-sm\"\n                    data-testid=\"input-manual-name\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"text-xs text-muted-foreground mb-1\">Date of Birth</Label>\n                  <Input\n                    type=\"date\"\n                    value={healthData.dob}\n                    onChange={(e) => handleInputChange('dob', e.target.value)}\n                    className=\"h-9 bg-secondary border-input text-foreground text-sm\"\n                    data-testid=\"input-manual-dob\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"text-xs text-muted-foreground mb-1\">Weight (kg)</Label>\n                  <Input\n                    type=\"number\"\n                    value={healthData.weight}\n                    onChange={(e) => handleInputChange('weight', e.target.value)}\n                    className=\"h-9 bg-secondary border-input text-foreground text-sm\"\n                    data-testid=\"input-manual-weight\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"text-xs text-muted-foreground mb-1\">Height (cm)</Label>\n                  <Input\n                    type=\"number\"\n                    value={healthData.height}\n                    onChange={(e) => handleInputChange('height', e.target.value)}\n                    className=\"h-9 bg-secondary border-input text-foreground text-sm\"\n                    data-testid=\"input-manual-height\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"text-xs text-muted-foreground mb-1\">Typical Insulin (U)</Label>\n                  <Input\n                    type=\"number\"\n                    value={healthData.typicalInsulin}\n                    onChange={(e) => handleInputChange('typicalInsulin', e.target.value)}\n                    className=\"h-9 bg-secondary border-input text-foreground text-sm\"\n                    placeholder=\"Daily units\"\n                    data-testid=\"input-manual-insulin\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"text-xs text-muted-foreground mb-1\">Target Range</Label>\n                  <Input\n                    value={healthData.targetRange}\n                    onChange={(e) => handleInputChange('targetRange', e.target.value)}\n                    className=\"h-9 bg-secondary border-input text-foreground text-sm\"\n                    placeholder=\"e.g., 70-180\"\n                    data-testid=\"input-manual-range\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <Button\n              onClick={handleNextStep}\n              className=\"bg-primary hover:bg-primary/90 text-primary-foreground mt-4\"\n              data-testid=\"button-next-manual\"\n            >\n              Continue\n            </Button>\n          </div>\n        )}\n\n        {/* Step 5: Finish */}\n        {step === 5 && (\n          <div className=\"flex flex-col items-center justify-center flex-1 text-center\">\n            <div className=\"w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center mb-4\">\n              <Check className=\"w-8 h-8 text-primary\" />\n            </div>\n            <h2 className=\"text-2xl font-bold mb-3 text-foreground\">All Set!</h2>\n            <p className=\"text-muted-foreground mb-8 max-w-md\">\n              Your account is ready. You can now access personalized health insights and AI-powered insulin predictions.\n            </p>\n            <Button \n              onClick={handleNextStep}\n              className=\"bg-primary hover:bg-primary/90 text-primary-foreground\"\n              data-testid=\"button-go-dashboard\"\n            >\n              Go to Dashboard\n            </Button>\n          </div>\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n}\n","size_bytes":25641},"client/src/pages/VoiceAIPage.tsx":{"content":"import AppSidebar from '@/components/AppSidebar';\nimport VoiceAssistantCard from '@/components/VoiceAssistantCard';\nimport { Mic } from 'lucide-react';\n\nexport default function VoiceAIPage() {\n  return (\n    <div className=\"flex h-screen w-full bg-gradient-to-br from-neutral-900 via-zinc-900 to-neutral-950 relative overflow-hidden\">\n      <AppSidebar />\n      <div className=\"flex flex-col flex-1 overflow-hidden relative\" style={{ zIndex: 10, marginLeft: '320px' }}>\n        <header className=\"flex items-center justify-between border-b border-border\" style={{ height: '72px', padding: '0 24px' }}>\n          <div className=\"flex items-center gap-4\">\n            <Mic className=\"w-6 h-6 text-primary\" />\n            <h2 className=\"text-xl font-semibold\">Voice AI Assistant</h2>\n          </div>\n        </header>\n        \n        <main className=\"flex-1 overflow-y-auto\">\n          <div className=\"w-full\" style={{ padding: '24px 32px' }}>\n            <div className=\"mb-6\">\n              <h1 className=\"text-3xl font-bold mb-1\">Voice Assistant</h1>\n              <p className=\"text-muted-foreground\">Log meals and get insights using voice commands</p>\n            </div>\n\n            <div className=\"max-w-2xl\">\n              <VoiceAssistantCard\n                title=\"Voice Food Logging\"\n                subtitle=\"Tap the microphone to log your meal using voice\"\n                buttonText=\"Start Recording\"\n              />\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}\n","size_bytes":1513},"client/src/pages/InsulinPage.tsx":{"content":"import AppSidebar from '@/components/AppSidebar';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Droplet, TrendingUp } from 'lucide-react';\n\nexport default function InsulinPage() {\n  return (\n    <div className=\"flex h-screen w-full bg-gradient-to-br from-neutral-900 via-zinc-900 to-neutral-950 relative overflow-hidden\">\n      <AppSidebar />\n      <div className=\"flex flex-col flex-1 overflow-hidden relative\" style={{ zIndex: 10, marginLeft: '320px' }}>\n        <header className=\"flex items-center justify-between border-b border-border\" style={{ height: '72px', padding: '0 24px' }}>\n          <div className=\"flex items-center gap-4\">\n            <Droplet className=\"w-6 h-6 text-primary\" />\n            <h2 className=\"text-xl font-semibold\">Insulin Tracking</h2>\n          </div>\n        </header>\n        \n        <main className=\"flex-1 overflow-y-auto\">\n          <div className=\"w-full\" style={{ padding: '24px 32px' }}>\n            <div className=\"mb-6\">\n              <h1 className=\"text-3xl font-bold mb-1\">Insulin Management</h1>\n              <p className=\"text-muted-foreground\">Monitor and track your insulin doses</p>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <Card className=\"glass-card\">\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Droplet className=\"w-5 h-5 text-primary\" />\n                    Today's Insulin\n                  </CardTitle>\n                  <CardDescription>Total units administered</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <p className=\"text-4xl font-bold text-primary\">12.5 units</p>\n                </CardContent>\n              </Card>\n\n              <Card className=\"glass-card\">\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <TrendingUp className=\"w-5 h-5 text-primary\" />\n                    Weekly Average\n                  </CardTitle>\n                  <CardDescription>Average daily insulin</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <p className=\"text-4xl font-bold text-primary\">14.2 units</p>\n                </CardContent>\n              </Card>\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}\n","size_bytes":2453},"client/src/pages/GlucosePage.tsx":{"content":"import AppSidebar from '@/components/AppSidebar';\nimport { Activity } from 'lucide-react';\nimport GlucoseTrendChart from '@/components/GlucoseTrendChart';\n\nexport default function GlucosePage() {\n  return (\n    <div className=\"flex h-screen w-full bg-gradient-to-br from-neutral-900 via-zinc-900 to-neutral-950 relative overflow-hidden\">\n      <AppSidebar />\n      <div className=\"flex flex-col flex-1 overflow-hidden relative\" style={{ zIndex: 10, marginLeft: '320px' }}>\n        <header className=\"flex items-center justify-between border-b border-border\" style={{ height: '72px', padding: '0 24px' }}>\n          <div className=\"flex items-center gap-4\">\n            <Activity className=\"w-6 h-6 text-primary\" />\n            <h2 className=\"text-xl font-semibold\">Glucose Monitoring</h2>\n          </div>\n        </header>\n        \n        <main className=\"flex-1 overflow-y-auto\">\n          <div className=\"w-full\" style={{ padding: '24px 32px' }}>\n            <div className=\"mb-6\">\n              <h1 className=\"text-3xl font-bold mb-1\">Glucose Trends</h1>\n              <p className=\"text-muted-foreground\">Track your blood glucose levels over time</p>\n            </div>\n\n            <div className=\"space-y-6\">\n              <GlucoseTrendChart />\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}\n","size_bytes":1336},"client/src/pages/MedicationsPage.tsx":{"content":"import AppSidebar from '@/components/AppSidebar';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Pill, Clock } from 'lucide-react';\n\nexport default function MedicationsPage() {\n  const medications = [\n    {\n      id: 1,\n      name: 'Metformin',\n      dosage: '500mg',\n      frequency: 'Twice daily',\n      timing: 'Morning & Evening',\n    },\n    {\n      id: 2,\n      name: 'Insulin Glargine',\n      dosage: '10 units',\n      frequency: 'Once daily',\n      timing: 'Bedtime',\n    },\n  ];\n\n  return (\n    <div className=\"flex h-screen w-full bg-gradient-to-br from-neutral-900 via-zinc-900 to-neutral-950 relative overflow-hidden\">\n      <AppSidebar />\n      <div className=\"flex flex-col flex-1 overflow-hidden relative\" style={{ zIndex: 10, marginLeft: '320px' }}>\n        <header className=\"flex items-center justify-between border-b border-border\" style={{ height: '72px', padding: '0 24px' }}>\n          <div className=\"flex items-center gap-4\">\n            <Pill className=\"w-6 h-6 text-primary\" />\n            <h2 className=\"text-xl font-semibold\">Medications</h2>\n          </div>\n        </header>\n        \n        <main className=\"flex-1 overflow-y-auto\">\n          <div className=\"w-full\" style={{ padding: '24px 32px' }}>\n            <div className=\"mb-6\">\n              <h1 className=\"text-3xl font-bold mb-1\">My Medications</h1>\n              <p className=\"text-muted-foreground\">Track your prescribed medications</p>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              {medications.map((med) => (\n                <Card key={med.id} className=\"glass-card\">\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center gap-2\">\n                      <Pill className=\"w-5 h-5 text-primary\" />\n                      {med.name}\n                    </CardTitle>\n                    <CardDescription>{med.dosage}</CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"space-y-2\">\n                    <div className=\"flex items-center gap-2 text-sm\">\n                      <Clock className=\"w-4 h-4 text-muted-foreground\" />\n                      <span>{med.frequency}</span>\n                    </div>\n                    <div className=\"text-sm text-muted-foreground\">\n                      {med.timing}\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}\n","size_bytes":2572},"client/src/components/SettingsDrawer.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { X, Moon, Sun, Bell, BellOff, Database, RotateCcw, Activity } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Switch } from '@/components/ui/switch';\nimport { Label } from '@/components/ui/label';\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\nimport { Separator } from '@/components/ui/separator';\nimport { useToast } from '@/hooks/use-toast';\n\ninterface SettingsDrawerProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport default function SettingsDrawer({ isOpen, onClose }: SettingsDrawerProps) {\n  const { toast } = useToast();\n  const [theme, setTheme] = useState('dark');\n  const [notifications, setNotifications] = useState(true);\n  const [units, setUnits] = useState('mg/dL');\n\n  // Load settings from localStorage on mount\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('theme') || 'dark';\n    const savedNotifications = localStorage.getItem('notifications') !== 'false';\n    const savedUnits = localStorage.getItem('units') || 'mg/dL';\n    \n    setTheme(savedTheme);\n    setNotifications(savedNotifications);\n    setUnits(savedUnits);\n  }, [isOpen]);\n\n  const handleThemeChange = (newTheme: string) => {\n    setTheme(newTheme);\n    localStorage.setItem('theme', newTheme);\n    toast({\n      title: 'Theme Updated',\n      description: `Switched to ${newTheme} mode`,\n    });\n  };\n\n  const handleNotificationsChange = (enabled: boolean) => {\n    setNotifications(enabled);\n    localStorage.setItem('notifications', enabled.toString());\n    toast({\n      title: enabled ? 'Notifications Enabled' : 'Notifications Disabled',\n    });\n  };\n\n  const handleUnitsChange = (newUnits: string) => {\n    setUnits(newUnits);\n    localStorage.setItem('units', newUnits);\n    toast({\n      title: 'Units Updated',\n      description: `Changed to ${newUnits}`,\n    });\n  };\n\n  const handleExportData = () => {\n    toast({\n      title: 'Export Started',\n      description: 'Your data export will begin shortly',\n    });\n  };\n\n  const handleResetOnboarding = () => {\n    localStorage.removeItem('onboardingCompleted');\n    localStorage.removeItem('onboardingSkipped');\n    toast({\n      title: 'Onboarding Reset',\n      description: 'You can now re-run the tutorial on next page load',\n    });\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <>\n      {/* Backdrop */}\n      <div \n        className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] animate-in fade-in duration-200\"\n        onClick={onClose}\n        data-testid=\"settings-backdrop\"\n      />\n\n      {/* Drawer */}\n      <div \n        className=\"fixed right-0 top-0 h-screen w-[420px] flex flex-col bg-[rgba(7,12,15,0.85)] backdrop-blur-md shadow-2xl z-[70] animate-in slide-in-from-right duration-300\"\n        style={{\n          background: 'radial-gradient(ellipse 120% 100% at 100% 50%, rgba(7,12,15,0.7) 0%, rgba(7,12,15,0.85) 50%, rgba(7,12,15,0.95) 100%)',\n          borderLeft: '1px solid rgba(33,200,155,0.1)',\n        }}\n        data-testid=\"settings-drawer\"\n      >\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-white/10\">\n          <h2 className=\"text-xl font-bold text-white\">Settings</h2>\n          <button\n            onClick={onClose}\n            className=\"w-8 h-8 rounded-lg flex items-center justify-center text-[#CAD6D4] hover:text-white hover:bg-white/5 transition-colors\"\n            data-testid=\"button-close-settings\"\n            aria-label=\"Close settings\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Scrollable Content */}\n        <div className=\"flex-1 overflow-y-auto p-6 space-y-6 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-primary/30 hover:scrollbar-thumb-primary/50\">\n          \n          {/* Theme Section */}\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center gap-2\">\n              {theme === 'dark' ? <Moon className=\"w-4 h-4 text-primary\" /> : <Sun className=\"w-4 h-4 text-primary\" />}\n              <h3 className=\"text-sm font-semibold text-white\">Theme</h3>\n            </div>\n            <RadioGroup value={theme} onValueChange={handleThemeChange}>\n              <div className=\"flex items-center space-x-2\">\n                <RadioGroupItem value=\"light\" id=\"light\" data-testid=\"radio-theme-light\" />\n                <Label htmlFor=\"light\" className=\"text-[#CAD6D4] cursor-pointer\">Light</Label>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <RadioGroupItem value=\"dark\" id=\"dark\" data-testid=\"radio-theme-dark\" />\n                <Label htmlFor=\"dark\" className=\"text-[#CAD6D4] cursor-pointer\">Dark</Label>\n              </div>\n            </RadioGroup>\n          </div>\n\n          <Separator className=\"bg-white/10\" />\n\n          {/* Notifications Section */}\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center gap-2\">\n              {notifications ? <Bell className=\"w-4 h-4 text-primary\" /> : <BellOff className=\"w-4 h-4 text-primary\" />}\n              <h3 className=\"text-sm font-semibold text-white\">Notifications</h3>\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <Label htmlFor=\"notifications\" className=\"text-[#CAD6D4]\">Enable notifications</Label>\n              <Switch \n                id=\"notifications\" \n                checked={notifications} \n                onCheckedChange={handleNotificationsChange}\n                data-testid=\"switch-notifications\"\n              />\n            </div>\n          </div>\n\n          <Separator className=\"bg-white/10\" />\n\n          {/* Units Section */}\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center gap-2\">\n              <Activity className=\"w-4 h-4 text-primary\" />\n              <h3 className=\"text-sm font-semibold text-white\">Units</h3>\n            </div>\n            <RadioGroup value={units} onValueChange={handleUnitsChange}>\n              <div className=\"flex items-center space-x-2\">\n                <RadioGroupItem value=\"mg/dL\" id=\"mgdl\" data-testid=\"radio-units-mgdl\" />\n                <Label htmlFor=\"mgdl\" className=\"text-[#CAD6D4] cursor-pointer\">mg/dL</Label>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <RadioGroupItem value=\"mmol/L\" id=\"mmol\" data-testid=\"radio-units-mmol\" />\n                <Label htmlFor=\"mmol\" className=\"text-[#CAD6D4] cursor-pointer\">mmol/L</Label>\n              </div>\n            </RadioGroup>\n          </div>\n\n          <Separator className=\"bg-white/10\" />\n\n          {/* Data & Privacy Section */}\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center gap-2\">\n              <Database className=\"w-4 h-4 text-primary\" />\n              <h3 className=\"text-sm font-semibold text-white\">Data & Privacy</h3>\n            </div>\n            <Button \n              onClick={handleExportData}\n              variant=\"outline\"\n              className=\"w-full justify-start bg-white/5 border-white/10 text-[#CAD6D4] hover:bg-white/10 hover:text-white\"\n              data-testid=\"button-export-data\"\n            >\n              Export My Data\n            </Button>\n          </div>\n\n          <Separator className=\"bg-white/10\" />\n\n          {/* Onboarding Section */}\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center gap-2\">\n              <RotateCcw className=\"w-4 h-4 text-primary\" />\n              <h3 className=\"text-sm font-semibold text-white\">Onboarding</h3>\n            </div>\n            <Button \n              onClick={handleResetOnboarding}\n              variant=\"outline\"\n              className=\"w-full justify-start bg-white/5 border-white/10 text-[#CAD6D4] hover:bg-white/10 hover:text-white\"\n              data-testid=\"button-reset-onboarding\"\n            >\n              Reset Tutorial\n            </Button>\n            <p className=\"text-xs text-[#9AA8A6]\">\n              Re-run the first-time setup tutorial on next page load\n            </p>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"p-6 border-t border-white/10\">\n          <p className=\"text-xs text-[#9AA8A6] text-center\">\n            Settings are saved automatically\n          </p>\n        </div>\n      </div>\n    </>\n  );\n}\n","size_bytes":8398},"client/src/pages/DoctorsPage.tsx":{"content":"import AppSidebar from '@/components/AppSidebar';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Heart, Phone, Mail, MapPin } from 'lucide-react';\n\nexport default function DoctorsPage() {\n  const doctors = [\n    {\n      id: 1,\n      name: 'Dr. Sarah Johnson',\n      specialty: 'Endocrinologist',\n      phone: '+1 (555) 123-4567',\n      email: 'sarah.johnson@hospital.com',\n      location: 'City Medical Center',\n    },\n    {\n      id: 2,\n      name: 'Dr. Michael Chen',\n      specialty: 'Diabetes Specialist',\n      phone: '+1 (555) 987-6543',\n      email: 'michael.chen@clinic.com',\n      location: 'Downtown Health Clinic',\n    },\n  ];\n\n  return (\n    <div className=\"flex h-screen w-full bg-gradient-to-br from-neutral-900 via-zinc-900 to-neutral-950 relative overflow-hidden\">\n      <AppSidebar />\n      <div className=\"flex flex-col flex-1 overflow-hidden relative\" style={{ zIndex: 10, marginLeft: '320px' }}>\n        <header className=\"flex items-center justify-between border-b border-border\" style={{ height: '72px', padding: '0 24px' }}>\n          <div className=\"flex items-center gap-4\">\n            <Heart className=\"w-6 h-6 text-primary\" />\n            <h2 className=\"text-xl font-semibold\">My Doctors</h2>\n          </div>\n        </header>\n        \n        <main className=\"flex-1 overflow-y-auto\">\n          <div className=\"w-full\" style={{ padding: '24px 32px' }}>\n            <div className=\"mb-6\">\n              <h1 className=\"text-3xl font-bold mb-1\">Healthcare Team</h1>\n              <p className=\"text-muted-foreground\">Your diabetes care specialists</p>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              {doctors.map((doctor) => (\n                <Card key={doctor.id} className=\"glass-card\">\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center gap-2\">\n                      <Heart className=\"w-5 h-5 text-primary\" />\n                      {doctor.name}\n                    </CardTitle>\n                    <CardDescription>{doctor.specialty}</CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"space-y-3\">\n                    <div className=\"flex items-center gap-2 text-sm\">\n                      <Phone className=\"w-4 h-4 text-muted-foreground\" />\n                      <span>{doctor.phone}</span>\n                    </div>\n                    <div className=\"flex items-center gap-2 text-sm\">\n                      <Mail className=\"w-4 h-4 text-muted-foreground\" />\n                      <span>{doctor.email}</span>\n                    </div>\n                    <div className=\"flex items-center gap-2 text-sm\">\n                      <MapPin className=\"w-4 h-4 text-muted-foreground\" />\n                      <span>{doctor.location}</span>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}\n","size_bytes":3047}},"version":2}